/*! For license information please see main.876b9f21.js.LICENSE.txt */
(()=>{var e={450:function(e,t,n){var r,i,s;i=[],void 0===(s="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,n){var o=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):i(l.href)?r(e,t,n):s(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(i(e))r(e,n,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){s(o)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=s)},159:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var s=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,o,l,c,u=[],h=0,d=e.length,f=d,p="string"!==r.getTypeOf(e);h<e.length;)f=d-h,i=p?(t=e[h++],n=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),n=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),a=t>>2,o=(3&t)<<4|n>>4,l=1<f?(15&n)<<2|i>>6:64,c=2<f?63&i:64,u.push(s.charAt(a)+s.charAt(o)+s.charAt(l)+s.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,a,o,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(a=s.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(o=s.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(l=s.indexOf(e.charAt(c++))),d[u++]=t,64!==o&&(d[u++]=n),64!==l&&(d[u++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function o(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t[o])];return~e}(0|t,e,e.length,0):function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),o=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",s.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,u){var h,d,f=e.file,p=e.compression,m=u!==o.utf8encode,g=s.transformTo("string",u(f.name)),v=s.transformTo("string",o.utf8encode(f.name)),y=f.comment,b=s.transformTo("string",u(y)),w=s.transformTo("string",o.utf8encode(y)),x=v.length!==f.name.length,_=w.length!==y.length,k="",S="",E="",C=f.dir,T=f.date,N={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(N.crc32=e.crc32,N.compressedSize=e.compressedSize,N.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),m||!x&&!_||(D|=2048);var A=0,I=0;C&&(A|=16),"UNIX"===a?(I=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,C)):(I=20,A|=function(e){return 63&(e||0)}(f.dosPermissions)),h=T.getUTCHours(),h<<=6,h|=T.getUTCMinutes(),h<<=5,h|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),x&&(S=r(1,1)+r(l(g),4)+v,k+="up"+r(S.length,2)+S),_&&(E=r(1,1)+r(l(b),4)+w,k+="uc"+r(E.length,2)+E);var O="";return O+="\n\0",O+=r(D,2),O+=p.magic,O+=r(h,2),O+=r(d,2),O+=r(N.crc32,4),O+=r(N.compressedSize,4),O+=r(N.uncompressedSize,4),O+=r(g.length,2),O+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+O+g+k,dirRecord:c.CENTRAL_FILE_HEADER+r(I,2)+O+r(b.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+g+k+b}}var s=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var o=s.transformTo("string",a(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var s=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),o=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,o).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=a}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),s=e("./utf8"),a=e("./zipEntries"),o=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new o);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(c(r[s]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a],l=o.fileNameStr,c=r.resolve(o.fileNameStr);n.file(c,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(c).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=s.getTypeOf(t),o=s.extend(n||{},l);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(r=p(e))&&g.call(this,r,!0);var h="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!h),(t instanceof c&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var v=null;v=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):s.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var y=new u(e,v,o);this.files[e]=y}var i=e("./utf8"),s=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),s=e("./ArrayReader"),a=e("./StringReader"),o=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new l(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),a=e("../base64"),o=e("../support"),l=e("../external"),c=null;if(o.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,i){var s=[],o=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){s.push(e),t&&t(n)})).on("error",(function(e){s=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,s=0;for(n=0;n<t.length;n++)s+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),c);n(e)}catch(e){i(e)}s=[]})).resume()}))}function h(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodejsUtils"),a=e("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,s,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if(4<(s=o[i]))l[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<a;)i=i<<6|63&e[t++],s--;1<s?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),s=e("./nodejsUtils"),a=e("./external");function o(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,s)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var d={};d.string={string:o,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},d.array={string:u,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},d.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s.newBufferFrom(e)}},d.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,o,c){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):s&&!0!==o&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),a=e("./zipEntry"),o=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./compressedObject"),a=e("./crc32"),o=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)r.prototype[c[h]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(u),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var s={},a=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function i(t){n||(n=!0,s.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===o?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),o=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++o!==n||r||(r=!0,s.resolve(c,a))}),(function(e){r||(r=!0,s.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,o=-1,l=new this(i);++o<n;)a=e[o],t.resolve(a).then((function(e){r||(r=!0,s.resolve(l,e))}),(function(e){r||(r=!0,s.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/messages"),o=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(u),o.next_out=0,o.avail_out=u),1!==(n=r.deflate(o,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(o.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/constants"),o=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,l,c,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),c=f.next_out-l,h=s.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&i.arraySet(f.output,f.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,o=t||e.length,c=new Array(2*o);for(n=r=0;n<o;)if((i=e[n++])<128)c[r++]=i;else if(4<(s=a[i]))c[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<o;)i=i<<6|63&e[n++],s--;1<s?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,s=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;s=s+(i=i+t[r++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t[o])];return~e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),s=e("./trees"),a=e("./adler32"),o=e("./crc32"),l=e("./messages"),c=0,u=4,h=0,d=-2,f=-1,p=4,m=2,g=8,v=9,y=286,b=30,w=19,x=2*y+1,_=15,k=3,S=258,E=S+k+1,C=42,T=113,N=1,D=2,A=3,I=4;function O(e,t){return e.msg=l[t],t}function j(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function R(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+S,f=c[s+a-1],p=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<d);if(r=S-(d-s),s=d-S,a<r){if(e.match_start=t,o<=(a=r))break;f=c[s+a-1],p=c[s+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function B(e){var t,n,r,s,l,c,u,h,d,f,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);s+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,f=void 0,(d=s)<(f=c.avail_in)&&(f=d),n=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=a(c.adler,u,f,h):2===c.state.wrap&&(c.adler=o(c.adler,u,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return N;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=z(e,n)),e.match_length>=k)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(R(e,!1),0===e.strm.avail_out))return N}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(R(e,!0),0===e.strm.avail_out?A:I):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?N:D}function V(e,t){for(var n,r,i;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return N;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=z(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(R(e,!1),0===e.strm.avail_out))return N}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&R(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return N}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(R(e,!0),0===e.strm.avail_out?A:I):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?N:D}function W(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*y+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:T,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),h):O(e,d)}function K(e){var t=q(e);return t===h&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function G(e,t,n,r,s,a){if(!e)return d;var o=1;if(t===f&&(t=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),s<1||v<s||n!==g||r<8||15<r||t<0||9<t||a<0||p<a)return O(e,d);8===r&&(r=9);var l=new H;return(e.state=l).strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,K(e)}r=[new W(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===c)return N;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,R(e,!1),0===e.strm.avail_out))return N;if(e.strstart-e.block_start>=e.w_size-E&&(R(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(R(e,!0),0===e.strm.avail_out?A:I):(e.strstart>e.block_start&&(R(e,!1),e.strm.avail_out),N)})),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,V),new W(8,16,32,32,V),new W(8,16,128,128,V),new W(8,32,128,256,V),new W(32,128,258,1024,V),new W(32,258,258,4096,V)],n.deflateInit=function(e,t){return G(e,t,g,15,8,0)},n.deflateInit2=G,n.deflateReset=K,n.deflateResetKeep=q,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?O(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return O(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,L(i,31),L(i,139),L(i,8),i.gzhead?(L(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),L(i,255&i.gzhead.time),L(i,i.gzhead.time>>8&255),L(i,i.gzhead.time>>16&255),L(i,i.gzhead.time>>24&255),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(L(i,255&i.gzhead.extra.length),L(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(L(i,0),L(i,0),L(i,0),L(i,0),L(i,0),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,3),i.status=T);else{var f=g+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=T,F(i,f),0!==i.strstart&&(F(i,e.adler>>>16),F(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),P(e),a=i.pending,i.pending!==i.pending_buf_size));)L(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),P(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,L(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),P(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,L(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&P(e),i.pending+2<=i.pending_buf_size&&(L(i,255&e.adler),L(i,e.adler>>8&255),e.adler=0,i.status=T)):i.status=T),0!==i.pending){if(P(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&j(t)<=j(n)&&t!==u)return O(e,-5);if(666===i.status&&0!==e.avail_in)return O(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===c)return N;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(R(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(R(e,!0),0===e.strm.avail_out?A:I):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?N:D}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=S){if(B(e),e.lookahead<=S&&t===c)return N;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=e.strstart+S;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=S-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=s._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(R(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===u?(R(e,!0),0===e.strm.avail_out?A:I):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?N:D}(i,t):r[i.level].func(i,t);if(p!==A&&p!==I||(i.status=666),p===N||p===A)return 0===e.avail_out&&(i.last_flush=-1),h;if(p===D&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(M(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),P(e),0===e.avail_out))return i.last_flush=-1,h}return t!==u?h:i.wrap<=0?1:(2===i.wrap?(L(i,255&e.adler),L(i,e.adler>>8&255),L(i,e.adler>>16&255),L(i,e.adler>>24&255),L(i,255&e.total_in),L(i,e.total_in>>8&255),L(i,e.total_in>>16&255),L(i,e.total_in>>24&255)):(F(i,e.adler>>>16),F(i,65535&e.adler)),P(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==T&&666!==t?O(e,d):(e.state=null,t===T?O(e,-3):h):d},n.deflateSetDictionary=function(e,t){var n,r,s,o,l,c,u,f,p=t.length;if(!e||!e.state)return d;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==C||n.lookahead)return d;for(1===o&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(n);n.lookahead>=k;){for(r=n.strstart,s=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=k-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=o,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b,w,x,_,k,S,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=m[f&v];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(f+=E[r++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=g[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(w&=15)&&(f+=E[r++]<<p,(p+=8)<w&&(f+=E[r++]<<p,p+=8)),l<(_+=f&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,p-=w,(w=s-a)<_){if(u<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=d,(k=0)===h){if(k+=c-w,w<x){for(x-=w;C[s++]=d[k++],--w;);k=s-_,S=C}}else if(h<w){if(k+=c+h-w,(w-=h)<x){for(x-=w;C[s++]=d[k++],--w;);if(k=0,h<x){for(x-=w=h;C[s++]=d[k++],--w;);k=s-_,S=C}}}else if(k+=h-w,w<x){for(x-=w;C[s++]=d[k++],--w;);k=s-_,S=C}for(;2<x;)C[s++]=S[k++],C[s++]=S[k++],C[s++]=S[k++],x-=3;x&&(C[s++]=S[k++],1<x&&(C[s++]=S[k++]))}else{for(k=s-_;C[s++]=C[k++],C[s++]=C[k++],C[s++]=C[k++],2<(x-=3););x&&(C[s++]=C[k++],1<x&&(C[s++]=C[k++]))}break}}break}}while(r<i&&s<o);r-=x=p>>3,f&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<o?o-s+257:257-(s-o),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),a=e("./inffast"),o=e("./inftrees"),l=1,c=2,u=0,h=-2,d=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):h}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):h}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):h}function w(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=b(e,t))!==u&&(e.state=null),n):h}var x,_,k=!0;function S(e){if(k){var t;for(x=new r.Buf32(512),_=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(l,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(c,e.lens,0,32,_,0,e.work,{bits:5}),k=!1}e.lencode=x,e.lenbits=9,e.distcode=_,e.distbits=5}function E(e,t,n,i){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(s=a.wsize-a.wnext)&&(s=i),r.arraySet(a.window,t,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=v,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,f,p,g,v,y,b,w,x,_,k,C,T,N,D,A,I,O,j,M,P,R,L,F,z=0,B=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,x=n.bits,_=y,k=b,R=u;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(2&n.wrap&&35615===w){B[n.check=0]=255&w,B[1]=w>>>8&255,n.check=s(n.check,B,2,0),x=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(x-=4,P=8+(15&(w>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&w?10:12,x=w=0;break;case 2:for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=s(n.check,B,2,0)),x=w=0,n.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.head&&(n.head.time=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,n.check=s(n.check,B,4,0)),x=w=0,n.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=s(n.check,B,2,0)),x=w=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=s(n.check,B,2,0)),x=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,g,C,P)),512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;P=f[g+C++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&C<y;);if(512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;P=f[g+C++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&C<y;);if(512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}x=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}e.adler=n.check=m(w),x=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}switch(n.last=1&w,x-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==t)break;w>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,x=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),b<C&&(C=b),0===C)break e;r.arraySet(p,f,g,C,v),y-=C,g+=C,b-=C,v+=C,n.length-=C;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(n.nlen=257+(31&w),w>>>=5,x-=5,n.ndist=1+(31&w),w>>>=5,x-=5,n.ncode=4+(15&w),w>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.lens[U[n.have++]]=7&w,w>>>=3,x-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},R=o(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(z=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,I=65535&z,!((D=z>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(I<16)w>>>=D,x-=D,n.lens[n.have++]=I;else{if(16===I){for(F=D+2;x<F;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w>>>=D,x-=D,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],C=3+(3&w),w>>>=2,x-=2}else if(17===I){for(F=D+3;x<F;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}x-=D,P=0,C=3+(7&(w>>>=D)),w>>>=3,x-=3}else{for(F=D+7;x<F;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}x-=D,P=0,C=11+(127&(w>>>=D)),w>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},R=o(l,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},R=o(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,a(e,k),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(z=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,I=65535&z,!((D=z>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(A&&0==(240&A)){for(O=D,j=A,M=I;A=(z=n.lencode[M+((w&(1<<O+j)-1)>>O)])>>>16&255,I=65535&z,!(O+(D=z>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}w>>>=O,x-=O,n.back+=O}if(w>>>=D,x-=D,n.back+=D,n.length=I,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(F=n.extra;x<F;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(z=n.distcode[w&(1<<n.distbits)-1])>>>16&255,I=65535&z,!((D=z>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(0==(240&A)){for(O=D,j=A,M=I;A=(z=n.distcode[M+((w&(1<<O+j)-1)>>O)])>>>16&255,I=65535&z,!(O+(D=z>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}w>>>=O,x-=O,n.back+=O}if(w>>>=D,x-=D,n.back+=D,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(F=n.extra;x<F;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=k-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}T=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),N=n.window}else N=p,T=v-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;p[v++]=N[T++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[v++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break e;y--,w|=f[g++]<<x,x+=8}if(k-=b,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?s(n.check,p,k,v-k):i(n.check,p,k,v-k)),k=b,(n.flags?w:m(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}x=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}x=w=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return h}return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?s(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===k||4===t)&&R===u&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:((n.head=t).done=!1,u):h},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&i(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,d){var f,p,m,g,v,y,b,w,x,_=d.bits,k=0,S=0,E=0,C=0,T=0,N=0,D=0,A=0,I=0,O=0,j=null,M=0,P=new r.Buf16(16),R=new r.Buf16(16),L=null,F=0;for(k=0;k<=15;k++)P[k]=0;for(S=0;S<l;S++)P[t[n+S]]++;for(T=_,C=15;1<=C&&0===P[C];C--);if(C<T&&(T=C),0===C)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(E=1;E<C&&0===P[E];E++);for(T<E&&(T=E),k=A=1;k<=15;k++)if(A<<=1,(A-=P[k])<0)return-1;if(0<A&&(0===e||1!==C))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+P[k];for(S=0;S<l;S++)0!==t[n+S]&&(h[R[t[n+S]]++]=S);if(y=0===e?(j=L=h,19):1===e?(j=i,M-=257,L=s,F-=257,256):(j=a,L=o,-1),k=E,v=u,D=S=O=0,m=-1,g=(I=1<<(N=T))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(b=k-D,x=h[S]<y?(w=0,h[S]):h[S]>y?(w=L[F+h[S]],j[M+h[S]]):(w=96,0),f=1<<k-D,E=p=1<<N;c[v+(O>>D)+(p-=f)]=b<<24|w<<16|x,0!==p;);for(f=1<<k-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,S++,0==--P[k]){if(k===C)break;k=t[n+h[S]]}if(T<k&&(O&g)!==m){for(0===D&&(D=T),v+=E,A=1<<(N=k-D);N+D<C&&!((A-=P[N+D])<=0);)N++,A<<=1;if(I+=1<<N,1===e&&852<I||2===e&&592<I)return 1;c[m=O&g]=T<<24|N<<16|v-u}}return 0!==O&&(c[v+O]=k-D<<24|64<<16),d.bits=T,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,s=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,l=29,c=256,u=c+1+l,h=30,d=19,f=2*u+1,p=15,m=16,g=7,v=256,y=16,b=17,w=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(u+2));a(E);var C=new Array(2*h);a(C);var T=new Array(512);a(T);var N=new Array(256);a(N);var D=new Array(l);a(D);var A,I,O,j=new Array(h);function M(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?T[e]:T[256+(e>>>7)]}function L(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){F(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,s=new Array(p+1),a=0;for(r=1;r<=p;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=B(s[o]++,o))}}function V(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?L(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function q(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function K(e,t,n){var r,i,s,a,o=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?z(e,i,t):(z(e,(s=N[i])+c+1,t),0!==(a=x[s])&&F(e,i-=D[s],a),z(e,s=R(--r),n),0!==(a=_[s])&&F(e,r-=j[s],a)),o<e.last_lit;);z(e,v,t)}function G(e,t){var n,r,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)q(e,s,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,q(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,a,o,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)g<(s=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(s=g,v++),l[2*r+1]=s,c<r||(e.bl_count[s]++,a=0,m<=r&&(a=d[r-m]),o=l[2*r],e.opt_len+=o*(s+a),h&&(e.static_len+=o*(u[2*r+1]+a)));if(0!==v){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(s=g;0!==s;s--)for(r=e.bl_count[s];0!==r;)c<(i=e.heap[--n])||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}(e,t),U(s,c,e.bl_count)}function Y(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):o<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,s=i,c=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function Q(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<l&&i===a)){if(o<c)for(;z(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(z(e,i,e.bl_tree),o--),z(e,y,e.bl_tree),F(e,o-3,2)):o<=10?(z(e,b,e.bl_tree),F(e,o-3,3)):(z(e,w,e.bl_tree),F(e,o-11,7));s=i,c=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}a(j);var X=!1;function $(e,t,n,i){F(e,(o<<1)+(i?1:0),3),function(e,t,n,i){W(e),i&&(L(e,n),L(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){X||(function(){var e,t,n,r,i,s=new Array(p+1);for(r=n=0;r<l-1;r++)for(D[r]=n,e=0;e<1<<x[r];e++)N[n++]=r;for(N[n-1]=r,r=i=0;r<16;r++)for(j[r]=i,e=0;e<1<<_[r];e++)T[i++]=r;for(i>>=7;r<h;r++)for(j[r]=i<<7,e=0;e<1<<_[r]-7;e++)T[256+i++]=r;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,s[8]++;for(;e<=255;)E[2*e+1]=9,e++,s[9]++;for(;e<=279;)E[2*e+1]=7,e++,s[7]++;for(;e<=287;)E[2*e+1]=8,e++,s[8]++;for(U(E,u+1,s),e=0;e<h;e++)C[2*e+1]=5,C[2*e]=B(e,5);A=new M(E,x,c+1,u,p),I=new M(C,_,0,h,p),O=new M(new Array(0),k,0,d,g)}(),X=!0),e.l_desc=new P(e.dyn_ltree,A),e.d_desc=new P(e.dyn_dtree,I),e.bl_desc=new P(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,V(e)},n._tr_stored_block=$,n._tr_flush_block=function(e,t,n,r){var a,o,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return s;return i}(e)),G(e,e.l_desc),G(e,e.d_desc),l=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=n+5,n+4<=a&&-1!==t?$(e,t,n,r):4===e.strategy||o===a?(F(e,2+(r?1:0),3),K(e,E,C)):(F(e,4+(r?1:0),3),function(e,t,n,r){var i;for(F(e,t-257,5),F(e,n-1,5),F(e,r-4,4),i=0;i<r;i++)F(e,e.bl_tree[2*S[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),K(e,e.dyn_ltree,e.dyn_dtree)),V(e),r&&W(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(N[n]+c+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){F(e,2,3),z(e,v,E),function(e){16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,s,a=1,o={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return o[a]=i,n(a),a++},u.clearImmediate=h}function h(e){delete o[e]}function d(e){if(l)setTimeout(d,0,e);else{var n=o[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{h(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},788:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,o)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(457));function a(e){let t,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const o=()=>r(this,void 0,void 0,(function*(){if(void 0!==t)return;const o=o=>r(this,void 0,void 0,(function*(){i=s.default();const r=o[1][a]-Date.now();return r<=0?(e.delete(o[0]),void i.resolve()):(t=o[0],n=setTimeout((()=>{e.delete(o[0]),i&&i.resolve()}),r),"function"===typeof n.unref&&n.unref(),i.promise)}));try{for(const t of e)yield o(t)}catch(l){}t=void 0})),l=e.set.bind(e);return e.set=(r,s)=>{e.has(r)&&e.delete(r);const a=l(r,s);return t&&t===r&&(t=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),o(),a},o(),e}t.default=a,e.exports=a,e.exports.default=a},922:(e,t,n)=>{"use strict";const r=n(149),i=n(788),s=new WeakMap,a=new WeakMap,o=function(e){let{cacheKey:t,cache:n=new Map,maxAge:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof s&&i(n);const o=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=t?t(i):i[0],l=n.get(o);if(l)return l.data;const c=e.apply(this,i);return n.set(o,{data:c,maxAge:s?Date.now()+s:Number.POSITIVE_INFINITY}),c};return r(o,e,{ignoreNonConfigurable:!0}),a.set(o,n),o};o.decorator=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n,r)=>{const i=t[n];if("function"!==typeof i)throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!s.has(this)){const t=o(i,e);return s.set(this,t),t}return s.get(this)}}},o.clear=e=>{const t=a.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},e.exports=o},149:e=>{"use strict";const t=(e,t,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!n(s,a)&&i||Object.defineProperty(e,r,a)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,n){let{ignoreNonConfigurable:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:o}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,a);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const a=""===n?"":"with ".concat(n.trim(),"() "),o=r.bind(null,a,t.toString());Object.defineProperty(o,"name",s),Object.defineProperty(e,"toString",{...i,value:o})})(e,n,o),e}},457:e=>{"use strict";e.exports=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function De(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==ke||null!==Se)&&(De(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){je=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){je=!1}function Pe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,i,s,a,o,l){Re=!1,Le=null,Pe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Et,Ct=!1,Tt=[],Nt=null,Dt=null,At=null,It=new Map,Ot=new Map,jt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Dt&&Ft(Dt)&&(Dt=null),null!==At&&Ft(At)&&(At=null),It.forEach(zt),Ot.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Dt&&Ut(Dt,e),null!==At&&Ut(At,e),It.forEach(t),Ot.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Lt(n),null===n.blockedOn&&jt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Kt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Rt(Nt,e,t,n,r,i),!0;case"dragenter":return Dt=Rt(Dt,e,t,n,r,i),!0;case"mouseover":return At=Rt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return It.set(s,Rt(It.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Rt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=L({},cn,{view:0,detail:0}),dn=sn(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},hn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Cn=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Cn),Nn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(In),jn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Pn,Ln=u&&(!Mn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];qn(t,Gn,e,xe(e)),Ie(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Nr=Er("animationstart"),Dr=Er("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var jr=0;jr<Ir.length;jr++){var Mr=Ir[jr];Or(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=s,i=xe(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Cr:case Tr:case Nr:l=vn;break;case Dr:l=An;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(qr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(a,o,l,u,!1),null!==c&&null!==h&&Yr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if($n)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Zt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Jt=Zt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Oe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ci(e,t){ki++,_i[ki]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Di=Si(!1),Ai=Ti;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ei(Di),Ei(Ni)}function Mi(e,t,n){if(Ni.current!==Ti)throw Error(s(168));Ci(Ni,t),Ci(Di,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ni.current,Ci(Ni,e),Ci(Di,Di.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Di),Ei(Ni),Ci(Ni,e)):Ei(Di),Ci(Di,n)}var Fi=null,zi=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Je,Vi),i}finally{bt=t,Bi=!1}}return null}var Wi=[],Hi=0,qi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Zi(e,t){Wi[Hi++]=Ki,Wi[Hi++]=qi,qi=e,Ki=t}function Ji(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ts(e){for(;e===qi;)qi=Wi[--Hi],Wi[Hi]=null,Ki=Wi[--Hi],Wi[Hi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Zi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Pc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(P(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=Si(null),ks=null,Ss=null,Es=null;function Cs(){Es=Ss=ks=null}function Ts(e){var t=_s.current;Ei(_s),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ds(e,t){ks=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Is=null;function Os(e){null===Is?Is=[e]:Is.push(e)}function js(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Ps=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=h}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=Si(Hs),Ks=Si(Hs),Gs=Si(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Gs,t),Ci(Ks,e),Ci(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Ci(qs,t)}function Xs(){Ei(qs),Ei(Ks),Ei(Gs)}function $s(e){Ys(Gs.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Ci(Ks,e),Ci(qs,n))}function Zs(e){Ks.current===e&&(Ei(qs),Ei(Ks))}var Js=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:Ja,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=$a,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Rl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ka(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Pa(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,Ea.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Na(e)}function Ca(e,t,n){return n((function(){Ta(t)&&Na(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Na(e){var t=Ms(e,1);null!==t&&nc(t,e,1,-1)}function Da(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ya().memoizedState}function Oa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Ma(e,t){return Oa(8390656,8,e,t)}function Pa(e,t){return ja(2048,8,e,t)}function Ra(e,t){return ja(4,2,e,t)}function La(e,t){return ja(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Fa.bind(null,t,e),n)}function Ba(){}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ya().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Qa(t,n);else if(null!==(n=js(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=js(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $a={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Da,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Dl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:As,useCallback:Ua,useContext:As,useEffect:Pa,useImperativeHandle:za,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:Va,useReducer:wa,useRef:Ia,useState:function(){return wa(ba)},useDebugValue:Ba,useDeferredValue:function(e){return Wa(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Ua,useContext:As,useEffect:Pa,useImperativeHandle:za,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:Va,useReducer:xa,useRef:Ia,useState:function(){return xa(ba)},useDebugValue:Ba,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Wa(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nc(t,e,r,n),Bs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Oi(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Oi(t)?Ai:Ni.current,i.context=Ii(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Ds(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=jc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(jl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(jl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(jl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(jl,Ol),Ol|=r;return wo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Oi(n)?Ai:Ni.current;return s=Ii(t,s),Ds(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function To(e,t,n,r,i){if(Oi(n)){var s=!0;Ri(t)}else s=!1;if(Ds(t,i),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ii(t,c=Oi(n)?Ai:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ps=!1;var d=t.memoizedState;a.state=d,Vs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Di.current||Ps?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ps||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ii(t,l=Oi(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),Ps=!1,d=t.memoizedState,a.state=d,Vs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Di.current||Ps?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ps||io(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Qs(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Io,Oo,jo,Mo,Po={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(Js,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,i,0,null),e=Pc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Po,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Pc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Po,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),nc(r,e,i,-1))}return mc(),zo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=jc(r,o):(o=Pc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,i}return e=(o=e.child).sibling,i=jc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Oi(t.type)&&ji(),Ko(t),null;case 3:return r=t.stateNode,Xs(),Ei(Di),Ei(Ni),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oo(e,t),Ko(t),null;case 5:Zs(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)jo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Ys(qs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)zr(Pr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":X(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),J(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)zr(Pr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ei(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Xs(),Oo(e,t),null===e&&Vr(t.stateNode.containerInfo),Ko(t),null;case 10:return Ts(t.type._context),Ko(t),null;case 19:if(Ei(Js),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Js,1&Js.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*$e()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=Js.current,Ci(Js,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ei(Di),Ei(Ni),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ei(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Js),null;case 4:return Xs(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},jo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(qs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Xo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Jo(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,dl(e,t,n),Xo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=$e())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,ml(t,e),Xo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Zo=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Qo;var c=Xo;if(Qo=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Zo=l):_l(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Qo=o,Xo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Dl=null,Al=null,Il=0,Ol=0,jl=Si(0),Ml=0,Pl=null,Rl=0,Ll=0,Fl=0,zl=null,Bl=null,Ul=0,Vl=1/0,Wl=null,Hl=!1,ql=null,Kl=null,Gl=!1,Yl=null,Ql=0,Xl=0,$l=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Nl)?$e():-1!==Zl?Zl:Zl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Il?Il&-Il:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Dl||(e===Dl&&(0===(2&Nl)&&(Ll|=n),4===Ml&&oc(e,Il)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Vl=$e()+500,zi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Dl?Il:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),ai((function(){0===(6&Nl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nl;Nl|=2;var a=pc();for(Dl===e&&Il===t||(Wl=null,Vl=$e()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}Cs(),El.current=a,Nl=i,null!==Al?t=0:(Dl=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Pl,dc(e,0),oc(e,r),rc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Pl,dc(e,0),oc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Bl,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Ul+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,Wl),t);break}xc(e,Bl,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,Wl),r);break}xc(e,Bl,Wl);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Pl,dc(e,0),oc(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Wl),rc(e,$e()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Vl=$e()+500,zi&&Vi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&_c();var t=Nl;Nl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Nl=t))&&Vi()}}function hc(){Ol=jl.current,Ei(jl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:Xs(),Ei(Di),Ei(Ni),na();break;case 5:Zs(r);break;case 4:Xs();break;case 13:case 19:Ei(Js);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Dl=e,Al=e=jc(e.current,null),Il=Ol=t,Ml=0,Pl=null,Fl=Ll=Rl=0,Bl=zl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Is=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Cs(),ra.current=$a,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,Cl.current=null,null===n||null===n.return){Ml=1,Pl=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ml&&(Ml=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Us(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Us(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=$a,null===e?$a:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Dl||0===(268435455&Rl)&&0===(268435455&Ll)||oc(Dl,Il)}function gc(e,t){var n=Nl;Nl|=2;var r=pc();for(Dl===e&&Il===t||(Wl=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Cs(),Nl=n,El.current=r,null!==Al)throw Error(s(261));return Dl=null,Il=0,Ml}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Qe();)bc(Al)}function bc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Al=Dl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Dc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Nl=l,bt=o,Tl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Ql=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _c(){if(null!==Yl){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(sl(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Zo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zo=x;break e}Zo=l.return}}if(Nl=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function kc(e,t,n){e=zs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=zs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>$e()-Ul?dc(e,0):Fl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ms(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Dc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Pc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Ic(12,n,t,2|i)).elementType=E,e.lanes=a,e;case D:return(e=Ic(13,n,t,i)).elementType=D,e.lanes=a,e;case A:return(e=Ic(19,n,t,i)).elementType=A,e.lanes=a,e;case j:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case N:o=11;break e;case I:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Pc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Pi(e,n,t)}return t}function Vc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(nc(e,i,a,s),Bs(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:$s(t);break;case 1:Oi(t.type)&&Ri(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ci(Js,1&Js.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ci(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Ii(t,Ni.current);Ds(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===I)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),Vs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Di.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ns(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ds(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Wo(e,t),t.tag=1,Oi(r)?(e=!0,Ri(t)):e=!1,Ds(t,n),so(t,r,i),oo(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Nl)&&(Vl=$e()+500,Vi()))}break;case 13:uc((function(){var t=Ms(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ms(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,De=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=D(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=D(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},j={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:j,ReactCurrentOwner:k};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(_);else{var t=r(u);null!==t&&M(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!D());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&M(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,T=5,N=-1;function D(){return!(t.unstable_now()-N<T)}function A(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,O=I.port2;I.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){v(A,0)};function j(e){E=e,S||(S=!0,k())}function M(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,M(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,j(_))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==l)throw new a;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/scc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},h=e=>{const t=(e=>{var t,n;return null===(n=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return!function(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v(){try{return"object"===typeof indexedDB}catch(e){return!1}}class y extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b.prototype.create)}}class b{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(w,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new y(n,s,t)}}const w=/\{\$([^}]+)}/g;function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(_(n)&&_(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _(e){return null!==e&&"object"===typeof e}function k(e){return e&&e._delegate?e._delegate:e}class S{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const E="[DEFAULT]";class C{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new f;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:E})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(sy){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===E?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(sy){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.component?this.component.multipleInstances?e:E:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const N=[];var D;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(D||(D={}));const A={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},I=D.INFO,O={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},j=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=O[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class M{constructor(e){this.name=e,this._logLevel=I,this._logHandler=j,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...t),this._logHandler(this,D.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...t),this._logHandler(this,D.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,D.INFO,...t),this._logHandler(this,D.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,D.WARN,...t),this._logHandler(this,D.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,D.ERROR,...t),this._logHandler(this,D.ERROR,...t)}}const P=(e,t)=>t.some((t=>e instanceof t));let R,L;const F=new WeakMap,z=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap;let W={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return z.get(e);if("objectStoreNames"===t)return e.objectStoreNames||B.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return K(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function H(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(G(this),n),K(F.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(e.apply(G(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(G(this),t,...r);return B.set(s,t.sort?t.sort():[t]),K(s)}}function q(e){return"function"===typeof e?H(e):(e instanceof IDBTransaction&&function(e){if(z.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));z.set(e,t)}(e),P(e,R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,W):e)}function K(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(K(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&F.set(t,e)})).catch((()=>{})),V.set(t,e),t}(e);if(U.has(e))return U.get(e);const t=q(e);return t!==e&&(U.set(e,t),V.set(t,e)),t}const G=e=>V.get(e);const Y=["get","getKey","getAll","getAllKeys","count"],Q=["put","add","delete","clear"],X=new Map;function $(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(X.get(t))return X.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Q.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Y.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return X.set(t,s),s}!function(e){W=e(W)}((e=>({...e,get:(t,n,r)=>$(t,n)||e.get(t,n,r),has:(t,n)=>!!$(t,n)||e.has(t,n)})));class Z{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const J="@firebase/app",ee="0.10.2",te=new M("@firebase/app"),ne="@firebase/app-compat",re="@firebase/analytics-compat",ie="@firebase/analytics",se="@firebase/app-check-compat",ae="@firebase/app-check",oe="@firebase/auth",le="@firebase/auth-compat",ce="@firebase/database",ue="@firebase/database-compat",he="@firebase/functions",de="@firebase/functions-compat",fe="@firebase/installations",pe="@firebase/installations-compat",me="@firebase/messaging",ge="@firebase/messaging-compat",ve="@firebase/performance",ye="@firebase/performance-compat",be="@firebase/remote-config",we="@firebase/remote-config-compat",xe="@firebase/storage",_e="@firebase/storage-compat",ke="@firebase/firestore",Se="@firebase/firestore-compat",Ee="firebase",Ce="[DEFAULT]",Te={[J]:"fire-core",[ne]:"fire-core-compat",[ie]:"fire-analytics",[re]:"fire-analytics-compat",[ae]:"fire-app-check",[se]:"fire-app-check-compat",[oe]:"fire-auth",[le]:"fire-auth-compat",[ce]:"fire-rtdb",[ue]:"fire-rtdb-compat",[he]:"fire-fn",[de]:"fire-fn-compat",[fe]:"fire-iid",[pe]:"fire-iid-compat",[me]:"fire-fcm",[ge]:"fire-fcm-compat",[ve]:"fire-perf",[ye]:"fire-perf-compat",[be]:"fire-rc",[we]:"fire-rc-compat",[xe]:"fire-gcs",[_e]:"fire-gcs-compat",[ke]:"fire-fst",[Se]:"fire-fst-compat","fire-js":"fire-js",[Ee]:"fire-js-all"},Ne=new Map,De=new Map,Ae=new Map;function Ie(e,t){try{e.container.addComponent(t)}catch(n){te.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Oe(e){const t=e.name;if(Ae.has(t))return te.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ae.set(t,e);for(const n of Ne.values())Ie(n,e);for(const n of De.values())Ie(n,e);return!0}function je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Me=new b("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Pe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new S("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}}const Re="10.11.1";function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ce,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Me.create("bad-app-name",{appName:String(i)});if(n||(n=d()),!n)throw Me.create("no-options");const s=Ne.get(i);if(s){if(x(n,s.options)&&x(r,s.config))return s;throw Me.create("duplicate-app",{appName:i})}const a=new T(i);for(const l of Ae.values())a.addComponent(l);const o=new Pe(n,r,a);return Ne.set(i,o),o}function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;const t=Ne.get(e);if(!t&&e===Ce&&d())return Le();if(!t)throw Me.create("no-app",{appName:e});return t}function ze(e,t,n){var r;let i=null!==(r=Te[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void te.warn(e.join(" "))}Oe(new S("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Be="firebase-heartbeat-database",Ue=1,Ve="firebase-heartbeat-store";let We=null;function He(){return We||(We=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=K(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(K(a.result),e.oldVersion,e.newVersion,K(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Be,Ue,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ve)}catch(n){console.warn(n)}}}).catch((e=>{throw Me.create("idb-open",{originalErrorMessage:e.message})}))),We}async function qe(e,t){try{const n=(await He()).transaction(Ve,"readwrite"),r=n.objectStore(Ve);await r.put(t,Ke(e)),await n.done}catch(n){if(n instanceof y)te.warn(n.message);else{const e=Me.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});te.warn(e.message)}}}function Ke(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ge{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ye();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ye(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Xe(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=o(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ye(){return(new Date).toISOString().substring(0,10)}class Qe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!v()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await He()).transaction(Ve),n=await t.objectStore(Ve).get(Ke(e));return await t.done,n}catch(t){if(t instanceof y)te.warn(t.message);else{const e=Me.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});te.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Xe(e){return o(JSON.stringify({version:2,heartbeats:e})).length}var $e;$e="",Oe(new S("platform-logger",(e=>new Z(e)),"PRIVATE")),Oe(new S("heartbeat",(e=>new Ge(e)),"PRIVATE")),ze(J,ee,$e),ze(J,ee,"esm2017"),ze("fire-js","");ze("firebase","10.11.1","app");var Ze,Je="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},et={},tt=tt||{},nt=Je||self;function rt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function it(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var st="closure_uid_"+(1e9*Math.random()>>>0),at=0;function ot(e,t,n){return e.call.apply(e.bind,arguments)}function lt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ct(e,t,n){return(ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:lt).apply(null,arguments)}function ut(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ht(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function dt(){this.s=this.s,this.o=this.o}dt.prototype.s=!1,dt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,st)&&e[st]||(e[st]=++at))},dt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ft=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function mt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(rt(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function gt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};nt.addEventListener("test",e,t),nt.removeEventListener("test",e,t)}catch(n){}return e}();function yt(e){return/^[\s\xa0]*$/.test(e)}function bt(){var e=nt.navigator;return e&&(e=e.userAgent)?e:""}function wt(e){return-1!=bt().indexOf(e)}function xt(e){return xt[" "](e),e}xt[" "]=function(){};var _t,kt,St=wt("Opera"),Et=wt("Trident")||wt("MSIE"),Ct=wt("Edge"),Tt=Ct||Et,Nt=wt("Gecko")&&!(-1!=bt().toLowerCase().indexOf("webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),Dt=-1!=bt().toLowerCase().indexOf("webkit")&&!wt("Edge");function At(){var e=nt.document;return e?e.documentMode:void 0}e:{var It="",Ot=function(){var e=bt();return Nt?/rv:([^\);]+)(\)|;)/.exec(e):Ct?/Edge\/([\d\.]+)/.exec(e):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dt?/WebKit\/(\S+)/.exec(e):St?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ot&&(It=Ot?Ot[1]:""),Et){var jt=At();if(null!=jt&&jt>parseFloat(It)){_t=String(jt);break e}}_t=It}if(nt.document&&Et){var Mt=At();kt=Mt||(parseInt(_t,10)||void 0)}else kt=void 0;var Pt=kt;function Rt(e,t){if(gt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nt){e:{try{xt(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rt.$.h.call(this)}}ht(Rt,gt);var Lt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Bt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zt,this.fa=this.ia=!1}function Ut(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Wt(e){const t={};for(const n in e)t[n]=e[n];return t}const Ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ht.length;t++)n=Ht[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kt(e){this.src=e,this.g={},this.h=0}function Gt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ft(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ut(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Kt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Yt(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Bt(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Qt="closure_lm_"+(1e6*Math.random()|0),Xt={};function $t(e,t,n,r,i){if(r&&r.once)return Jt(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$t(e,t[s],n,r,i);return null}return n=on(n),e&&e[Ft]?e.O(t,n,it(r)?!!r.capture:!!r,i):Zt(e,t,n,!1,r,i)}function Zt(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=it(i)?!!i.capture:!!i,o=sn(e);if(o||(e[Qt]=o=new Kt(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=rn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jt(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Jt(e,t[s],n,r,i);return null}return n=on(n),e&&e[Ft]?e.P(t,n,it(r)?!!r.capture:!!r,i):Zt(e,t,n,!0,r,i)}function en(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)en(e,t[s],n,r,i);else r=it(r)?!!r.capture:!!r,n=on(n),e&&e[Ft]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yt(s=e.g[t],n,r,i))&&(Ut(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=sn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yt(t,n,r,i)),(n=-1<e?t[e]:null)&&tn(n))}function tn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ft])Gt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sn(t))?(Gt(n,e),0==n.h&&(n.src=null,t[Qt]=null)):Ut(e)}}}function nn(e){return e in Xt?Xt[e]:Xt[e]="on"+e}function rn(e,t){if(e.fa)e=!0;else{t=new Rt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&tn(e),e=n.call(r,t)}return e}function sn(e){return(e=e[Qt])instanceof Kt?e:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(e){return"function"===typeof e?e:(e[an]||(e[an]=function(t){return e.handleEvent(t)}),e[an])}function ln(){dt.call(this),this.i=new Kt(this),this.S=this,this.J=null}function cn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new gt(t,e);else if(t instanceof gt)t.target=t.target||e;else{var i=t;qt(t=new gt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=un(a,r,!0,t)&&i}if(i=un(a=t.g=e,r,!0,t)&&i,i=un(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=un(a=t.g=n[s],r,!1,t)&&i}function un(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Gt(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}ht(ln,dt),ln.prototype[Ft]=!0,ln.prototype.removeEventListener=function(e,t,n,r){en(this,e,t,n,r)},ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ut(n[r]);delete t.g[e],t.h--}}this.J=null},ln.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ln.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var hn=nt.JSON.stringify;function dn(){var e=bn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new pn),(e=>e.reset()));class pn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function gn(e){nt.setTimeout((()=>{throw e}),0)}let vn,yn=!1,bn=new class{constructor(){this.h=this.g=null}add(e,t){const n=fn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},wn=()=>{const e=nt.Promise.resolve(void 0);vn=()=>{e.then(xn)}};var xn=()=>{for(var e;e=dn();){try{e.h.call(e.g)}catch(n){gn(n)}var t=fn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yn=!1};function _n(e,t){ln.call(this),this.h=e||1,this.g=t||nt,this.j=ct(this.qb,this),this.l=Date.now()}function kn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Sn(e,t,n){if("function"===typeof e)n&&(e=ct(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ct(e.handleEvent,e)}return 2147483647<Number(t)?-1:nt.setTimeout(e,t||0)}function En(e){e.g=Sn((()=>{e.g=null,e.i&&(e.i=!1,En(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ht(_n,ln),(Ze=_n.prototype).ga=!1,Ze.T=null,Ze.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(kn(this),this.start()))}},Ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.N=function(){_n.$.N.call(this),kn(this),delete this.g};class Cn extends dt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(e){dt.call(this),this.h=e,this.g={}}ht(Tn,dt);var Nn=[];function Dn(e,t,n,r){Array.isArray(n)||(n&&(Nn[0]=n.toString()),n=Nn);for(var i=0;i<n.length;i++){var s=$t(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function An(e){Vt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&tn(e)}),e),e.g={}}function In(){this.g=!0}function On(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return hn(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Tn.prototype.N=function(){Tn.$.N.call(this),An(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},In.prototype.Ea=function(){this.g=!1},In.prototype.info=function(){};var jn={},Mn=null;function Pn(){return Mn=Mn||new ln}function Rn(e){gt.call(this,jn.Ta,e)}function Ln(e){const t=Pn();cn(t,new Rn(t))}function Fn(e,t){gt.call(this,jn.STAT_EVENT,e),this.stat=t}function zn(e){const t=Pn();cn(t,new Fn(t,e))}function Bn(e,t){gt.call(this,jn.Ua,e),this.size=t}function Un(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return nt.setTimeout((function(){e()}),t)}jn.Ta="serverreachability",ht(Rn,gt),jn.STAT_EVENT="statevent",ht(Fn,gt),jn.Ua="timingevent",ht(Bn,gt);var Vn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hn(){}function qn(e){return e.h||(e.h=e.i())}function Kn(){}Hn.prototype.h=null;var Gn,Yn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qn(){gt.call(this,"d")}function Xn(){gt.call(this,"c")}function $n(){}function Zn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Tn(this),this.P=er,e=Tt?125:void 0,this.V=new _n(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}ht(Qn,gt),ht(Xn,gt),ht($n,Hn),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Gn=new $n;var er=45e3,tr={},nr={};function rr(e,t,n){e.L=1,e.A=_r(vr(t)),e.u=n,e.S=!0,ir(e,null)}function ir(e,t){e.G=Date.now(),lr(e),e.B=vr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Pr(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Jn,e.g=Ri(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Cn(ct(e.Pa,e,e.g),e.O)),Dn(e.U,e.g,"readystatechange",e.nb),t=e.I?Wt(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ln(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function sr(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function ar(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=or(e,n),r==nr){4==t&&(e.s=4,zn(14),i=!1),On(e.j,e.m,null,"[Incomplete Response]");break}if(r==tr){e.s=4,zn(15),On(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}On(e.j,e.m,r,null),fr(e,r)}sr(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,zn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ni(t),t.M=!0,zn(11))):(On(e.j,e.m,n,"[Invalid Chunked Response]"),dr(e),hr(e))}function or(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?nr:(n=Number(t.substring(n,r)),isNaN(n)?tr:(r+=1)+n>t.length?nr:(t=t.slice(r,r+n),e.o=r+n,t))}function lr(e){e.Y=Date.now()+e.P,cr(e,e.P)}function cr(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Un(ct(e.lb,e),t)}function ur(e){e.C&&(nt.clearTimeout(e.C),e.C=null)}function hr(e){0==e.l.H||e.J||Ii(e.l,e)}function dr(e){ur(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,kn(e.V),An(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function fr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Vr(n.i,e)))if(!e.K&&Vr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ai(n),wi(n)}Ti(n),zn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Un(ct(n.ib,n),6e3));if(1>=Ur(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else ji(n,11)}else if((e.K||n.g==e)&&Ai(n),!yt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Wr(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,xr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Pi(r,r.J?r.pa:null,r.Y),a.K){Hr(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(ur(o),lr(o)),r.g=a}else Ci(r);0<n.j.length&&_i(n)}else"stop"!=c[0]&&"close"!=c[0]||ji(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ji(n,7):bi(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ln()}catch(c){}}function pr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(rt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(rt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ze=Zn.prototype).setTimeout=function(e){this.P=e},Ze.nb=function(e){e=e.target;const t=this.M;t&&3==fi(e)?t.l():this.Pa(e)},Ze.Pa=function(e){try{if(e==this.g)e:{const u=fi(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Tt||this.g&&(this.h.h||this.g.ja()||pi(this.g)))){this.J||4!=u||7==t||Ln(),ur(this);var n=this.g.da();this.ca=n;t:if(sr(this)){var r=pi(this.g);e="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){dr(this),hr(this);var a="";break t}this.h.i=new nt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,zn(12),dr(this),hr(this);break e}On(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fr(this,n)}this.S?(ar(this,u,a),Tt&&this.i&&3==u&&(Dn(this.U,this.V,"tick",this.mb),this.V.start())):(On(this.j,this.m,a,null),fr(this,a)),4==u&&dr(this),this.i&&!this.J&&(4==u?Ii(this.l,this):(this.i=!1,lr(this)))}else(function(e){const t={};e=(e.g&&2<=fi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(yt(e[r]))continue;var n=mn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),dr(this),hr(this)}}}catch(u){}},Ze.mb=function(){if(this.g){var e=fi(this.g),t=this.g.ja();this.o<t.length&&(ur(this),ar(this,e,t),this.i&&4!=e&&lr(this))}},Ze.cancel=function(){this.J=!0,dr(this)},Ze.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ln(),zn(17)),dr(this),this.s=2,hr(this)):cr(this,this.Y-e)};var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gr){this.h=e.h,yr(this,e.j),this.s=e.s,this.g=e.g,br(this,e.m),this.l=e.l;var t=e.i,n=new Ir;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wr(this,n),this.o=e.o}else e&&(t=String(e).match(mr))?(this.h=!1,yr(this,t[1]||"",!0),this.s=kr(t[2]||""),this.g=kr(t[3]||"",!0),br(this,t[4]),this.l=kr(t[5]||"",!0),wr(this,t[6]||"",!0),this.o=kr(t[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}function vr(e){return new gr(e)}function yr(e,t,n){e.j=n?kr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function br(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wr(e,t,n){t instanceof Ir?(e.i=t,function(e,t){t&&!e.j&&(Or(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jr(this,t),Pr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Sr(t,Dr)),e.i=new Ir(t,e.h))}function xr(e,t,n){e.i.set(t,n)}function _r(e){return xr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Er),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Er(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sr(t,Cr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sr(t,Cr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sr(n,"/"==n.charAt(0)?Nr:Tr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sr(n,Ar)),e.join("")};var Cr=/[#\/\?@]/g,Tr=/[#\?:]/g,Nr=/[#\?]/g,Dr=/[#\?@]/g,Ar=/#/g;function Ir(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Or(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jr(e,t){Or(e),t=Rr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mr(e,t){return Or(e),t=Rr(e,t),e.g.has(t)}function Pr(e,t,n){jr(e,t),0<n.length&&(e.i=null,e.g.set(Rr(e,t),pt(n)),e.h+=n.length)}function Rr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ze=Ir.prototype).add=function(e,t){Or(this),this.i=null,e=Rr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ze.forEach=function(e,t){Or(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ze.ta=function(){Or(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ze.Z=function(e){Or(this);let t=[];if("string"===typeof e)Mr(this,e)&&(t=t.concat(this.g.get(Rr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ze.set=function(e,t){return Or(this),this.i=null,Mr(this,e=Rr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ze.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Lr=class{constructor(e,t){this.g=e,this.map=t}};function Fr(e){this.l=e||zr,nt.PerformanceNavigationTiming?e=0<(e=nt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zr=10;function Br(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ur(e){return e.h?1:e.g?e.g.size:0}function Vr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wr(e,t){e.g?e.g.add(t):e.h=t}function Hr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pt(e.i)}Fr.prototype.cancel=function(){if(this.i=qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kr,Gr=class{stringify(e){return nt.JSON.stringify(e,void 0)}parse(e){return nt.JSON.parse(e,void 0)}};function Yr(){this.g=new Gr}function Qr(e,t,n){const r=n||"";try{pr(e,(function(e,n){let i=e;it(e)&&(i=hn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function $r(e){this.l=e.ec||null,this.j=e.ob||!1}function Zr(e,t){ln.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Jr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht($r,Hn),$r.prototype.g=function(){return new Zr(this.l,this.j)},$r.prototype.i=(Kr={},function(){return Kr}),ht(Zr,ln);var Jr=0;function ei(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ti(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ni(e)}function ni(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ze=Zr.prototype).open=function(e,t){if(this.readyState!=Jr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ni(this)},Ze.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||nt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=Jr},Ze.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof nt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ei(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ze.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ti(this):ni(this),3==this.readyState&&ei(this)}},Ze.Za=function(e){this.g&&(this.response=this.responseText=e,ti(this))},Ze.Ya=function(e){this.g&&(this.response=e,ti(this))},Ze.ka=function(){this.g&&ti(this)},Ze.setRequestHeader=function(e,t){this.v.append(e,t)},Ze.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ri=nt.JSON.parse;function ii(e){ln.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=si,this.L=this.M=!1}ht(ii,ln);var si="",ai=/^https?$/i,oi=["POST","PUT"];function li(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ci(e),hi(e)}function ci(e){e.F||(e.F=!0,cn(e,"complete"),cn(e,"error"))}function ui(e){if(e.h&&"undefined"!=typeof tt&&(!e.C[1]||4!=fi(e)||2!=e.da()))if(e.v&&4==fi(e))Sn(e.La,0,e);else if(cn(e,"readystatechange"),4==fi(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(mr)[1]||null;!i&&nt.self&&nt.self.location&&(i=nt.self.location.protocol.slice(0,-1)),r=!ai.test(i?i.toLowerCase():"")}n=r}if(n)cn(e,"complete"),cn(e,"success");else{e.m=6;try{var s=2<fi(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",ci(e)}}finally{hi(e)}}}function hi(e,t){if(e.g){di(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||cn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function di(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(nt.clearTimeout(e.A),e.A=null)}function fi(e){return e.g?e.g.readyState:0}function pi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case si:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xs){return null}}function mi(e){let t="";return Vt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xr(e,t,n))}function vi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yi(e){this.Ga=0,this.j=[],this.l=new In,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vi("baseRetryDelayMs",5e3,e),this.hb=vi("retryDelaySeedMs",1e4,e),this.eb=vi("forwardChannelMaxRetries",2,e),this.xa=vi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fr(e&&e.concurrentRequestLimit),this.Ja=new Yr,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bi(e){if(xi(e),3==e.H){var t=e.W++,n=vr(e.I);if(xr(n,"SID",e.K),xr(n,"RID",t),xr(n,"TYPE","terminate"),Si(e,n),(t=new Zn(e,e.l,t)).L=2,t.A=_r(vr(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon)try{n=nt.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&nt.Image&&((new Image).src=t.A,n=!0),n||(t.g=Ri(t.l,null),t.g.ha(t.A)),t.G=Date.now(),lr(t)}Mi(e)}function wi(e){e.g&&(Ni(e),e.g.cancel(),e.g=null)}function xi(e){wi(e),e.u&&(nt.clearTimeout(e.u),e.u=null),Ai(e),e.i.cancel(),e.m&&("number"===typeof e.m&&nt.clearTimeout(e.m),e.m=null)}function _i(e){if(!Br(e.i)&&!e.m){e.m=!0;var t=e.Na;vn||wn(),yn||(vn(),yn=!0),bn.add(t,e),e.C=0}}function ki(e,t){var n;n=t?t.m:e.W++;const r=vr(e.I);xr(r,"SID",e.K),xr(r,"RID",n),xr(r,"AID",e.V),Si(e,r),e.o&&e.s&&gi(r,e.o,e.s),n=new Zn(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ei(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wr(e.i,n),rr(n,r,t)}function Si(e,t){e.na&&Vt(e.na,(function(e,n){xr(t,n,e)})),e.h&&pr({},(function(e,n){xr(t,n,e)}))}function Ei(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ct(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Qr(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ci(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vn||wn(),yn||(vn(),yn=!0),bn.add(t,e),e.A=0}}function Ti(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Un(ct(e.Ma,e),Oi(e,e.A)),e.A++,!0)}function Ni(e){null!=e.B&&(nt.clearTimeout(e.B),e.B=null)}function Di(e){e.g=new Zn(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=vr(e.wa);xr(t,"RID","rpc"),xr(t,"SID",e.K),xr(t,"AID",e.V),xr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xr(t,"TO",e.qa),xr(t,"TYPE","xmlhttp"),Si(e,t),e.o&&e.s&&gi(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_r(vr(t)),n.u=null,n.S=!0,ir(n,e)}function Ai(e){null!=e.v&&(nt.clearTimeout(e.v),e.v=null)}function Ii(e,t){var n=null;if(e.g==t){Ai(e),Ni(e),e.g=null;var r=2}else{if(!Vr(e.i,t))return;n=t.F,Hr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;cn(r=Pn(),new Bn(r,n)),_i(e)}else Ci(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ur(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Un(ct(e.Na,e,t),Oi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ti(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ji(e,5);break;case 4:ji(e,10);break;case 3:ji(e,6);break;default:ji(e,2)}}function Oi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ji(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ct(e.pb,e);n||(n=new gr("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||yr(n,"https"),_r(n)),function(e,t){const n=new In;if(nt.Image){const r=new Image;r.onload=ut(Xr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ut(Xr,n,r,"TestLoadImage: error",!1,t),r.onabort=ut(Xr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ut(Xr,n,r,"TestLoadImage: timeout",!1,t),nt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zn(2);e.H=0,e.h&&e.h.za(t),Mi(e),xi(e)}function Mi(e){if(e.H=0,e.ma=[],e.h){const t=qr(e.i);0==t.length&&0==e.j.length||(mt(e.ma,t),mt(e.ma,e.j),e.i.i.length=0,pt(e.j),e.j.length=0),e.h.ya()}}function Pi(e,t,n){var r=n instanceof gr?vr(n):new gr(n);if(""!=r.g)t&&(r.g=t+"."+r.g),br(r,r.m);else{var i=nt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gr(null);r&&yr(s,r),t&&(s.g=t),i&&br(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&xr(r,n,t),xr(r,"VER",e.ra),Si(e,r),r}function Ri(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ii(new $r({ob:n})):new ii(e.va)).Oa(e.J),t}function Li(){}function Fi(){if(Et&&!(10<=Number(Pt)))throw Error("Environmental error: no available transport.")}function zi(e,t){ln.call(this),this.g=new yi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!yt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vi(this)}function Bi(e){Qn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ui(){Xn.call(this),this.status=1}function Vi(e){this.g=e}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hi(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function qi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ze=ii.prototype).Oa=function(e){this.M=e},Ze.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gn.g(),this.C=this.u?qn(this.u):qn(Gn),this.g.onreadystatechange=ct(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void li(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=nt.FormData&&e instanceof nt.FormData,!(0<=ft(oi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{di(this),0<this.B&&((this.L=function(e){return Et&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.ua,this)):this.A=Sn(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){li(this,s)}},Ze.ua=function(){"undefined"!=typeof tt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},Ze.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cn(this,"complete"),cn(this,"abort"),hi(this))},Ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hi(this,!0)),ii.$.N.call(this)},Ze.La=function(){this.s||(this.G||this.v||this.l?ui(this):this.kb())},Ze.kb=function(){ui(this)},Ze.isActive=function(){return!!this.g},Ze.da=function(){try{return 2<fi(this)?this.g.status:-1}catch(Kr){return-1}},Ze.ja=function(){try{return this.g?this.g.responseText:""}catch(Kr){return""}},Ze.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ri(t)}},Ze.Ia=function(){return this.m},Ze.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ze=yi.prototype).ra=8,Ze.H=1,Ze.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Zn(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Wt(s),qt(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ei(this,i,t),xr(n=vr(this.I),"RID",e),xr(n,"CVER",22),this.F&&xr(n,"X-HTTP-Session-Id",this.F),Si(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(mi(s)))+"&"+t:this.o&&gi(n,this.o,s)),Wr(this.i,i),this.bb&&xr(n,"TYPE","init"),this.P?(xr(n,"$req",t),xr(n,"SID","null"),i.aa=!0,rr(i,n,null)):rr(i,n,t),this.H=2}}else 3==this.H&&(e?ki(this,e):0==this.j.length||Br(this.i)||ki(this))},Ze.Ma=function(){if(this.u=null,Di(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Un(ct(this.jb,this),e)}},Ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zn(10),wi(this),Di(this))},Ze.ib=function(){null!=this.v&&(this.v=null,wi(this),Ti(this),zn(19))},Ze.pb=function(e){e?(this.l.info("Successfully pinged google.com"),zn(2)):(this.l.info("Failed to ping google.com"),zn(1))},Ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ze=Li.prototype).Ba=function(){},Ze.Aa=function(){},Ze.za=function(){},Ze.ya=function(){},Ze.isActive=function(){return!0},Ze.Va=function(){},Fi.prototype.g=function(e,t){return new zi(e,t)},ht(zi,ln),zi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;zn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Pi(e,null,e.Y),_i(e)},zi.prototype.close=function(){bi(this.g)},zi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=hn(e),e=n);t.j.push(new Lr(t.fb++,e)),3==t.H&&_i(t)},zi.prototype.N=function(){this.g.h=null,delete this.j,bi(this.g),delete this.g,zi.$.N.call(this)},ht(Bi,Qn),ht(Ui,Xn),ht(Vi,Li),Vi.prototype.Ba=function(){cn(this.g,"a")},Vi.prototype.Aa=function(e){cn(this.g,new Bi(e))},Vi.prototype.za=function(e){cn(this.g,new Ui)},Vi.prototype.ya=function(){cn(this.g,"b")},ht(Wi,(function(){this.blockSize=-1})),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Hi(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Hi(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Hi(this,r),i=0;break}}this.h=i,this.i+=t},Wi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ki={};function Gi(e){return-128<=e&&128>e?function(e,t){var n=Ki;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new qi([0|e],0>e?-1:0)})):new qi([0|e],0>e?-1:0)}function Yi(e){if(isNaN(e)||!isFinite(e))return Xi;if(0>e)return ts(Yi(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qi;return new qi(t,0)}var Qi=4294967296,Xi=Gi(0),$i=Gi(1),Zi=Gi(16777216);function Ji(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function es(e){return-1==e.h}function ts(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new qi(n,~e.h).add($i)}function ns(e,t){return e.add(ts(t))}function rs(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function is(e,t){this.g=e,this.h=t}function ss(e,t){if(Ji(t))throw Error("division by zero");if(Ji(e))return new is(Xi,Xi);if(es(e))return t=ss(ts(e),t),new is(ts(t.g),ts(t.h));if(es(t))return t=ss(e,ts(t)),new is(ts(t.g),t.h);if(30<e.g.length){if(es(e)||es(t))throw Error("slowDivide_ only works with positive integers.");for(var n=$i,r=t;0>=r.X(e);)n=as(n),r=as(r);var i=os(n,1),s=os(r,1);for(r=os(r,2),n=os(n,2);!Ji(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=os(r,1),n=os(n,1)}return t=ns(e,i.R(t)),new is(i,t)}for(i=Xi;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Yi(n)).R(t);es(a)||0<a.X(e);)a=(s=Yi(n-=r)).R(t);Ji(s)&&(s=$i),i=i.add(s),e=ns(e,a)}return new is(i,e)}function as(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new qi(n,e.h)}function os(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new qi(i,e.h)}(Ze=qi.prototype).ea=function(){if(es(this))return-ts(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qi+r)*t,t*=Qi}return e},Ze.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ji(this))return"0";if(es(this))return"-"+ts(this).toString(e);for(var t=Yi(Math.pow(e,6)),n=this,r="";;){var i=ss(n,t).g,s=((0<(n=ns(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ji(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ze.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ze.X=function(e){return es(e=ns(this,e))?-1:Ji(e)?0:1},Ze.abs=function(){return es(this)?ts(this):this},Ze.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new qi(n,-2147483648&n[n.length-1]?-1:0)},Ze.R=function(e){if(Ji(this)||Ji(e))return Xi;if(es(this))return es(e)?ts(this).R(ts(e)):ts(ts(this).R(e));if(es(e))return ts(this.R(ts(e)));if(0>this.X(Zi)&&0>e.X(Zi))return Yi(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,rs(n,2*r+2*i),n[2*r+2*i+1]+=s*l,rs(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,rs(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,rs(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new qi(n,0)},Ze.gb=function(e){return ss(this,e).h},Ze.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new qi(n,this.h&e.h)},Ze.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new qi(n,this.h|e.h)},Ze.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new qi(n,this.h^e.h)},Fi.prototype.createWebChannel=Fi.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Wn.COMPLETE="complete",Kn.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ln.prototype.listen=ln.prototype.O,ii.prototype.listenOnce=ii.prototype.P,ii.prototype.getLastError=ii.prototype.Sa,ii.prototype.getLastErrorCode=ii.prototype.Ia,ii.prototype.getStatus=ii.prototype.da,ii.prototype.getResponseJson=ii.prototype.Wa,ii.prototype.getResponseText=ii.prototype.ja,ii.prototype.send=ii.prototype.ha,ii.prototype.setWithCredentials=ii.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,qi.prototype.add=qi.prototype.add,qi.prototype.multiply=qi.prototype.R,qi.prototype.modulo=qi.prototype.gb,qi.prototype.compare=qi.prototype.X,qi.prototype.toNumber=qi.prototype.ea,qi.prototype.toString=qi.prototype.toString,qi.prototype.getBits=qi.prototype.D,qi.fromNumber=Yi,qi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ts(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Yi(Math.pow(n,8)),i=Xi,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Yi(Math.pow(n,a)),i=i.R(a).add(Yi(o))):i=(i=i.R(r)).add(Yi(o))}return i};var ls=et.createWebChannelTransport=function(){return new Fi},cs=et.getStatEventTarget=function(){return Pn()},us=et.ErrorCode=Vn,hs=et.EventType=Wn,ds=et.Event=jn,fs=et.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ps=et.FetchXmlHttpFactory=$r,ms=et.WebChannel=Kn,gs=et.XhrIo=ii,vs=et.Md5=Wi,ys=et.Integer=qi;const bs="@firebase/firestore";class ws{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ws.UNAUTHENTICATED=new ws(null),ws.GOOGLE_CREDENTIALS=new ws("google-credentials-uid"),ws.FIRST_PARTY=new ws("first-party-uid"),ws.MOCK_USER=new ws("mock-user");let xs="10.11.1";const _s=new M("@firebase/firestore");function ks(){return _s.logLevel}function Ss(e){if(_s.logLevel<=D.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ts);_s.debug("Firestore (".concat(xs,"): ").concat(e),...i)}}function Es(e){if(_s.logLevel<=D.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ts);_s.error("Firestore (".concat(xs,"): ").concat(e),...i)}}function Cs(e){if(_s.logLevel<=D.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ts);_s.warn("Firestore (".concat(xs,"): ").concat(e),...i)}}function Ts(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(xs,") INTERNAL ASSERTION FAILED: ")+e;throw Es(t),new Error(t)}function Ds(e,t){e||Ns()}function As(e,t){return e}const Is={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Os extends y{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class js{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ms{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ps{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ws.UNAUTHENTICATED)))}shutdown(){}}class Rs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ls{constructor(e){this.t=e,this.currentUser=ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new js,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Ss("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ss("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new js)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ss("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ds("string"==typeof t.accessToken),new Ms(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ds(null===e||"string"==typeof e),new ws(e)}}class Fs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ws.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zs{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Fs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ws.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Us{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ss("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ss("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ss("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ss("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ds("string"==typeof e.token),this.R=e.token,new Bs(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ws{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Vs(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Hs(e,t){return e<t?-1:e>t?1:0}function qs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ks{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Os(Is.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Os(Is.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Os(Is.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Os(Is.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ks.fromMillis(Date.now())}static fromDate(e){return Ks.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ks(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hs(this.nanoseconds,e.nanoseconds):Hs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gs(e)}static min(){return new Gs(new Ks(0,0))}static max(){return new Gs(new Ks(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ys{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ns(),void 0===n?n=e.length-t:n>e.length-t&&Ns(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ys.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qs extends Ys{construct(e,t,n){return new Qs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Os(Is.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Qs(e)}static emptyPath(){return new Qs([])}}const Xs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $s extends Ys{construct(e,t,n){return new $s(e,t,n)}static isValidIdentifier(e){return Xs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$s.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $s(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Os(Is.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Os(Is.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Os(Is.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Os(Is.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $s(t)}static emptyPath(){return new $s([])}}class Zs{constructor(e){this.path=e}static fromPath(e){return new Zs(Qs.fromString(e))}static fromName(e){return new Zs(Qs.fromString(e).popFirst(5))}static empty(){return new Zs(Qs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zs(new Qs(e.slice()))}}class Js{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Js.UNKNOWN_ID=-1;function ea(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gs.fromTimestamp(1e9===r?new Ks(n+1,0):new Ks(n,r));return new na(i,Zs.empty(),t)}function ta(e){return new na(e.readTime,e.key,-1)}class na{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new na(Gs.min(),Zs.empty(),-1)}static max(){return new na(Gs.max(),Zs.empty(),-1)}}function ra(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zs.comparator(e.documentKey,t.documentKey),0!==n?n:Hs(e.largestBatchId,t.largestBatchId))}const ia="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function aa(e){if(e.code!==Is.FAILED_PRECONDITION||e.message!==ia)throw e;Ss("LocalStore","Unexpectedly lost primary lease")}class oa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ns(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oa?t:oa.resolve(t)}catch(e){return oa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.reject(t)}static resolve(e){return new oa(((t,n)=>{t(e)}))}static reject(e){return new oa(((t,n)=>{n(e)}))}static waitFor(e){return new oa(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=oa.resolve(!1);for(const n of e)t=t.next((e=>e?oa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new oa(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new oa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function la(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(e){return"IndexedDbTransactionError"===e.name}class ua{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ha(e){return null==e}function da(e){return 0===e&&1/e==-1/0}function fa(e){return"number"==typeof e&&Number.isInteger(e)&&!da(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ua.oe=-1;const pa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ma=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ga=ma;function va(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ya(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ba(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wa{constructor(e,t){this.comparator=e,this.root=t||_a.EMPTY}insert(e,t){return new wa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_a.BLACK,null,null))}remove(e){return new wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_a.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xa(this.root,e,this.comparator,!0)}}class xa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _a{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_a.RED,this.left=null!=r?r:_a.EMPTY,this.right=null!=i?i:_a.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _a(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _a.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _a.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_a.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ns();if(this.right.isRed())throw Ns();const e=this.left.check();if(e!==this.right.check())throw Ns();return e+(this.isRed()?0:1)}}_a.EMPTY=null,_a.RED=!0,_a.BLACK=!1,_a.EMPTY=new class{constructor(){this.size=0}get key(){throw Ns()}get value(){throw Ns()}get color(){throw Ns()}get left(){throw Ns()}get right(){throw Ns()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _a(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ka{constructor(e){this.comparator=e,this.data=new wa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sa(this.data.getIterator())}getIteratorFrom(e){return new Sa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ka))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ka(this.comparator);return t.data=e,t}}class Sa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ea{constructor(e){this.fields=e,e.sort($s.comparator)}static empty(){return new Ea([])}unionWith(e){let t=new ka($s.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ca extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ta{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ca("Invalid base64 string: "+e):e}}(e);return new Ta(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ta(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ta.EMPTY_BYTE_STRING=new Ta("");const Na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(e){if(Ds(!!e),"string"==typeof e){let t=0;const n=Na.exec(e);if(Ds(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Aa(e.seconds),nanos:Aa(e.nanos)}}function Aa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ia(e){return"string"==typeof e?Ta.fromBase64String(e):Ta.fromUint8Array(e)}function Oa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ja(e){const t=e.mapValue.fields.__previous_value__;return Oa(t)?ja(t):t}function Ma(e){const t=Da(e.mapValue.fields.__local_write_time__.timestampValue);return new Ks(t.seconds,t.nanos)}class Pa{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}const La={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oa(e)?4:$a(e)?9007199254740991:10:Ns()}function za(e,t){if(e===t)return!0;const n=Fa(e);if(n!==Fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ma(e).isEqual(Ma(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Da(e.timestampValue),r=Da(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ia(e.bytesValue).isEqual(Ia(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Aa(e.geoPointValue.latitude)===Aa(t.geoPointValue.latitude)&&Aa(e.geoPointValue.longitude)===Aa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Aa(e.integerValue)===Aa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Aa(e.doubleValue),r=Aa(t.doubleValue);return n===r?da(n)===da(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qs(e.arrayValue.values||[],t.arrayValue.values||[],za);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(va(n)!==va(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!za(n[i],r[i])))return!1;return!0}(e,t);default:return Ns()}}function Ba(e,t){return void 0!==(e.values||[]).find((e=>za(e,t)))}function Ua(e,t){if(e===t)return 0;const n=Fa(e),r=Fa(t);if(n!==r)return Hs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Hs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Aa(e.integerValue||e.doubleValue),r=Aa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Va(e.timestampValue,t.timestampValue);case 4:return Va(Ma(e),Ma(t));case 5:return Hs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ia(e),r=Ia(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Hs(n[i],r[i]);if(0!==e)return e}return Hs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Hs(Aa(e.latitude),Aa(t.latitude));return 0!==n?n:Hs(Aa(e.longitude),Aa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ua(n[i],r[i]);if(e)return e}return Hs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===La.mapValue&&t===La.mapValue)return 0;if(e===La.mapValue)return 1;if(t===La.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Hs(r[a],s[a]);if(0!==e)return e;const t=Ua(n[r[a]],i[s[a]]);if(0!==t)return t}return Hs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ns()}}function Va(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hs(e,t);const n=Da(e),r=Da(t),i=Hs(n.seconds,r.seconds);return 0!==i?i:Hs(n.nanos,r.nanos)}function Wa(e){return Ha(e)}function Ha(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Da(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ia(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ha(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ha(e.fields[i]));return n+"}"}(e.mapValue):Ns()}function qa(e){return!!e&&"integerValue"in e}function Ka(e){return!!e&&"arrayValue"in e}function Ga(e){return!!e&&"nullValue"in e}function Ya(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qa(e){return!!e&&"mapValue"in e}function Xa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ya(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xa(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $a(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(t)}setAll(e){let t=$s.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xa(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ya(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Za(Xa(this.value))}}function Ja(e){const t=[];return ya(e.fields,((e,n)=>{const r=new $s([e]);if(Qa(n)){const e=Ja(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ea(t)}class eo{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new eo(e,0,Gs.min(),Gs.min(),Gs.min(),Za.empty(),0)}static newFoundDocument(e,t,n,r){return new eo(e,1,t,Gs.min(),n,r,0)}static newNoDocument(e,t){return new eo(e,2,t,Gs.min(),Gs.min(),Za.empty(),0)}static newUnknownDocument(e,t){return new eo(e,3,t,Gs.min(),Gs.min(),Za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class to{constructor(e,t){this.position=e,this.inclusive=t}}function no(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Zs.comparator(Zs.fromName(a.referenceValue),n.key):Ua(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ro(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!za(e.position[n],t.position[n]))return!1;return!0}class io{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function so(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ao{}class oo extends ao{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new go(e,t,n):"array-contains"===t?new wo(e,n):"in"===t?new xo(e,n):"not-in"===t?new _o(e,n):"array-contains-any"===t?new ko(e,n):new oo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vo(e,n):new yo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ua(t,this.value)):null!==t&&Fa(this.value)===Fa(t)&&this.matchesComparison(Ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ns()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lo extends ao{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lo(e,t)}matches(e){return co(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function co(e){return"and"===e.op}function uo(e){return ho(e)&&co(e)}function ho(e){for(const t of e.filters)if(t instanceof lo)return!1;return!0}function fo(e){if(e instanceof oo)return e.field.canonicalString()+e.op.toString()+Wa(e.value);if(uo(e))return e.filters.map((e=>fo(e))).join(",");{const t=e.filters.map((e=>fo(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function po(e,t){return e instanceof oo?function(e,t){return t instanceof oo&&e.op===t.op&&e.field.isEqual(t.field)&&za(e.value,t.value)}(e,t):e instanceof lo?function(e,t){return t instanceof lo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&po(n,t.filters[r])),!0)}(e,t):void Ns()}function mo(e){return e instanceof oo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wa(e.value))}(e):e instanceof lo?function(e){return e.op.toString()+" {"+e.getFilters().map(mo).join(" ,")+"}"}(e):"Filter"}class go extends oo{constructor(e,t,n){super(e,t,n),this.key=Zs.fromName(n.referenceValue)}matches(e){const t=Zs.comparator(e.key,this.key);return this.matchesComparison(t)}}class vo extends oo{constructor(e,t){super(e,"in",t),this.keys=bo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yo extends oo{constructor(e,t){super(e,"not-in",t),this.keys=bo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zs.fromName(e.referenceValue)))}class wo extends oo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ka(t)&&Ba(t.arrayValue,this.value)}}class xo extends oo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ba(this.value.arrayValue,t)}}class _o extends oo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ba(this.value.arrayValue,t)}}class ko extends oo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ka(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ba(this.value.arrayValue,e)))}}class So{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Eo(e){return new So(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Co(e){const t=As(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>fo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ha(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Wa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Wa(e))).join(",")),t.ue=e}return t.ue}function To(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!so(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!po(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ro(e.startAt,t.startAt)&&ro(e.endAt,t.endAt)}function No(e){return Zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Do{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ao(e,t,n,r,i,s,a,o){return new Do(e,t,n,r,i,s,a,o)}function Io(e){return new Do(e)}function Oo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jo(e){return null!==e.collectionGroup}function Mo(e){const t=As(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ka($s.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new io(r,n))})),e.has($s.keyField().canonicalString())||t.ce.push(new io($s.keyField(),n))}return t.ce}function Po(e){const t=As(e);return t.le||(t.le=Ro(t,Mo(e))),t.le}function Ro(e,t){if("F"===e.limitType)return Eo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new io(e.field,t)}));const n=e.endAt?new to(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new to(e.startAt.position,e.startAt.inclusive):null;return Eo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Lo(e,t,n){return new Do(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fo(e,t){return To(Po(e),Po(t))&&e.limitType===t.limitType}function zo(e){return"".concat(Co(Po(e)),"|lt:").concat(e.limitType)}function Bo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>mo(e))).join(", "),"]")),ha(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Wa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Wa(e))).join(",")),"Target(".concat(t,")")}(Po(e)),"; limitType=").concat(e.limitType,")")}function Uo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=no(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mo(e),t))&&!(e.endAt&&!function(e,t,n){const r=no(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mo(e),t))}(e,t)}function Vo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wo(e){return(t,n)=>{let r=!1;for(const i of Mo(e)){const e=Ho(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ho(e,t,n){const r=e.field.isKeyField()?Zs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ua(r,i):Ns()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ns()}}class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ba(this.inner)}size(){return this.innerSize}}const Ko=new wa(Zs.comparator);function Go(){return Ko}const Yo=new wa(Zs.comparator);function Qo(){let e=Yo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Xo(e){let t=Yo;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $o(){return Jo()}function Zo(){return Jo()}function Jo(){return new qo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const el=new wa(Zs.comparator),tl=new ka(Zs.comparator);function nl(){let e=tl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rl=new ka(Hs);function il(){return rl}function sl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(t)?"-0":t}}function al(e){return{integerValue:""+e}}function ol(e,t){return fa(t)?al(t):sl(e,t)}class ll{constructor(){this._=void 0}}function cl(e,t,n){return e instanceof dl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oa(t)&&(t=ja(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fl?pl(e,t):e instanceof ml?gl(e,t):function(e,t){const n=hl(e,t),r=yl(n)+yl(e.Pe);return qa(n)&&qa(e.Pe)?al(r):sl(e.serializer,r)}(e,t)}function ul(e,t,n){return e instanceof fl?pl(e,t):e instanceof ml?gl(e,t):n}function hl(e,t){return e instanceof vl?function(e){return qa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class dl extends ll{}class fl extends ll{constructor(e){super(),this.elements=e}}function pl(e,t){const n=bl(t);for(const r of e.elements)n.some((e=>za(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ml extends ll{constructor(e){super(),this.elements=e}}function gl(e,t){let n=bl(t);for(const r of e.elements)n=n.filter((e=>!za(e,r)));return{arrayValue:{values:n}}}class vl extends ll{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function yl(e){return Aa(e.integerValue||e.doubleValue)}function bl(e){return Ka(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class wl{constructor(e,t){this.version=e,this.transformResults=t}}class xl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xl}static exists(e){return new xl(void 0,e)}static updateTime(e){return new xl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kl{}function Sl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ml(e.key,xl.none()):new Dl(e.key,e.data,xl.none());{const n=e.data,r=Za.empty();let i=new ka($s.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Al(e.key,r,new Ea(i.toArray()),xl.none())}}function El(e,t,n){e instanceof Dl?function(e,t,n){const r=e.value.clone(),i=Ol(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Al?function(e,t,n){if(!_l(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ol(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Il(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cl(e,t,n,r){return e instanceof Dl?function(e,t,n,r){if(!_l(e.precondition,t))return n;const i=e.value.clone(),s=jl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Al?function(e,t,n,r){if(!_l(e.precondition,t))return n;const i=jl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Il(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return _l(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=hl(r.transform,e||null);null!=i&&(null===n&&(n=Za.empty()),n.set(r.field,i))}return n||null}function Nl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fl&&t instanceof fl||e instanceof ml&&t instanceof ml?qs(e.elements,t.elements,za):e instanceof vl&&t instanceof vl?za(e.Pe,t.Pe):e instanceof dl&&t instanceof dl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dl extends kl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Al extends kl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Il(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ol(e,t,n){const r=new Map;Ds(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ul(a,o,n[i]))}return r}function jl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,cl(e,s,t))}return r}class Ml extends kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pl extends kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&El(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zo();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Sl(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Gs.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nl())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,((e,t)=>Nl(e,t)))&&qs(this.baseMutations,e.baseMutations,((e,t)=>Nl(e,t)))}}class Ll{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ds(e.mutations.length===n.length);let r=el;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ll(e,t,n,r)}}class Fl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class zl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bl,Ul;function Vl(e){switch(e){default:return Ns();case Is.CANCELLED:case Is.UNKNOWN:case Is.DEADLINE_EXCEEDED:case Is.RESOURCE_EXHAUSTED:case Is.INTERNAL:case Is.UNAVAILABLE:case Is.UNAUTHENTICATED:return!1;case Is.INVALID_ARGUMENT:case Is.NOT_FOUND:case Is.ALREADY_EXISTS:case Is.PERMISSION_DENIED:case Is.FAILED_PRECONDITION:case Is.ABORTED:case Is.OUT_OF_RANGE:case Is.UNIMPLEMENTED:case Is.DATA_LOSS:return!0}}function Wl(e){if(void 0===e)return Es("GRPC error has no .code"),Is.UNKNOWN;switch(e){case Bl.OK:return Is.OK;case Bl.CANCELLED:return Is.CANCELLED;case Bl.UNKNOWN:return Is.UNKNOWN;case Bl.DEADLINE_EXCEEDED:return Is.DEADLINE_EXCEEDED;case Bl.RESOURCE_EXHAUSTED:return Is.RESOURCE_EXHAUSTED;case Bl.INTERNAL:return Is.INTERNAL;case Bl.UNAVAILABLE:return Is.UNAVAILABLE;case Bl.UNAUTHENTICATED:return Is.UNAUTHENTICATED;case Bl.INVALID_ARGUMENT:return Is.INVALID_ARGUMENT;case Bl.NOT_FOUND:return Is.NOT_FOUND;case Bl.ALREADY_EXISTS:return Is.ALREADY_EXISTS;case Bl.PERMISSION_DENIED:return Is.PERMISSION_DENIED;case Bl.FAILED_PRECONDITION:return Is.FAILED_PRECONDITION;case Bl.ABORTED:return Is.ABORTED;case Bl.OUT_OF_RANGE:return Is.OUT_OF_RANGE;case Bl.UNIMPLEMENTED:return Is.UNIMPLEMENTED;case Bl.DATA_LOSS:return Is.DATA_LOSS;default:return Ns()}}(Ul=Bl||(Bl={}))[Ul.OK=0]="OK",Ul[Ul.CANCELLED=1]="CANCELLED",Ul[Ul.UNKNOWN=2]="UNKNOWN",Ul[Ul.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ul[Ul.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ul[Ul.NOT_FOUND=5]="NOT_FOUND",Ul[Ul.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ul[Ul.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ul[Ul.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ul[Ul.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ul[Ul.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ul[Ul.ABORTED=10]="ABORTED",Ul[Ul.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ul[Ul.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ul[Ul.INTERNAL=13]="INTERNAL",Ul[Ul.UNAVAILABLE=14]="UNAVAILABLE",Ul[Ul.DATA_LOSS=15]="DATA_LOSS";let Hl=null;function ql(){return new TextEncoder}const Kl=new ys([4294967295,4294967295],0);function Gl(e){const t=ql().encode(e),n=new vs;return n.update(t),new Uint8Array(n.digest())}function Yl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ys([n,r],0),new ys([i,s],0)]}class Ql{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xl("Invalid padding: ".concat(t));if(n<0)throw new Xl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Xl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Xl("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=ys.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(ys.fromNumber(n)));return 1===r.compare(Kl)&&(r=new ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Gl(e),[n,r]=Yl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ql(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Gl(e),[n,r]=Yl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $l{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $l(Gs.min(),r,new wa(Hs),Go(),nl())}}class Zl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zl(n,t,nl(),nl(),nl())}}class Jl{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ec{constructor(e,t){this.targetId=e,this.me=t}}class tc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ta.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class nc{constructor(){this.fe=0,this.ge=sc(),this.pe=Ta.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=nl(),t=nl(),n=nl();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ns()}})),new Zl(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=sc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ds(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Go(),this.qe=ic(),this.Qe=new wa(Hs)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ns()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(No(i))if(0===n){const e=new Zs(i.path);this.Ue(t,e,eo.newNoDocument(e,Gs.min()))}else Ds(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Hl||Hl.et(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ia(n).toUint8Array()}catch(e){if(e instanceof Ca)return Cs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ql(s,r,i)}catch(e){return Cs(e instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&No(i.target)){const t=new Zs(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,eo.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=nl();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new $l(e,t,this.Qe,this.ke,n);return this.ke=Go(),this.qe=ic(),this.Qe=new wa(Hs),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new nc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ka(Hs),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ss("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ic(){return new wa(Zs.comparator)}function sc(){return new wa(Zs.comparator)}const ac={asc:"ASCENDING",desc:"DESCENDING"},oc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lc={and:"AND",or:"OR"};class cc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uc(e,t){return e.useProto3Json||ha(t)?t:{value:t}}function hc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function fc(e,t){return hc(e,t.toTimestamp())}function pc(e){return Ds(!!e),Gs.fromTimestamp(function(e){const t=Da(e);return new Ks(t.seconds,t.nanos)}(e))}function mc(e,t){return gc(e,t).canonicalString()}function gc(e,t){const n=function(e){return new Qs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function vc(e){const t=Qs.fromString(e);return Ds(Lc(t)),t}function yc(e,t){return mc(e.databaseId,t.path)}function bc(e,t){const n=vc(t);if(n.get(1)!==e.databaseId.projectId)throw new Os(Is.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Os(Is.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zs(kc(n))}function wc(e,t){return mc(e.databaseId,t)}function xc(e){const t=vc(e);return 4===t.length?Qs.emptyPath():kc(t)}function _c(e){return new Qs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kc(e){return Ds(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sc(e,t,n){return{name:yc(e,t),fields:n.value.mapValue.fields}}function Ec(e,t){let n;if(t instanceof Dl)n={update:Sc(e,t.key,t.value)};else if(t instanceof Ml)n={delete:yc(e,t.key)};else if(t instanceof Al)n={update:Sc(e,t.key,t.data),updateMask:Rc(t.fieldMask)};else{if(!(t instanceof Pl))return Ns();n={verify:yc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof dl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ml)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vl)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ns()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ns()}(e,t.precondition)),n}function Cc(e,t){return{documents:[wc(e,t.path)]}}function Tc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wc(e,i);const s=function(e){if(0!==e.length)return Pc(lo.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:jc(e.field),direction:Ac(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=uc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Nc(e){let t=xc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ds(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Dc(e);return t instanceof lo&&uo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new io(Mc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ha(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new to(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new to(n,t)}(n.endAt)),Ao(t,i,a,s,o,"F",l,c)}function Dc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mc(e.unaryFilter.field);return oo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Mc(e.unaryFilter.field);return oo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mc(e.unaryFilter.field);return oo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mc(e.unaryFilter.field);return oo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ns()}}(e):void 0!==e.fieldFilter?function(e){return oo.create(Mc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ns()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lo.create(e.compositeFilter.filters.map((e=>Dc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ns()}}(e.compositeFilter.op))}(e):Ns()}function Ac(e){return ac[e]}function Ic(e){return oc[e]}function Oc(e){return lc[e]}function jc(e){return{fieldPath:e.canonicalString()}}function Mc(e){return $s.fromServerFormat(e.fieldPath)}function Pc(e){return e instanceof oo?function(e){if("=="===e.op){if(Ya(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NAN"}};if(Ga(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ya(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NOT_NAN"}};if(Ga(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(e.field),op:Ic(e.op),value:e.value}}}(e):e instanceof lo?function(e){const t=e.getFilters().map((e=>Pc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Oc(e.op),filters:t}}}(e):Ns()}function Rc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Lc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gs.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gs.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ta.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zc{constructor(e){this.ut=e}}function Bc(e){const t=Nc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lo(t,t.limit,"L"):t}class Uc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Aa(e.integerValue));else if("doubleValue"in e){const n=Aa(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),da(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Da(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ia(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?$a(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ns()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Zs.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Uc.St=new Uc;class Vc{constructor(){this.on=new Wc}addToCollectionParentIndex(e,t){return this.on.add(t),oa.resolve()}getCollectionParents(e,t){return oa.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return oa.resolve()}deleteFieldIndex(e,t){return oa.resolve()}deleteAllFieldIndexes(e){return oa.resolve()}createTargetIndexes(e,t){return oa.resolve()}getDocumentsMatchingTarget(e,t){return oa.resolve(null)}getIndexType(e,t){return oa.resolve(0)}getFieldIndexes(e,t){return oa.resolve([])}getNextCollectionGroupToUpdate(e){return oa.resolve(null)}getMinOffset(e,t){return oa.resolve(na.min())}getMinOffsetFromCollectionGroup(e,t){return oa.resolve(na.min())}updateCollectionGroup(e,t,n){return oa.resolve()}updateIndexEntries(e,t){return oa.resolve()}}class Wc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ka(Qs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ka(Qs.comparator)).toArray()}}new Uint8Array(0);class Hc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hc(e,Hc.DEFAULT_COLLECTION_PERCENTILE,Hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hc.DEFAULT_COLLECTION_PERCENTILE=10,Hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hc.DEFAULT=new Hc(41943040,Hc.DEFAULT_COLLECTION_PERCENTILE,Hc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hc.DISABLED=new Hc(-1,0,0);class qc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new qc(0)}static Nn(){return new qc(-1)}}class Kc{constructor(){this.changes=new qo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Cl(n.mutation,e,Ea.empty(),Ks.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,nl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nl();const r=$o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Qo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$o();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,nl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Go();const s=Jo(),a=Jo();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Al)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Cl(a.mutation,t,a.mutation.getFieldMask(),Ks.now())):s.set(t.key,Ea.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Gc(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Jo();let r=new wa(((e,t)=>e-t)),i=nl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Ea.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||nl()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Zo();l.forEach((e=>{if(!i.has(e)){const r=Sl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return oa.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):oa.resolve($o());let a=-1,o=i;return s.next((t=>oa.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?oa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,nl()))).next((e=>({batchId:a,changes:Xo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zs(t)).next((e=>{let t=Qo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Qo();return this.indexManager.getCollectionParents(e,i).next((a=>oa.forEach(a,(a=>{const o=function(e,t){return new Do(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,eo.newInvalidDocument(r)))}));let n=Qo();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Cl(s.mutation,r,Ea.empty(),Ks.now()),Uo(t,r)&&(n=n.insert(e,r))})),n}))}}class Qc{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return oa.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:pc(e.createTime)}}(t)),oa.resolve()}getNamedQuery(e,t){return oa.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Bc(e.bundledQuery),readTime:pc(e.readTime)}}(t)),oa.resolve()}}class Xc{constructor(){this.overlays=new wa(Zs.comparator),this.lr=new Map}getOverlay(e,t){return oa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$o();return oa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),oa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),oa.resolve()}getOverlaysForCollection(e,t,n){const r=$o(),i=t.length+1,s=new Zs(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return oa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wa(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=$o(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=$o(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return oa.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fl(t,n));let i=this.lr.get(t);void 0===i&&(i=nl(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class $c{constructor(){this.hr=new ka(Zc.Pr),this.Ir=new ka(Zc.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Zc(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Zc(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Zs(new Qs([])),n=new Zc(t,e),r=new Zc(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Zs(new Qs([])),n=new Zc(t,e),r=new Zc(t,e+1);let i=nl();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Zc(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zc{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Zs.comparator(e.key,t.key)||Hs(e.gr,t.gr)}static Tr(e,t){return Hs(e.gr,t.gr)||Zs.comparator(e.key,t.key)}}class Jc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ka(Zc.Pr)}checkEmpty(e){return oa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rl(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Zc(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oa.resolve(s)}lookupMutationBatch(e,t){return oa.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return oa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return oa.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return oa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zc(t,0),r=new Zc(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),oa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ka(Hs);return t.forEach((e=>{const t=new Zc(e,0),r=new Zc(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),oa.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zs.isDocumentKey(i)||(i=i.child(""));const s=new Zc(new Zs(i),0);let a=new ka(Hs);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),s),oa.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ds(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return oa.forEach(t.mutations,(r=>{const i=new Zc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Zc(t,0),r=this.yr.firstAfterOrEqual(n);return oa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oa.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eu{constructor(e){this.Cr=e,this.docs=new wa(Zs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oa.resolve(n?n.document.mutableCopy():eo.newInvalidDocument(t))}getEntries(e,t){let n=Go();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eo.newInvalidDocument(e))})),oa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Go();const s=t.path,a=new Zs(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ra(ta(a),n)<=0||(r.has(a.key)||Uo(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return oa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ns()}vr(e,t){return oa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tu(this)}getSize(e){return oa.resolve(this.size)}}class tu extends Kc{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),oa.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class nu{constructor(e){this.persistence=e,this.Fr=new qo((e=>Co(e)),To),this.lastRemoteSnapshotVersion=Gs.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $c,this.targetCount=0,this.Nr=qc.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),oa.resolve()}getLastRemoteSnapshotVersion(e){return oa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oa.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),oa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),oa.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,oa.resolve()}updateTargetData(e,t){return this.kn(t),oa.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,oa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),oa.waitFor(i).next((()=>r))}getTargetCount(e){return oa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return oa.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),oa.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),oa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),oa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return oa.resolve(n)}containsKey(e,t){return oa.resolve(this.Or.containsKey(t))}}class ru{constructor(e,t){this.Lr={},this.overlays={},this.Br=new ua(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new nu(this),this.indexManager=new Vc,this.remoteDocumentCache=function(e){return new eu(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new zc(t),this.Kr=new Qc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Jc(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ss("MemoryPersistence","Starting transaction:",e);const r=new iu(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return oa.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class iu extends sa{constructor(e){super(),this.currentSequenceNumber=e}}class su{constructor(e){this.persistence=e,this.Gr=new $c,this.zr=null}static jr(e){return new su(e)}get Hr(){if(this.zr)return this.zr;throw Ns()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),oa.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),oa.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),oa.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oa.forEach(this.Hr,(n=>{const r=Zs.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Gs.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return oa.or([()=>oa.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class au{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=nl(),r=nl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new au(e,t.fromCache,n,r)}}class ou{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lu{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=g()?8:la(m())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ou;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(ks()<=D.DEBUG&&Ss("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),oa.resolve()):(ks()<=D.DEBUG&&Ss("QueryEngine","Query:",Bo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(ks()<=D.DEBUG&&Ss("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Po(t))):oa.resolve())}zi(e,t){if(Oo(t))return oa.resolve(null);let n=Po(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Lo(t,null,"F"),n=Po(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=nl(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Lo(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Oo(t)||r.isEqual(Gs.min())?oa.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?oa.resolve(null):(ks()<=D.DEBUG&&Ss("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bo(t)),this.Xi(e,s,t,ea(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new ka(Wo(e));return t.forEach(((t,r)=>{Uo(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return ks()<=D.DEBUG&&Ss("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.Gi.getDocumentsMatchingQuery(e,t,na.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class cu{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new wa(Hs),this.ns=new qo((e=>Co(e)),To),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yc(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function uu(e,t,n,r){return new cu(e,t,n,r)}async function hu(e,t){const n=As(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=nl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function du(e){const t=As(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function fu(e,t,n){let r=nl(),i=nl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Go();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Gs.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ss("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{us:r,cs:i}}))}function pu(e,t){const n=As(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function mu(e,t){const n=As(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,oa.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Fc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function gu(e,t,n){const r=As(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ca(e))throw e;Ss("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function vu(e,t,n){const r=As(e);let i=Gs.min(),s=nl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=As(e),i=r.ns.get(n);return void 0!==i?oa.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Po(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Gs.min(),n?s:nl()))).next((e=>(yu(r,Vo(t),e),{documents:e,ls:s})))))}function yu(e,t,n){let r=e.rs.get(t)||Gs.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class bu{constructor(){this.activeTargetIds=il()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wu{constructor(){this.eo=new bu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new bu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xu{ro(e){}shutdown(){}}class _u{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ss("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ss("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ku=null;function Su(){return null===ku?ku=268435456+Math.round(2147483648*Math.random()):ku++,"0x"+ku.toString(16)}const Eu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cu{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const Tu="WebChannelConnection";class Nu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const s=Su(),a=this.Co(e,t.toUriEncodedString());Ss("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(o,r,i),this.Fo(e,a,o,n).then((t=>(Ss("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Cs("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Mo(e,t,n,r,i,s){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=Eu[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=Su();return new Promise(((s,a)=>{const o=new gs;o.setWithCredentials(!0),o.listenOnce(hs.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case us.NO_ERROR:const t=o.getResponseJson();Ss(Tu,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case us.TIMEOUT:Ss(Tu,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Os(Is.DEADLINE_EXCEEDED,"Request time out"));break;case us.HTTP_ERROR:const n=o.getStatus();if(Ss(Tu,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Is).indexOf(t)>=0?t:Is.UNKNOWN}(t.status);a(new Os(e,t.message))}else a(new Os(Is.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Os(Is.UNAVAILABLE,"Connection failed."));break;default:Ns()}}finally{Ss(Tu,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ss(Tu,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=Su(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ls(),a=cs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new ps({})),this.vo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ss(Tu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Cu({co:t=>{d?Ss(Tu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ss(Tu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ms.EventType.OPEN,(()=>{d||(Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,ms.EventType.CLOSE,(()=>{d||(d=!0,Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,ms.EventType.ERROR,(t=>{d||(d=!0,Cs(Tu,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Os(Is.UNAVAILABLE,"The operation could not be completed")))})),p(u,ms.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ds(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Bl[e];if(void 0!==t)return Wl(t)}(t),i=a.message;void 0===n&&(n=Is.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.fo(new Os(n,i)),u.close()}else Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(a,ds.STAT_EVENT,(t=>{t.stat===fs.PROXY?Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===fs.NOPROXY&&Ss(Tu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function Du(){return"undefined"!=typeof document?document:null}function Au(e){return new cc(e,!0)}class Iu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Ss("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class Ou{constructor(e,t,n,r,i,s,a,o){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Iu(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===Is.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===Is.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Os(Is.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Ss("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Ss("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ju extends Ou{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ns()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ds(void 0===t||"string"==typeof t),Ta.fromBase64String(t||"")):(Ds(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ta.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Is.UNKNOWN:Wl(e.code);return new Os(t,e.message||"")}(a);n=new tc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bc(e,r.document.name),s=pc(r.document.updateTime),a=r.document.createTime?pc(r.document.createTime):Gs.min(),o=new Za({mapValue:{fields:r.document.fields}}),l=eo.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bc(e,r.document),s=r.readTime?pc(r.readTime):Gs.min(),a=eo.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Jl([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bc(e,r.document),s=r.removedTargetIds||[];n=new Jl([],s,i,null)}else{if(!("filter"in t))return Ns();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new zl(r,i),a=e.targetId;n=new ec(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Gs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Gs.min():t.readTime?pc(t.readTime):Gs.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=_c(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=No(r)?{documents:Cc(e,r)}:{query:Tc(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=dc(e,t.resumeToken);const r=uc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Gs.min())>0){n.readTime=hc(e,t.snapshotVersion.toTimestamp());const r=uc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ns()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=_c(this.serializer),t.removeTarget=e,this.r_(t)}}class Mu extends Ou{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Ds(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(Ds(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?pc(e.updateTime):pc(t);return n.isEqual(Gs.min())&&(n=pc(t)),new wl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=pc(e.commitTime);return this.listener.d_(n,t)}return Ds(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=_c(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ec(this.serializer,e)))};this.r_(t)}}class Pu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Os(Is.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Do(e,gc(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Is.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Os(Is.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Mo(e,gc(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Is.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Os(Is.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class Ru{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Es(t),this.y_=!1):Ss("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Lu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{Ku(this)&&(Ss("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=As(e);t.M_.add(4),await zu(t),t.N_.set("Unknown"),t.M_.delete(4),await Fu(t)}(this))}))})),this.N_=new Ru(n,r)}}async function Fu(e){if(Ku(e))for(const t of e.x_)await t(!0)}async function zu(e){for(const t of e.x_)await t(!1)}function Bu(e,t){const n=As(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),qu(n)?Hu(n):hh(n).Zo()&&Vu(n,t))}function Uu(e,t){const n=As(e),r=hh(n);n.F_.delete(t),r.Zo()&&Wu(n,t),0===n.F_.size&&(r.Zo()?r.t_():Ku(n)&&n.N_.set("Unknown"))}function Vu(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hh(e).h_(t)}function Wu(e,t){e.L_.xe(t),hh(e).P_(t)}function Hu(e){e.L_=new rc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),hh(e).start(),e.N_.w_()}function qu(e){return Ku(e)&&!hh(e).Yo()&&e.F_.size>0}function Ku(e){return 0===As(e).M_.size}function Gu(e){e.L_=void 0}async function Yu(e){e.N_.set("Online")}async function Qu(e){e.F_.forEach(((t,n)=>{Vu(e,t)}))}async function Xu(e,t){Gu(e),qu(e)?(e.N_.D_(t),Hu(e)):e.N_.set("Unknown")}async function $u(e,t,n){if(e.N_.set("Online"),t instanceof tc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Ss("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zu(e,n)}else if(t instanceof Jl?e.L_.Ke(t):t instanceof ec?e.L_.He(t):e.L_.We(t),!n.isEqual(Gs.min()))try{const t=await du(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Ta.EMPTY_BYTE_STRING,r.snapshotVersion)),Wu(e,t);const i=new Fc(r.target,t,n,r.sequenceNumber);Vu(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ss("RemoteStore","Failed to raise snapshot:",t),await Zu(e,t)}}async function Zu(e,t,n){if(!ca(t))throw t;e.M_.add(1),await zu(e),e.N_.set("Offline"),n||(n=()=>du(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ss("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Fu(e)}))}function Ju(e,t){return t().catch((n=>Zu(e,n,t)))}async function eh(e){const t=As(e),n=dh(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;th(t);)try{const e=await pu(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,nh(t,e)}catch(e){await Zu(t,e)}rh(t)&&ih(t)}function th(e){return Ku(e)&&e.v_.length<10}function nh(e,t){e.v_.push(t);const n=dh(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function rh(e){return Ku(e)&&!dh(e).Yo()&&e.v_.length>0}function ih(e){dh(e).start()}async function sh(e){dh(e).R_()}async function ah(e){const t=dh(e);for(const n of e.v_)t.E_(n.mutations)}async function oh(e,t,n){const r=e.v_.shift(),i=Ll.from(r,t,n);await Ju(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await eh(e)}async function lh(e,t){t&&dh(e).T_&&await async function(e,t){if(function(e){return Vl(e)&&e!==Is.ABORTED}(t.code)){const n=e.v_.shift();dh(e).e_(),await Ju(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await eh(e)}}(e,t),rh(e)&&ih(e)}async function ch(e,t){const n=As(e);n.asyncQueue.verifyOperationInProgress(),Ss("RemoteStore","RemoteStore received new credentials");const r=Ku(n);n.M_.add(3),await zu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Fu(n)}async function uh(e,t){const n=As(e);t?(n.M_.delete(2),await Fu(n)):t||(n.M_.add(2),await zu(n),n.N_.set("Unknown"))}function hh(e){return e.B_||(e.B_=function(e,t,n){const r=As(e);return r.m_(),new ju(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Yu.bind(null,e),Io:Qu.bind(null,e),Eo:Xu.bind(null,e),l_:$u.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),qu(e)?Hu(e):e.N_.set("Unknown")):(await e.B_.stop(),Gu(e))}))),e.B_}function dh(e){return e.k_||(e.k_=function(e,t,n){const r=As(e);return r.m_(),new Mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:sh.bind(null,e),Eo:lh.bind(null,e),A_:ah.bind(null,e),d_:oh.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await eh(e)):(await e.k_.stop(),e.v_.length>0&&(Ss("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class fh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new fh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Os(Is.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ph(e,t){if(Es("AsyncQueue","".concat(t,": ").concat(e)),ca(e))return new Os(Is.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class mh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zs.comparator(t.key,n.key):(e,t)=>Zs.comparator(e.key,t.key),this.keyedMap=Qo(),this.sortedSet=new wa(this.comparator)}static emptySet(e){return new mh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new mh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class gh{constructor(){this.q_=new wa(Zs.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ns():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class vh{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new vh(e,t,mh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class yh{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class bh{constructor(){this.queries=new qo((e=>zo(e)),Fo),this.onlineState="Unknown",this.z_=new Set}}async function wh(e,t){const n=As(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new yh,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ph(e,"Initialization of query '".concat(Bo(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&Sh(n)}async function xh(e,t){const n=As(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _h(e,t){const n=As(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&Sh(n)}function kh(e,t,n){const r=As(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function Sh(e){e.z_.forEach((e=>{e.next()}))}var Eh,Ch;(Ch=Eh||(Eh={})).J_="default",Ch.Cache="cache";class Th{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Eh.Cache}}class Nh{constructor(e){this.key=e}}class Dh{constructor(e){this.key=e}}class Ah{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=nl(),this.mutatedKeys=nl(),this.Ia=Wo(e),this.Ta=new mh(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new gh,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Uo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Ia(u,o)>0||l&&this.Ia(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Zi:a,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ns()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const a=t&&!r?this.ma():[],o=0===this.Pa.size&&this.current&&!r?1:0,l=o!==this.ha;return this.ha=o,0!==s.length||l?{snapshot:new vh(this.query,e.Ta,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new gh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=nl(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new Dh(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new Nh(n))})),t}pa(e){this.la=e.ls,this.Pa=nl();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return vh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ih{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Oh{constructor(e){this.key=e,this.wa=!1}}class jh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new qo((e=>zo(e)),Fo),this.Da=new Map,this.Ca=new Set,this.va=new wa(Zs.comparator),this.Fa=new Map,this.Ma=new $c,this.xa={},this.Oa=new Map,this.Na=qc.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Mh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=td(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Rh(r,t,n,!0),i}async function Ph(e,t){const n=td(e);await Rh(n,t,!0,!1)}async function Rh(e,t,n,r){const i=await mu(e.localStore,Po(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await Lh(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Bu(e.remoteStore,i),o}async function Lh(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await vu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Qh(e,t.targetId,o.fa),o.snapshot}(e,t,n,r);const s=await vu(e.localStore,t,!0),a=new Ah(t,s.ls),o=a.da(s.documents),l=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Qh(e,n,c.fa);const u=new Ih(t,n,a);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function Fh(e,t,n){const r=As(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Fo(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uu(r.remoteStore,i.targetId),Gh(r,i.targetId)})).catch(aa)):(Gh(r,i.targetId),await gu(r.localStore,i.targetId,!0))}async function zh(e,t){const n=As(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uu(n.remoteStore,r.targetId))}async function Bh(e,t){const n=As(e);try{const e=await function(e,t){const n=As(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ta.EMPTY_BYTE_STRING,Gs.min()).withLastLimboFreeSnapshotVersion(Gs.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.qr.updateTargetData(e,c))}));let o=Go(),l=nl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(fu(e,s,t.documentUpdates).next((e=>{o=e.us,l=e.cs}))),!r.isEqual(Gs.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return oa.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Ds(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Ds(r.wa):e.removedDocuments.size>0&&(Ds(r.wa),r.wa=!1))})),await Zh(n,e,t)}catch(e){await aa(e)}}function Uh(e,t,n){const r=As(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=As(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&Sh(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vh(e,t,n){const r=As(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new wa(Zs.comparator);e=e.insert(s,eo.newNoDocument(s,Gs.min()));const n=nl().add(s),i=new $l(Gs.min(),new Map,new wa(Hs),e,n);await Bh(r,i),r.va=r.va.remove(s),r.Fa.delete(t),$h(r)}else await gu(r.localStore,t,!1).then((()=>Gh(r,t,n))).catch(aa)}async function Wh(e,t){const n=As(e),r=t.batch.batchId;try{const e=await function(e,t){const n=As(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=oa.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ds(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=nl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Kh(n,r,null),qh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,e)}catch(e){await aa(e)}}async function Hh(e,t,n){const r=As(e);try{const e=await function(e,t){const n=As(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ds(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Kh(r,t,n),qh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Zh(r,e)}catch(n){await aa(n)}}function qh(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Kh(e,t,n){const r=As(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||Yh(e,t)}))}function Yh(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Uu(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),$h(e))}function Qh(e,t,n){for(const r of n)r instanceof Nh?(e.Ma.addReference(r.key,t),Xh(e,r)):r instanceof Dh?(Ss("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Yh(e,r.key)):Ns()}function Xh(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ss("SyncEngine","New document in limbo: "+n),e.Ca.add(r),$h(e))}function $h(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Zs(Qs.fromString(t)),r=e.Na.next();e.Fa.set(r,new Oh(n)),e.va=e.va.insert(n,r),Bu(e.remoteStore,new Fc(Po(Io(n.path)),r,"TargetPurposeLimboResolution",ua.oe))}}async function Zh(e,t,n){const r=As(e),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach(((e,o)=>{a.push(r.Ba(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=au.Qi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Sa.l_(i),await async function(e,t){const n=As(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>oa.forEach(t,(t=>oa.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>oa.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ca(e))throw e;Ss("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function Jh(e,t){const n=As(e);if(!n.currentUser.isEqual(t)){Ss("SyncEngine","User change. New user:",t.toKey());const e=await hu(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Os(Is.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zh(n,e._s)}}function ed(e,t){const n=As(e),r=n.Fa.get(t);if(r&&r.wa)return nl().add(r.key);{let e=nl();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function td(e){const t=As(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ed.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vh.bind(null,t),t.Sa.l_=_h.bind(null,t.eventManager),t.Sa.ka=kh.bind(null,t.eventManager),t}function nd(e){const t=As(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hh.bind(null,t),t}class rd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Au(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return uu(this.persistence,new lu,e.initialUser,this.serializer)}createPersistence(e){return new ru(su.jr,this.serializer)}createSharedClientState(e){return new wu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class id{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Uh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jh.bind(null,this.syncEngine),await uh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new bh}createDatastore(e){const t=Au(e.databaseInfo.databaseId),n=function(e){return new Nu(e)}(e.databaseInfo);return function(e,t,n,r){return new Pu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Lu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Uh(this.syncEngine,e,0)),_u.D()?new _u:new xu)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new jh(e,t,n,r,i,s);return a&&(o.La=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=As(e);Ss("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await zu(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class sd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ad{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ws.UNAUTHENTICATED,this.clientId=Ws.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ss("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ss("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Os(Is.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ph(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function od(e,t){e.asyncQueue.verifyOperationInProgress(),Ss("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ld(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ud(e);Ss("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ch(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ch(t.remoteStore,n))),e._onlineComponents=t}function cd(e){return"FirebaseError"===e.name?e.code===Is.FAILED_PRECONDITION||e.code===Is.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ud(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ss("FirestoreClient","Using user provided OfflineComponentProvider");try{await od(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!cd(n))throw n;Cs("Error using user provided cache. Falling back to memory cache: "+n),await od(e,new rd)}}else Ss("FirestoreClient","Using default OfflineComponentProvider"),await od(e,new rd);return e._offlineComponents}async function hd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ss("FirestoreClient","Using user provided OnlineComponentProvider"),await ld(e,e._uninitializedComponentsProvider._online)):(Ss("FirestoreClient","Using default OnlineComponentProvider"),await ld(e,new id))),e._onlineComponents}function dd(e){return hd(e).then((e=>e.syncEngine))}async function fd(e){const t=await hd(e),n=t.eventManager;return n.onListen=Mh.bind(null,t.syncEngine),n.onUnlisten=Fh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ph.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zh.bind(null,t.syncEngine),n}function pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new js;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new sd({next:s=>{t.enqueueAndForget((()=>xh(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Os(Is.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Os(Is.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Th(Io(n.path),s,{includeMetadataChanges:!0,ra:!0});return wh(e,a)}(await fd(e),e.asyncQueue,t,n,r))),r.promise}function md(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new js;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new sd({next:n=>{t.enqueueAndForget((()=>xh(e,a))),n.fromCache&&"server"===r.source?i.reject(new Os(Is.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Th(n,s,{includeMetadataChanges:!0,ra:!0});return wh(e,a)}(await fd(e),e.asyncQueue,t,n,r))),r.promise}function gd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vd=new Map;function yd(e,t,n){if(!n)throw new Os(Is.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bd(e){if(!Zs.isDocumentKey(e))throw new Os(Is.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function wd(e){if(Zs.isDocumentKey(e))throw new Os(Is.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ns()}function _d(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Os(Is.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(e);throw new Os(Is.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class kd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Os(Is.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Os(Is.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Os(Is.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Os(Is.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Os(Is.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Os(Is.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Os(Is.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Os(Is.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ps;switch(e.type){case"firstParty":return new zs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Os(Is.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vd.get(e);t&&(Ss("ComponentProvider","Removing Datastore"),vd.delete(e),t.terminate())}(this),Promise.resolve()}}class Ed{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ed(this.firestore,e,this._query)}}class Cd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Td(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cd(this.firestore,e,this._key)}}class Td extends Ed{constructor(e,t,n){super(e,t,Io(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cd(this.firestore,null,new Zs(e))}withConverter(e){return new Td(this.firestore,e,this._path)}}function Nd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=k(e),yd("collection","path",t),e instanceof Sd){const n=Qs.fromString(t,...r);return wd(n),new Td(e,null,n)}{if(!(e instanceof Cd||e instanceof Td))throw new Os(Is.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qs.fromString(t,...r));return wd(n),new Td(e.firestore,null,n)}}function Dd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=k(e),1===arguments.length&&(t=Ws.newId()),yd("doc","path",t),e instanceof Sd){const n=Qs.fromString(t,...r);return bd(n),new Cd(e,null,new Zs(n))}{if(!(e instanceof Cd||e instanceof Td))throw new Os(Is.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qs.fromString(t,...r));return bd(n),new Cd(e.firestore,e instanceof Td?e.converter:null,new Zs(n))}}class Ad{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Iu(this,"async_queue_retry"),this.hu=()=>{const e=Du();e&&Ss("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=Du();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Du();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new js;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!ca(e))throw e;Ss("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Es("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=fh.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Ns()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class Id extends Sd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ad,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Md(this),this._firestoreClient.terminate()}}function Od(e,t){const n="string"==typeof e?e:t||"(default)",r=je("object"==typeof e?e:Fe(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=h("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=_d(e,Sd))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ws.MOCK_USER;else{t=p(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Os(Is.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ws(s)}e._authCredentials=new Rs(new Ms(t,n))}}(r,...e)}return r}function jd(e){return e._firestoreClient||Md(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Md(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Pa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gd(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ad(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Pd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pd(Ta.fromBase64String(e))}catch(e){throw new Os(Is.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pd(Ta.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Os(Is.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $s(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Fd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Os(Is.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Os(Is.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hs(this._lat,e._lat)||Hs(this._long,e._long)}}const zd=/^__.*__$/;class Bd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Al(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)}}class Ud{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ns()}}class Wd{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rf(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Vd(this.fu)&&zd.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Hd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Au(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Wd({fu:e,methodName:t,vu:n,path:$s.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(e){const t=e._freezeSettings(),n=Au(e._databaseId);return new Hd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);Jd("Data must be an object, but it was:",a,r);const o=$d(r,a);let l,c;if(s.merge)l=new Ea(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=ef(t,r,n);if(!a.contains(i))throw new Os(Is.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));sf(e,i)||e.push(i)}l=new Ea(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Bd(new Za(o),l,c)}class Gd extends Ld{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function Yd(e,t,n,r){const i=e.Fu(1,t,n);Jd("Data must be an object, but it was:",i,r);const s=[],a=Za.empty();ya(r,((e,r)=>{const o=nf(t,e,n);r=k(r);const l=i.Su(o);if(r instanceof Gd)s.push(o);else{const e=Xd(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Ea(s);return new Ud(a,o,i.fieldTransforms)}function Qd(e,t,n,r,i,s){const a=e.Fu(1,t,n),o=[ef(t,r,n)],l=[i];if(s.length%2!=0)throw new Os(Is.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(ef(t,s[d])),l.push(s[d+1]);const c=[],u=Za.empty();for(let d=o.length-1;d>=0;--d)if(!sf(c,o[d])){const e=o[d];let t=l[d];t=k(t);const n=a.Su(e);if(t instanceof Gd)c.push(e);else{const r=Xd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Ea(c);return new Ud(u,h,a.fieldTransforms)}function Xd(e,t){if(Zd(e=k(e)))return Jd("Unsupported field value:",t,e),$d(e,t);if(e instanceof Ld)return function(e,t){if(!Vd(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Xd(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=k(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ol(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ks.fromDate(e);return{timestampValue:hc(t.serializer,n)}}if(e instanceof Ks){const n=new Ks(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hc(t.serializer,n)}}if(e instanceof Fd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pd)return{bytesValue:dc(t.serializer,e._byteString)};if(e instanceof Cd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:mc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(xd(e)))}(e,t)}function $d(e,t){const n={};return ba(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(e,((e,r)=>{const i=Xd(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Zd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ks||e instanceof Fd||e instanceof Pd||e instanceof Cd||e instanceof Ld)}function Jd(e,t,n){if(!Zd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=xd(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function ef(e,t,n){if((t=k(t))instanceof Rd)return t._internalPath;if("string"==typeof t)return nf(e,t);throw rf("Field path arguments must be of type string or ",e,!1,void 0,n)}const tf=new RegExp("[~\\*/\\[\\]]");function nf(e,t,n){if(t.search(tf)>=0)throw rf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Rd(...t.split("."))._internalPath}catch(ht){throw rf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Os(Is.INVALID_ARGUMENT,o+e+l)}function sf(e,t){return e.some((e=>e.isEqual(t)))}class af{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new of(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class of extends af{data(){return super.data()}}function lf(e,t){return"string"==typeof t?nf(e,t):t instanceof Rd?t._internalPath:t._delegate._internalPath}function cf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Os(Is.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Aa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ns()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ya(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Fd(Aa(e.latitude),Aa(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ja(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ma(e));default:return null}}convertTimestamp(e){const t=Da(e);return new Ks(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qs.fromString(e);Ds(Lc(n));const r=new Ra(n.get(1),n.get(3)),i=new Zs(n.popFirst(5));return r.isEqual(t)||Es("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ff extends af{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pf extends ff{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new df(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new pf(this._firestore,this._userDataWriter,n.key,n,new df(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Os(Is.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new pf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new df(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new pf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new df(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:gf(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ns()}}function vf(e){e=_d(e,Cd);const t=_d(e.firestore,Id);return pd(jd(t),e._key).then((n=>Ef(t,e,n)))}class yf extends uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cd(this.firestore,null,t)}}function bf(e){e=_d(e,Ed);const t=_d(e.firestore,Id),n=jd(t),r=new yf(t);return cf(e._query),md(n,e._query).then((n=>new mf(t,r,e,n)))}function wf(e,t,n){e=_d(e,Cd);const r=_d(e.firestore,Id),i=hf(e.converter,t,n);return Sf(r,[Kd(qd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xl.none())])}function xf(e,t,n){e=_d(e,Cd);const r=_d(e.firestore,Id),i=qd(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=k(t))||t instanceof Rd?Qd(i,"updateDoc",e._key,t,n,o):Yd(i,"updateDoc",e._key,t),Sf(r,[s.toMutation(e._key,xl.exists(!0))])}function _f(e){return Sf(_d(e.firestore,Id),[new Ml(e._key,xl.none())])}function kf(e,t){const n=_d(e.firestore,Id),r=Dd(e),i=hf(e.converter,t);return Sf(n,[Kd(qd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xl.exists(!1))]).then((()=>r))}function Sf(e,t){return function(e,t){const n=new js;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=nd(e);try{const e=await function(e,t){const n=As(e),r=Ks.now(),i=t.reduce(((e,t)=>e.add(t.key)),nl());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Go(),l=nl();return n.ss.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Tl(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Al(e.key,t,Ja(t.value.mapValue),xl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Xo(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new wa(Hs)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Zh(r,e.changes),await eh(r.remoteStore)}catch(e){const t=ph(e,"Failed to persist write");n.reject(t)}}(await dd(e),t,n))),n.promise}(jd(e),t)}function Ef(e,t,n){const r=n.docs.get(t._key),i=new yf(e);return new ff(e,i,t._key,r,new df(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xs=e}(Re),Oe(new S("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Id(new Ls(e.getProvider("auth-internal")),new Us(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Os(Is.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ze(bs,"4.6.1",e),ze(bs,"4.6.1","esm2017")}();const Cf="firebasestorage.googleapis.com",Tf="storageBucket";class Nf extends y{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(If(e),"Firebase Storage: ".concat(t," (").concat(If(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return If(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Df,Af;function If(e){return"storage/"+e}function Of(){return new Nf(Df.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jf(){return new Nf(Df.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mf(){return new Nf(Df.CANCELED,"User canceled the upload/download.")}function Pf(){return new Nf(Df.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rf(e){return new Nf(Df.INVALID_ARGUMENT,e)}function Lf(){return new Nf(Df.APP_DELETED,"The Firebase app was deleted.")}function Ff(e,t){return new Nf(Df.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function zf(e){throw new Nf(Df.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Df||(Df={}));class Bf{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Bf.makeFromUrl(e,t)}catch(i){return new Bf(e,"")}if(""===n.path)return n;throw r=e,new Nf(Df.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Cf?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Bf(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Nf(Df.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Uf{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Vf(e){return"string"===typeof e||e instanceof String}function Wf(e){return Hf()&&e instanceof Blob}function Hf(){return"undefined"!==typeof Blob}function qf(e,t,n,r){if(r<t)throw Rf("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Rf("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Kf(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Gf(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Yf(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Af||(Af={}));class Qf{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Xf(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Af.NO_ERROR,i=n.getStatus();if(!t||Yf(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Af.ABORT;return void e(!1,new Xf(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Xf(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Of();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Lf():Mf())}else{r(jf())}};this.canceled_?t(0,new Xf(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xf{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function $f(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zf(){const e=$f();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Hf())return new Blob(n);throw new Nf(Df.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Jf(e){if("undefined"===typeof atob)throw t="base-64",new Nf(Df.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ep={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,t){this.data=e,this.contentType=t||null}}function np(e,t){switch(e){case ep.RAW:return new tp(rp(t));case ep.BASE64:case ep.BASE64URL:return new tp(ip(e,t));case ep.DATA_URL:return new tp(function(e){const t=new sp(e);return t.base64?ip(ep.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Ff(ep.DATA_URL,"Malformed data URL.")}return rp(t)}(t.rest)}(t),new sp(t).contentType)}throw Of()}function rp(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ip(e,t){switch(e){case ep.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ff(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ep.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ff(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Jf(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Ff(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class sp{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ff(ep.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ap{constructor(e,t){let n=0,r="";Wf(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wf(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ap(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ap(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Hf()){const e=t.map((e=>e instanceof ap?e.data_:e));return new ap(Zf.apply(null,e))}{const e=t.map((e=>Vf(e)?np(ep.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ap(r,!0)}}uploadData(){return this.data_}}function op(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function lp(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function cp(e,t){return t}class up{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||cp}}let hp=null;function dp(){if(hp)return hp;const e=[];e.push(new up("bucket")),e.push(new up("generation")),e.push(new up("metageneration")),e.push(new up("name","fullPath",!0));const t=new up("name");t.xform=function(e,t){return function(e){return!Vf(e)||e.length<2?e:lp(e)}(t)},e.push(t);const n=new up("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new up("timeCreated")),e.push(new up("updated")),e.push(new up("md5Hash",null,!0)),e.push(new up("cacheControl",null,!0)),e.push(new up("contentDisposition",null,!0)),e.push(new up("contentEncoding",null,!0)),e.push(new up("contentLanguage",null,!0)),e.push(new up("contentType",null,!0)),e.push(new up("metadata","customMetadata",!0)),hp=e,hp}function fp(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Bf(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pp(e,t,n){const r=op(t);if(null===r)return null;return fp(e,r,n)}function mp(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const gp="prefixes",vp="items";function yp(e,t,n){const r=op(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[gp])for(const i of n[gp]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new Bf(t,n));r.prefixes.push(s)}if(n[vp])for(const i of n[vp]){const n=e._makeStorageReference(new Bf(t,i.name));r.items.push(n)}return r}(e,t,r)}class bp{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wp(e){if(!e)throw Of()}function xp(e,t){return function(n,r){const i=pp(e,r,t);return wp(null!==i),i}}function _p(e,t){return function(n,r){const i=pp(e,r,t);return wp(null!==i),function(e,t,n,r){const i=op(t);if(null===i)return null;if(!Vf(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Kf("/b/"+a(i)+"/o/"+a(s),n,r)+Gf({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function kp(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Nf(Df.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Nf(Df.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Nf(Df.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Nf(Df.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Sp(e){const t=kp(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Nf(Df.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ep(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Kf(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new bp(a,"GET",function(e,t){return function(n,r){const i=yp(e,t,r);return wp(null!==i),i}}(e,t.bucket),o);return l.urlParams=s,l.errorHandler=kp(t),l}function Cp(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Tp(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Cp(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mp(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=ap.getBlob(c,r,u);if(null===h)throw Pf();const d={name:l.fullPath},f=Kf(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new bp(f,"POST",xp(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=kp(t),m}let Np=null;class Dp{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Af.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Af.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Af.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw zf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw zf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ap extends Dp{initXhr(){this.xhr_.responseType="text"}}function Ip(){return Np?Np():new Ap}class Op{constructor(e,t){this._service=e,this._location=t instanceof Bf?t:Bf.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Op(e,t)}get root(){const e=new Bf(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lp(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Bf(this._location.bucket,e);return new Op(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Nf(Df.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function jp(e,t,n){e._throwIfRoot("uploadBytes");const r=Tp(e.storage,e._location,dp(),new ap(t,!0),n);return e.storage.makeRequestWithTokens(r,Ip).then((t=>({metadata:t,ref:e})))}function Mp(e){const t={prefixes:[],items:[]};return Pp(e,t).then((()=>t))}async function Pp(e,t,n){const r={pageToken:n},i=await Rp(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Pp(e,t,i.nextPageToken)}function Rp(e,t){null!=t&&"number"===typeof t.maxResults&&qf("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Ep(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Ip)}function Lp(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Kf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new bp(r,"GET",_p(e,n),i);return s.errorHandler=Sp(t),s}(e.storage,e._location,dp());return e.storage.makeRequestWithTokens(t,Ip).then((e=>{if(null===e)throw new Nf(Df.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Fp(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Bf(e._location.bucket,n);return new Op(e.storage,r)}function zp(e,t){if(e instanceof Vp){const n=e;if(null==n._bucket)throw new Nf(Df.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tf+"' property when initializing the app?");const r=new Op(n,n._bucket);return null!=t?zp(r,t):r}return void 0!==t?Fp(e,t):e}function Bp(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Vp)return new Op(e,t);throw Rf("To use ref(service, url), the first argument must be a Storage instance.")}return zp(e,t)}function Up(e,t){const n=null===t||void 0===t?void 0:t[Tf];return null==n?null:Bf.makeFromBucketSpec(n,e)}class Vp{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Cf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Bf.makeFromBucketSpec(r,this._host):Up(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Bf.makeFromBucketSpec(this._url,e):this._bucket=Up(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Op(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Uf(Lf());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Gf(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Qf(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Wp="@firebase/storage",Hp="0.12.4",qp="storage";function Kp(e){return Lp(e=k(e))}function Gp(e,t){return Bp(e=k(e),t)}function Yp(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Vp(r,i,s,n,Re)}Oe(new S(qp,Yp,"PUBLIC").setMultipleInstances(!0)),ze(Wp,Hp,""),ze(Wp,Hp,"esm2017");const Qp=Le({apiKey:"AIzaSyAWW2cidrB2D2EUZH4QElSzD_Kt7xDywDk",authDomain:"uhalisi-6d171.firebaseapp.com",projectId:"uhalisi-6d171",storageBucket:"uhalisi-6d171.appspot.com",messagingSenderId:"965949499764",appId:"1:965949499764:web:8642a02a9cc6145ef0e421"}),Xp=Od(Qp),$p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe(),t=arguments.length>1?arguments[1]:void 0;e=k(e);const n=je(e,qp).getImmediate({identifier:t}),r=h("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:p(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Qp);const Zp=class{constructor(e){this.collectionRef=Nd(Xp,e)}async getAll(e){try{const t=await bf(this.collectionRef);let n=[];return n="songs"===e?t.docs.filter((e=>!!e.data().audioUrl)):"links"===e?t.docs.filter((e=>!!e.data().url)):t.docs.filter((e=>!!e.data().fileUrl)),n.map((e=>({id:e.id,...e.data()})))}catch(t){throw console.error("Error getting all documents:",t),t}}async addPlannerData(e){try{return await wf(Dd(Xp,"scc","plannerData"),e),{success:!0}}catch(t){return console.error("Error adding planner data:",t),{success:!1,message:"Error adding planner data"}}}async getPlannerData(){try{const e=Dd(Xp,"scc","plannerData"),t=await vf(e);return t.exists()?{success:!0,data:t.data()}:{success:!1,message:"No such document!"}}catch(e){return console.error("Error getting planner data:",e),{success:!1,message:"Error getting planner data"}}}async updatePlannerData(e){try{const t=Dd(Xp,"scc","plannerData");return await xf(t,e),{success:!0,message:"Planner data updated successfully"}}catch(t){return console.error("Error updating planner data:",t),{success:!1,message:"Error updating planner data"}}}async uploadFile(e,t){try{const n=Gp($p,"".concat(e,"-").concat(Date.now())),r=await function(e,t,n){return jp(e=k(e),t,n)}(n,t);return await Kp(r.ref)}catch(n){throw console.error("Error uploading file:",n),n}}async addSong(e){try{let t="";null!==e&&void 0!==e&&e.file&&(t=await this.uploadFile("songs/".concat(e.title),e.file));const n={title:e.title,lyrics:e.lyrics,audioUrl:t};return await wf(Dd(this.collectionRef),n),{success:!0,song:n}}catch(t){return console.error("Error adding song:",t),{success:!1,message:"Error adding song"}}}async addDocument(e,t){try{const n={title:e,fileUrl:await this.uploadFile("documents/".concat(e),t)};return await wf(Dd(this.collectionRef),n),{success:!0,document:n}}catch(n){return console.error("Error adding document:",n),{success:!1,message:"Error adding document"}}}async addLink(e,t){try{const n={title:e,url:t};return await wf(Dd(this.collectionRef),n),{success:!0,link:n}}catch(n){return console.error("Error adding link:",n),{success:!1,message:"Error adding link"}}}async deleteById(e){try{return await _f(Dd(this.collectionRef,e)),{success:!0,message:"Document deleted successfully"}}catch(t){return console.error("Error deleting document:",t),{success:!1,message:"Error deleting document"}}}async update(e,t){try{const n=Dd(this.collectionRef,e);return(await vf(n)).exists()?(await xf(n,t),{success:!0,message:"Document updated successfully"}):{success:!1,message:"Document not found"}}catch(n){return console.error("Error updating document:",n),{success:!1,message:"Error updating document"}}}async getDownloadURLDB(e,t){try{return await Kp(Gp($p,"".concat(e,"/").concat(t)))}catch(n){return console.error("Error updating document:",n),{success:!1,message:"Error updating document"}}}async getDownloadURLDB(e){try{return await Kp(e)}catch(t){return console.error("Error updating document:",t),{success:!1,message:"Error updating document"}}}async getFiles(){const e=Gp($p,"songs"),t=[],n=await function(e){return Mp(e=k(e))}(e),r=n.items.map((async e=>{const t=await Kp(e);return{name:e.name,href:t}})),i=await Promise.all(r);return t.push(...i),t}};var Jp=n(579);const em=e=>{let{messageText:t,messageType:n}=e;return(0,Jp.jsxs)("div",{className:"message-container ".concat((()=>{switch(n){case 0:return"confirmation-message";case 1:return"success-message";case 2:return"error-message";case 3:return"loading-message";case 4:return"warning-message";default:return"info-message"}})()),children:[(0,Jp.jsx)("span",{className:"emoji",children:(()=>{switch(n){case 0:return"\u2705";case 1:return"\ud83c\udf89";case 2:return"\u274c";case 3:return"\u23f3";case 4:return"\u26a0\ufe0f";default:return"\u2139\ufe0f"}})()}),(0,Jp.jsx)("p",{className:"message-text",children:t})]})},tm=t=>{let{filename:n,view:r}=t;const i=new Zp("scc"),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)("loading");return(0,e.useEffect)((()=>{(null===n||void 0===n?void 0:n.length)>2&&(l("loading"),(async e=>{try{const t=(await i.getAll("songs")).filter((t=>t.title.toLowerCase().includes(e.toLowerCase())));if(0===t.length)l("not-found");else{const n=t.find((t=>t.title.toLowerCase()===e.toLowerCase()));a(t),l(n?"found":"similar")}}catch(t){console.error("Error fetching songs:",t),l("error")}})(n))}),[n]),n?(0,Jp.jsxs)("div",{className:"results-container",children:["loading"===o&&(0,Jp.jsx)("p",{className:"status-message",children:"Searching..."}),"found"===o&&(0,Jp.jsxs)("div",{className:"result-status",children:[(0,Jp.jsx)("i",{className:"fa fa-check-circle success-icon","aria-hidden":"true"})," Found! Don't upload"]}),"similar"===o&&(0,Jp.jsxs)("div",{className:"result-status",children:[(0,Jp.jsx)("i",{className:"fa fa-check-circle similar-icon","aria-hidden":"true"})," Did you mean: ",s.map((e=>e.title)).join(", "),r]}),"not-found"===o&&(0,Jp.jsxs)("div",{className:"result-status",children:[(0,Jp.jsx)("i",{className:"fa fa-times-circle error-icon","aria-hidden":"true"})," We don't have it",r]}),"error"===o&&(0,Jp.jsxs)("div",{className:"result-status",children:[(0,Jp.jsx)("i",{className:"fa fa-exclamation-circle error-icon","aria-hidden":"true"})," An error occurred"]})]}):""},nm=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),f="1",p="2",m="3",[g,v]=(0,e.useState)(f),y=new Zp("scc"),[b,w]=(0,e.useState)(!1),[x,_]=(0,e.useState)(""),[k,S]=(0,e.useState)(0),E=(e,t,n)=>{_(e),S(t),w(!0),setTimeout((()=>{w(!1)}),n||3e3)},C=()=>{n(""),i(""),a(null),l("")};return(0,Jp.jsxs)("div",{className:"file-upload-form",children:[(0,Jp.jsx)("h3",{children:"Upload Content"}),b&&(0,Jp.jsx)(em,{messageText:x,messageType:k}),(0,Jp.jsx)("p",{className:"upload-type-form",children:(0,Jp.jsxs)("select",{onChange:e=>v(e.target.value),className:"upload-type-select",children:[(0,Jp.jsx)("option",{value:f,children:"Songs & Lyrics"}),(0,Jp.jsx)("option",{value:p,children:"Links"}),(0,Jp.jsx)("option",{value:m,children:"Documents"})]})}),(0,Jp.jsxs)("div",{className:"form-group",children:[(0,Jp.jsx)("label",{children:"Title"}),(0,Jp.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),required:!0,className:"text-input"}),g===f&&(null===t||void 0===t?void 0:t.length)>3&&(0,Jp.jsx)(tm,{filename:t})]}),g!==p&&(0,Jp.jsx)("div",{className:"form-group",children:(0,Jp.jsx)("input",{type:"file",accept:".pdf,image/*,audio/*",onChange:e=>a(e.target.files[0]),className:"file-input"})}),g===f&&(0,Jp.jsxs)("div",{className:"form-group",children:[(0,Jp.jsx)("label",{children:"Lyrics (for songs)"}),(0,Jp.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),className:"lyrics-textarea"})]}),g===p&&(0,Jp.jsxs)("div",{className:"form-group",children:[(0,Jp.jsx)("label",{children:"Or Enter a Link"}),(0,Jp.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),className:"text-input"})]}),h&&(0,Jp.jsx)("div",{className:"status-message",children:h}),c&&(0,Jp.jsx)("div",{className:"error-message",children:c}),(0,Jp.jsx)("button",{type:"submit",className:"upload-button",onClick:async e=>{if(e.preventDefault(),u(""),t.trim()){d("Uploading 20%"),E("Uploading...",3,3e3);try{if(s)g===f?(d("Uploading 30%"),await y.addSong({title:t,lyrics:r,file:s}),d("Uploading 80%")):await y.addDocument(t,s);else{if(!o)return u("Please upload a file or enter a link"),E("Please upload a file or enter a link",2,3e3),void d("");await y.addLink(t,o)}d("Uploading 100%"),C(),E("Uploaded successfully!",1,5e3)}catch(c){E("An error occurred during upload",2,5e3),u("An error occurred during upload"),console.error("Upload error:",c)}}else u("Title is required")},children:"Upload"})]})};var rm=n(159),im=n.n(rm),sm=n(450),am=n.n(sm);const om=t=>{let{audioList:n,handleRemove:r}=t;const[i,s]=(0,e.useState)("");return(0,Jp.jsxs)("div",{className:"audio-zip-container",children:[(0,Jp.jsx)("h2",{className:"audio-zip-title",children:"Download All Files:"}),(0,Jp.jsxs)("details",{children:[(0,Jp.jsxs)("summary",{children:["Selected songs: ",null===n||void 0===n?void 0:n.length]}),(0,Jp.jsx)("article",{children:(0,Jp.jsx)("ul",{className:"audio-list",children:null===n||void 0===n?void 0:n.map(((e,t)=>(0,Jp.jsxs)("li",{className:"audio-item",children:[(0,Jp.jsx)("span",{className:"audio-title",children:e.title}),(0,Jp.jsx)("button",{className:"remove-button",onClick:()=>r(e),"aria-label":"Remove ".concat(e.title),children:(0,Jp.jsx)("i",{className:"fa fa-trash"})})]},t)))})})]}),(0,Jp.jsx)("div",{className:"status-feedback",children:i}),(0,Jp.jsxs)("button",{className:"download-button",onClick:()=>{(async(e,t)=>{const n=new(im()),r=(null===e||void 0===e?void 0:e.length)||0;if(0===r)return void t("No audio files selected for download.");const i=e=>{t&&t(e)};let s=0;for(const{audioUrl:l,title:c}of e)try{i("Fetching audio file: ".concat(c,".mp3"));const e=await fetch(l);if(!e.ok)throw new Error("Failed to fetch ".concat(c,".mp3"));i("Converting ".concat(c,".mp3 to blob"));const t=await e.blob();n.file("".concat(c,".mp3"),t),s+=1;const a=Math.round(s/r*100);i("Progress: ".concat(a,"% (").concat(s," of ").concat(r," files added)"))}catch(o){console.error("Error fetching audio file from ".concat(l,":"),o),i("Error fetching ".concat(c,".mp3"))}if(0===s)return void i("No files were added to the ZIP. Please check your selections.");i("Generating final zip file...");const a=await n.generateAsync({type:"blob"});i("Saving zip file..."),am().saveAs(a,"audio-files.zip"),i("Audio zip generation complete!")})(n,s)},children:[(0,Jp.jsx)("i",{className:"fa fa-folder-open","aria-hidden":"true"})," Download ZIP"]})]})},lm=t=>{let{songs:n,searchTerm:r,handleAction:i}=t;const[s,a]=(0,e.useState)([]),o=n.filter((e=>!((null===r||void 0===r?void 0:r.length)>3)||e.title.toLowerCase().includes(r.toLowerCase())));return(0,Jp.jsxs)("div",{className:"song-list-container",children:[(null===s||void 0===s?void 0:s.length)>1&&(0,Jp.jsxs)("div",{className:"song-list-actions",children:[(0,Jp.jsx)("button",{className:"delete-button",onClick:()=>{a([])},disabled:0===s.length,children:"Delete Selected"}),(0,Jp.jsx)(om,{audioList:s,handleRemove:e=>{const t=s.filter((t=>t.id!==e.id));a(t)},handleAction:i})]}),(0,Jp.jsx)("ul",{className:"all-songs-displayer",children:o.map(((e,t)=>(0,Jp.jsxs)("li",{className:"song-displayer",children:[(0,Jp.jsx)("input",{type:"checkbox",className:"song-checkbox",checked:s.some((t=>e.id===t.id)),onChange:()=>(e=>{a((t=>s.some((t=>e.id===t.id))?t.filter((t=>t.id!==e.id)):[...t,e]))})(e)}),(0,Jp.jsx)("h2",{className:"song-title",children:"".concat(t+1,". ").concat(e.title)}),(0,Jp.jsxs)("details",{className:"song-details",children:[(0,Jp.jsx)("summary",{children:"More Info"}),(0,Jp.jsxs)("article",{children:[(0,Jp.jsx)("audio",{controls:!0,src:e.audioUrl}),(0,Jp.jsx)("textarea",{defaultValue:e.lyrics,className:"song-lyrics"})]})]})]},e.id)))})]})},cm=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)("upload"),[c,u]=(0,e.useState)(!1),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)(""),v=(e,t,n)=>{d(e),p(t),u(!0),setTimeout((()=>{u(!1)}),n||3e3)},y=new Zp("scc");(0,e.useEffect)((()=>{(async()=>{try{if("songs"===o){const e=await y.getAll("songs");n(null===e||void 0===e?void 0:e.map(((e,t)=>({...e,position:t}))))}else if("documents"===o){const e=await y.getAll("documents");i(e)}else if("links"===o){const e=await y.getAll("links");a(e)}}catch(e){console.error("Error fetching content:",e)}})()}),[o]);return(0,Jp.jsxs)("div",{className:"content-viewer",children:[(0,Jp.jsxs)("div",{className:"tab-bar",children:[(0,Jp.jsx)("span",{onClick:()=>l("upload"),className:"tab-pill ".concat("upload"===o?"active-pill":""),children:"Upload"}),(0,Jp.jsx)("span",{onClick:()=>l("songs"),className:"tab-pill ".concat("songs"===o?"active-pill":""),children:"Songs"}),(0,Jp.jsx)("span",{onClick:()=>l("documents"),className:"tab-pill ".concat("documents"===o?"active-pill":""),children:"Docs"}),(0,Jp.jsx)("span",{onClick:()=>l("links"),className:"tab-pill ".concat("links"===o?"active-pill":""),children:"Links"})]}),c&&(0,Jp.jsx)(em,{messageText:h,messageType:f}),(()=>{switch(o){case"songs":return(0,Jp.jsxs)("div",{className:"all-songs-displayer",children:[(0,Jp.jsx)("input",{type:"text",placeholder:"Search songs...",value:m,onChange:e=>g(e.target.value),className:"search-input"}),(0,Jp.jsx)(lm,{songs:t,searchTerm:m,handleAction:v})]});case"documents":return(0,Jp.jsx)("ul",{className:"all-doc-displayer",children:r.map(((e,t)=>(0,Jp.jsxs)("li",{className:"doc-displayer",children:[(0,Jp.jsx)("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",children:(0,Jp.jsxs)("strong",{children:["".concat(t+1,". ")," ",e.title]})}),(0,Jp.jsx)("iframe",{className:"item-preview-iframe",width:"200px",height:"200px",src:e.fileUrl,title:"item-preview-iframe",frameBorder:"0",allowFullScreen:!0}),(0,Jp.jsx)("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",children:"\ud83d\udce9 Open"})]},e.id)))});case"links":return(0,Jp.jsx)("ul",{className:"all-links-displayer",children:s.map(((e,t)=>(0,Jp.jsxs)("li",{className:"link-displayer",children:[(0,Jp.jsxs)("strong",{children:["".concat(t+1,". ")," ",e.title]}),(0,Jp.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Open Link"})]},e.id)))});case"upload":return(0,Jp.jsx)(nm,{});default:return(0,Jp.jsx)("p",{children:"No content available."})}})()]})},um=Od(Le({apiKey:"AIzaSyAWW2cidrB2D2EUZH4QElSzD_Kt7xDywDk",authDomain:"uhalisi-6d171.firebaseapp.com",projectId:"uhalisi-6d171",storageBucket:"uhalisi-6d171.appspot.com",messagingSenderId:"965949499764",appId:"1:965949499764:web:8642a02a9cc6145ef0e421"})),hm=Nd(um,"members"),dm=Nd(um,"contactsOutreach"),fm=e=>e.docs.map((e=>({id:e.id,...e.data()}))),pm=async()=>{const e=await bf(hm);return fm(e)},mm=async e=>{const t=Dd(um,"members",e.id);return await xf(t,e),e},gm=async e=>{const t=Dd(um,"members",e);await _f(t)};function vm(e){const t=new Date(e);if(isNaN(t))return"Invalid date";return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}).replace(/(\d+)(?=,)/,(e=>e.endsWith("1")&&!e.endsWith("11")?"".concat(e,"st"):e.endsWith("2")&&!e.endsWith("12")?"".concat(e,"nd"):e.endsWith("3")&&!e.endsWith("13")?"".concat(e,"rd"):"".concat(e,"th")))}const ym=()=>Math.random().toString(36).substring(2,30),bm=e=>{const t=encodeURIComponent(e);return"https://www.google.com/maps/search/?api=1&query=".concat(t)};async function wm(){try{const e=await fetch("http://worldtimeapi.org/api/ip");if(!e.ok)throw new Error("Failed to fetch from API");const t=await e.json();return new Date(t.datetime).toISOString().substring(0,19).replace("T","  ")}catch(e){return console.warn("Using local date and time due to an error:",e),(new Date).toISOString().substring(0,19).replace("T","  ")}}function xm(){return(new Date).toISOString().substring(0,19).replace("T"," \u231a ")}const _m=e=>{const t=new Date,n=new Date(e);return t.setHours(0,0,0,0),n.setHours(0,0,0,0),n>t?"future":n.getTime()===t.getTime()?"present":"past"},km=e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{const e=document.execCommand("copy");alert(e?"Link copied to clipboard":"Unable to copy")}catch(n){console.error("Fallback: Oops, unable to copy",n)}finally{document.body.removeChild(t)}},Sm=Od(Le({apiKey:"AIzaSyAWW2cidrB2D2EUZH4QElSzD_Kt7xDywDk",authDomain:"uhalisi-6d171.firebaseapp.com",projectId:"uhalisi-6d171",storageBucket:"uhalisi-6d171.appspot.com",messagingSenderId:"965949499764",appId:"1:965949499764:web:8642a02a9cc6145ef0e421"})),Em=Nd(Sm,"sessions"),Cm="activities";const Tm=new class{async createActivity(e,t,n){var r,i;let s=JSON.parse(sessionStorage.getItem("sccuser"));s||(s={fullname:"user",id:"user1"});const a={id:ym(),title:null===e||void 0===e?void 0:e.trim(),description:(null===(r=s)||void 0===r?void 0:r.fullname)+" "+(null===t||void 0===t?void 0:t.trim()),assignedTo:null===(i=s)||void 0===i?void 0:i.id,createdAt:(new Date).toISOString(),completed:!1};try{await(async e=>{try{await kf(Nd(Sm,Cm),e)}catch(t){console.error("Error adding activity: ",t)}})(a)}catch(o){console.error("Error creating activity: ",o)}}async getUserNotifications(e,t){try{var n;const e=null===(n=[...await this.getLogActivities()])||void 0===n?void 0:n.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));return e||[]}catch(r){return console.error("Error fetching activities:",r),[]}}async deleteActivity(e){try{return await(async e=>{try{const t=Dd(Sm,Cm,e);await _f(t)}catch(t){console.error("Error deleting activity: ",t)}})(e),{message:"Activity deleted successfully"}}catch(t){throw console.error("Error deleting activity: ",t),t}}formatActivity(e){return{id:(null===e||void 0===e?void 0:e.id)||ym(),title:e.title,description:e.description,formattedDate:new Date(e.date).toLocaleDateString(),status:e.completed?"Completed":"Pending"}}createNotification(e){const t=e.completed?"completed":"pending";return{id:e.id,message:'Activity "'.concat(e.title,'" is currently ').concat(t,"."),date:new Date(e.date).toLocaleString()}}async getLogActivities(){try{return await(async()=>{try{return(await bf(Nd(Sm,Cm))).docs.map((e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching activities: ",e)}})()}catch(e){console.error("Error fetching log activities: ",e)}}},Nm=async()=>(await bf(Nd(Sm,"bacentas"))).docs.map((e=>({id:e.id,...e.data()}))),Dm=async()=>{try{var e;let t=await pm();return t=null===(e=t)||void 0===e?void 0:e.map((e=>{const t=e.birthday?new Date(e.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"No Birthday Provided";return{...e,formattedBirthday:t}})),t}catch(t){throw console.error("Error fetching members:",t),new Error("Error fetching members")}},Am=async e=>{try{const t=await(async e=>({id:(await kf(hm,e)).id,...e}))(e);return t}catch(t){throw console.error("Error adding member:",t),new Error("Error adding member")}},Im=async()=>{try{return await(async()=>{const e=await bf(dm);return fm(e)})()}catch(e){throw console.error("Error fetching contacts:",e),new Error("Error fetching contacts")}},Om=async e=>{try{const t=await(async e=>({id:(await kf(dm,e)).id,...e}))(e);return Tm.createActivity("Contact added","added a contact"),t}catch(t){throw console.error("Error adding contact:",t),new Error("Error adding contact")}},jm=async e=>{try{await(async e=>{const t=(await bf(dm)).docs.find((t=>t.data().id===e));if(!t)throw new Error("Contact not found");{const e=Dd(um,"contactsOutreach",t.id);await _f(e)}})(e),Tm.createActivity("Contact removed","removed a contact")}catch(t){throw console.error("Error removing contact:",t),new Error("Error removing contact")}},Mm=t=>{let{onSelectMember:n}=t;const[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{const e=await Dm();e&&i(e)})()}),[]);const o=r.filter((e=>e.fullname.toLowerCase().includes(s.toLowerCase())));return(0,Jp.jsxs)("div",{className:"member-list-container",children:[(0,Jp.jsx)("input",{className:"member-list-search-input",type:"text",placeholder:"Search Members",onChange:e=>a(e.target.value)}),(0,Jp.jsx)("ul",{className:"member-list-ul",children:o.map((e=>(0,Jp.jsxs)("li",{className:"member-list-item",children:[(0,Jp.jsxs)("span",{className:"member-list-name",children:[(0,Jp.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," ",e.fullname]})," "," ",(0,Jp.jsx)("span",{className:"member-list-phone",children:(0,Jp.jsx)("a",{href:"tel:".concat(e.cellnumber),children:e.cellnumber})}),(0,Jp.jsx)("button",{className:"member-list-view-profile-btn",onClick:()=>n(e),children:"View Profile"})]},e.id)))})]})};function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(this,arguments)}var Rm;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Rm||(Rm={}));const Lm="popstate";function Fm(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function zm(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Bm(e,t){return{usr:e.state,key:e.key,idx:t}}function Um(e,t,n,r){return void 0===n&&(n=null),Pm({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Wm(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Vm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Wm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hm(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Rm.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function h(){o=Rm.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Vm(e);return n=n.replace(/ $/,"%20"),Fm(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(Pm({},a.state,{idx:c}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lm,h),l=e,()=>{i.removeEventListener(Lm,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=Rm.Push;let r=Um(f.location,e,t);n&&n(r,e),c=u()+1;let h=Bm(r,c),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=Rm.Replace;let r=Um(f.location,e,t);n&&n(r,e),c=u();let i=Bm(r,c),h=f.createHref(r);a.replaceState(i,"",h),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}var qm;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(qm||(qm={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Km(e,t,n){return void 0===n&&(n="/"),Gm(e,t,n,!1)}function Gm(e,t,n,r){let i=og(("string"===typeof t?Wm(t):t).pathname||"/",n);if(null==i)return null;let s=Ym(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=ag(i);a=ig(s[o],e,r)}return a}function Ym(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Fm(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=dg([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Fm(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Ym(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:rg(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Qm(e.path))i(e,t,r);else i(e,t)})),t}function Qm(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=Qm(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const Xm=/^:[\w-]+$/,$m=3,Zm=2,Jm=1,eg=10,tg=-2,ng=e=>"*"===e;function rg(e,t){let n=e.split("/"),r=n.length;return n.some(ng)&&(r+=tg),t&&(r+=Zm),n.filter((e=>!ng(e))).reduce(((e,t)=>e+(Xm.test(t)?$m:""===t?Jm:eg)),r)}function ig(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=sg({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=sg({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:dg([s,u.pathname]),pathnameBase:fg(dg([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=dg([s,u.pathnameBase]))}return a}function sg(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);zm("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function ag(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return zm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function og(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function lg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function cg(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ug(e,t){let n=cg(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function hg(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Wm(e):(i=Pm({},e),Fm(!i.pathname||!i.pathname.includes("?"),lg("?","pathname","search",i)),Fm(!i.pathname||!i.pathname.includes("#"),lg("#","pathname","hash",i)),Fm(!i.search||!i.search.includes("#"),lg("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Wm(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:pg(r),hash:mg(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const dg=e=>e.join("/").replace(/\/\/+/g,"/"),fg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pg=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",mg=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function gg(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const vg=["post","put","patch","delete"],yg=(new Set(vg),["get",...vg]);new Set(yg),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}const wg=e.createContext(null);const xg=e.createContext(null);const _g=e.createContext(null);const kg=e.createContext(null);const Sg=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Eg=e.createContext(null);function Cg(){return null!=e.useContext(kg)}function Tg(){return Cg()||Fm(!1),e.useContext(kg).location}function Ng(t){e.useContext(_g).static||e.useLayoutEffect(t)}function Dg(){let{isDataRoute:t}=e.useContext(Sg);return t?function(){let{router:t}=zg(Lg.UseNavigateStable),n=Ug(Fg.UseNavigateStable),r=e.useRef(!1);Ng((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,bg({fromRouteId:n},i)))}),[t,n]);return i}():function(){Cg()||Fm(!1);let t=e.useContext(wg),{basename:n,future:r,navigator:i}=e.useContext(_g),{matches:s}=e.useContext(Sg),{pathname:a}=Tg(),o=JSON.stringify(ug(s,r.v7_relativeSplatPath)),l=e.useRef(!1);Ng((()=>{l.current=!0}));let c=e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void i.go(e);let s=hg(e,JSON.parse(o),a,"path"===r.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:dg([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,o,a,t]);return c}()}function Ag(t,n){let{relative:r}=void 0===n?{}:n,{future:i}=e.useContext(_g),{matches:s}=e.useContext(Sg),{pathname:a}=Tg(),o=JSON.stringify(ug(s,i.v7_relativeSplatPath));return e.useMemo((()=>hg(t,JSON.parse(o),a,"path"===r)),[t,o,a,r])}function Ig(t,n,r,i){Cg()||Fm(!1);let{navigator:s}=e.useContext(_g),{matches:a}=e.useContext(Sg),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=Tg();if(n){var d;let e="string"===typeof n?Wm(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||Fm(!1),u=e}else u=h;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Km(t,{pathname:p});let g=Rg(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:dg([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:dg([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&g?e.createElement(kg.Provider,{value:{location:bg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rm.Pop}},g):g}function Og(){let t=function(){var t;let n=e.useContext(Eg),r=Bg(Fg.UseRouteError),i=Ug(Fg.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=gg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,null)}const jg=e.createElement(Og,null);class Mg extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Sg.Provider,{value:this.props.routeContext},e.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pg(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(wg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Sg.Provider,{value:n},i)}function Rg(t,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var a;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let o=t,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||Fm(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((t,i,s)=>{let a,h=!1,d=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||jg,c&&(u<0&&0===s?(p="route-fallback",!1||Vg[p]||(Vg[p]=!0),h=!0,f=null):u===s&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?d:h?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Pg,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?e.createElement(Mg,{location:r.location,revalidation:r.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Lg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lg||{}),Fg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fg||{});function zg(t){let n=e.useContext(wg);return n||Fm(!1),n}function Bg(t){let n=e.useContext(xg);return n||Fm(!1),n}function Ug(t){let n=function(t){let n=e.useContext(Sg);return n||Fm(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Fm(!1),r.route.id}const Vg={};t.startTransition;function Wg(t){let{to:n,replace:r,state:i,relative:s}=t;Cg()||Fm(!1);let{future:a,static:o}=e.useContext(_g),{matches:l}=e.useContext(Sg),{pathname:c}=Tg(),u=Dg(),h=hg(n,ug(l,a.v7_relativeSplatPath),c,"path"===s),d=JSON.stringify(h);return e.useEffect((()=>u(JSON.parse(d),{replace:r,state:i,relative:s})),[u,d,s,r,i]),null}function Hg(e){Fm(!1)}function qg(t){let{basename:n="/",children:r=null,location:i,navigationType:s=Rm.Pop,navigator:a,static:o=!1,future:l}=t;Cg()&&Fm(!1);let c=n.replace(/^\/*/,"/"),u=e.useMemo((()=>({basename:c,navigator:a,static:o,future:bg({v7_relativeSplatPath:!1},l)})),[c,l,a,o]);"string"===typeof i&&(i=Wm(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=e.useMemo((()=>{let e=og(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:s}}),[c,h,d,f,p,m,s]);return null==g?null:e.createElement(_g.Provider,{value:u},e.createElement(kg.Provider,{children:r,value:g}))}function Kg(e){let{children:t,location:n}=e;return Ig(Gg(t),n)}new Promise((()=>{}));e.Component;function Gg(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Gg(t.props.children,s));t.type!==Hg&&Fm(!1),t.props.index&&t.props.children&&Fm(!1);let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Gg(t.props.children,s)),r.push(a)})),r}const Yg=t=>{let{setCurrentDateInput:n}=t;const[r,i]=(0,e.useState)(xm());return(0,e.useEffect)((()=>{const e=setInterval((()=>{i(xm()),n&&n(xm())}),6e4);return()=>clearInterval(e)}),[]),(0,Jp.jsx)("div",{className:"time-viewer-container",children:(0,Jp.jsx)("span",{className:"current-time",children:r.substring(0,18)})})},Qg=t=>{let{isNewMember:n}=t;const[r,i]=(0,e.useState)({fullname:"",cellnumber:"",alternativenumber:"",address:"",birthday:""}),s=Dg(),[a,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),u=e=>{i({...r,[e.target.name]:e.target.value}),o(""),"tel"===e.target.type&&(h(e.target.value)||o("Cell number must be a valid 10-digit number."))},h=e=>{let t=e;try{t&&t.startsWith("+27")&&(t=t.replace("+27","0"))}catch(a){console.error(a)}return/^[0-9]{10}$/.test(t)};return(0,Jp.jsx)("div",{className:"register-member-container",children:(0,Jp.jsxs)("form",{className:"register-member-form",onSubmit:async e=>{if(e.preventDefault(),r.fullname&&r.cellnumber&&r.address)if(h(r.cellnumber))try{c("Loading...");const e=await Am({...r,created:xm()});c("New Member Registered: ".concat(null===e||void 0===e?void 0:e.fullname)),i({fullname:"",cellnumber:"",alternativenumber:"",address:"",birthday:""}),o(null),!0===n&&s("/login")}catch(t){o(t.error),c(null)}else o("Cell number must be a valid 10-digit number.");else o("All fields are required.")},children:[(0,Jp.jsx)("h3",{children:"Register member"}),(0,Jp.jsx)("input",{className:"register-member-input",name:"fullname",placeholder:"Full Name",type:"text",onChange:u}),(0,Jp.jsx)("label",{children:(0,Jp.jsx)("small",{children:"You'll use this number to login when we ask for code"})}),(0,Jp.jsx)("input",{className:"register-member-input",name:"cellnumber",type:"tel",placeholder:"Cell Number",onChange:u}),(0,Jp.jsx)("input",{className:"register-member-input",name:"alternativenumber",type:"tel",placeholder:"Alternative Number",onChange:u}),(0,Jp.jsx)("input",{className:"register-member-input",name:"address",type:"address",placeholder:"Address",onChange:u}),(0,Jp.jsx)("label",{children:"Birthday:"}),(0,Jp.jsx)("input",{className:"register-member-input",name:"birthday",type:"date",placeholder:"Birthday",onChange:u}),a&&(0,Jp.jsx)("p",{className:"register-member-error",children:a}),l&&(0,Jp.jsx)("p",{className:"register-member-message",children:l}),(0,Jp.jsx)("button",{className:"register-member-button",type:"submit",children:"Register"}),(0,Jp.jsx)(Yg,{})]})})},Xg=(e,t)=>e.map((e=>({fullname:e.fullname,totalSessions:t.filter((t=>t.membersPresent.includes(e.id))).length}))),$g=e=>e.filter((e=>e.prayerHours)).map((e=>({fullname:e.fullname,prayerHours:parseInt(e.prayerHours,10)}))),Zg=e=>{const t=(new Date).getMonth()+1;return e.filter((e=>(e.birthday?new Date(e.birthday).getMonth()+1:null)===t)).map((e=>({fullname:e.fullname,birthday:e.birthday})))},Jg=e=>{const t=e.reduce(((e,t)=>(e[t.teacher]=(e[t.teacher]||0)+1,e)),{});return Object.entries(t).map((e=>{let[t,n]=e;return{teacher:t,sessionCount:n}}))},ev=e=>e.map((e=>({date:e.date,area:e.area,teacher:e.teacher,topic:e.details,membersPresent:e.membersPresent}))),tv=async()=>await(async()=>(await bf(Em)).docs.map((e=>({id:e.id,...e.data()}))))(),nv=async e=>(Tm.createActivity("Session added","added a session"),await(async e=>({id:(await kf(Em,e)).id,...e}))(e)),rv=async e=>(Tm.createActivity("Session updated","updated a session"),await(async e=>{const t=Dd(Sm,"sessions",e.id);return await xf(t,e),e})(e)),iv=async e=>(Tm.createActivity("Session removed","removed a session"),await(async e=>{const t=Dd(Sm,"sessions",e);await _f(t)})(e)),sv=t=>{let{member:n}=t;const[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{const e=await tv();if(e&&n){const t=e.filter((e=>e.membersPresent.includes(n.id)));p(t)}}catch(e){g(e.message)}})()}),[n]),(0,e.useEffect)((()=>{n&&f.length>0&&(i(Xg([n],f)),a($g([n])),l(Zg([n])),u(Jg(f)),d(ev(f)))}),[n,f]),m?(0,Jp.jsxs)("div",{className:"user-summary__error",children:["Error: ",m]}):(0,Jp.jsxs)("div",{className:"user-summary__container",children:[(0,Jp.jsx)("h1",{className:"user-summary__title",children:n.fullname}),(0,Jp.jsxs)("ul",{className:"user-summary__stats-list",children:[s.map(((e,t)=>(0,Jp.jsxs)("li",{className:"user-summary__stat",children:[(0,Jp.jsx)("strong",{children:"Prayer Hours:"})," ",e.prayerHours," hours"]},t))),o.map(((e,t)=>(0,Jp.jsxs)("li",{className:"user-summary__stat",children:[(0,Jp.jsx)("strong",{children:"Birthday:"})," ",new Date(e.birthday).toLocaleDateString()]},t))),(0,Jp.jsxs)("li",{className:"user-summary__sessions-header",children:[r&&r.length>0&&(0,Jp.jsx)("strong",{children:"Your sessions:"}),r.sort().map(((e,t)=>(0,Jp.jsxs)("li",{className:"user-summary__stat ".concat(0===e.totalSessions?"user-summary__stat--bad":""),children:[e.totalSessions," sessions"]},t)))]}),h.map(((e,t)=>(0,Jp.jsxs)("li",{className:"user-summary__session date-status-highlight date-status-highlight-".concat(_m(null===e||void 0===e?void 0:e.date)),children:[(0,Jp.jsxs)("strong",{children:['"',e.topic,'"']})," with",(0,Jp.jsxs)("strong",{children:[" ",e.teacher]})," ",(0,Jp.jsxs)("span",{children:[e.date," - ",e.area]})]},t))),c.some((e=>{let{teacher:t}=e;return n.fullname===t}))&&c.map(((e,t)=>(0,Jp.jsxs)("li",{className:"user-summary__stat",children:[e.teacher,": Led ",e.sessionCount," sessions"]},t)))]})]})},av=t=>{let{member:n,setSelectedMember:r,adminView:i}=t;const[s,a]=(0,e.useState)(n),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)(!1),f=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))},p=async e=>{if(window.confirm("Are you sure you want to remove ".concat(s.fullname||"this member","?\n\nNB: Everyone will be able to see that you removed this member.")))try{await(async e=>{try{await gm(e),Tm.createActivity("Member removed","removed a member")}catch(o){throw console.error("Error removing member:",o),new Error("Error removing member")}})(e),l("Member removed."),r(null)}catch(t){l("Error removing member.")}};return(0,Jp.jsxs)("div",{className:"member-profile",children:[n&&!h&&(0,Jp.jsxs)("div",{className:"member-summary",children:[(0,Jp.jsx)(sv,{member:n}),(0,Jp.jsxs)("fieldset",{children:[(0,Jp.jsx)("legend",{children:"Details"}),(0,Jp.jsxs)("div",{className:"user-details",children:[(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-phone"})," ",(0,Jp.jsx)("a",{target:"_blank",rel:"noreferrer",href:"tel:".concat(n.cellnumber),children:n.cellnumber})]}),(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-phone"})," ",(0,Jp.jsx)("a",{target:"_blank",rel:"noreferrer",href:"tel:".concat(n.alternativenumber),children:n.alternativenumber})]}),(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-map-pin"})," ",(0,Jp.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(bm(n.address)),children:n.address})]}),(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-birthday-cake"})," ",vm(n.birthday)]}),(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-calendar"})," Created on ",n.created]})]})]})]}),(0,Jp.jsx)("button",{className:"toggle-edit-button",onClick:()=>d((e=>!e)),children:h?"Done":"Edit"}),h&&(0,Jp.jsxs)("form",{className:"member-edit-form",onSubmit:e=>e.preventDefault(),children:[(0,Jp.jsxs)("label",{children:["Full Name:",(0,Jp.jsx)("input",{type:"text",name:"fullname",value:s.fullname,onChange:f,readOnly:!i})]}),(0,Jp.jsxs)("label",{children:["Cell Number:",(0,Jp.jsx)("input",{type:"text",name:"cellnumber",value:s.cellnumber,onChange:f,readOnly:!i})]}),(0,Jp.jsxs)("label",{children:["Alternative Number:",(0,Jp.jsx)("input",{type:"text",name:"alternativenumber",value:s.alternativenumber,onChange:f,readOnly:!i})]}),(0,Jp.jsxs)("label",{children:["Address:",(0,Jp.jsx)("input",{type:"text",name:"address",value:s.address,onChange:f,readOnly:!i})]}),(0,Jp.jsxs)("label",{children:["Birthday:",(0,Jp.jsx)("input",{type:"date",name:"birthday",value:s.birthday,onChange:f})]}),(0,Jp.jsxs)("label",{className:"prayer-hours",children:["Prayer Hours:",(0,Jp.jsx)("input",{type:"range",name:"prayerHours",value:s.prayerHours||0,min:"0",max:"45",step:"0.5",onChange:f}),(0,Jp.jsxs)("span",{children:[s.prayerHours||0," hrs"]})]}),c&&(0,Jp.jsx)("p",{className:"message success",children:c}),o&&(0,Jp.jsx)("p",{className:"message error",children:o}),(0,Jp.jsxs)("div",{className:"button-group",children:[(0,Jp.jsx)("button",{type:"submit",onClick:async e=>{e.preventDefault(),u("Loading..."),l(null);try{const e=await(async e=>{try{const t=await mm(e),n=sessionStorage.getItem("sccuser");if(n){const e=JSON.parse(n);(null===e||void 0===e?void 0:e.id)===t.id&&(Tm.createActivity("Member updated","updated a member"),sessionStorage.setItem("sccuser",JSON.stringify(t)))}return t}catch(o){throw console.error("Error updating member:",o),new Error("Error updating member")}})(s);l(null),u("Member updated successfully!"),r(e)}catch(t){l("Error updating member."),u(null)}},className:"submit-button",children:"Update Member"}),i&&(0,Jp.jsx)("button",{onClick:()=>p(n.id),className:"remove-button",children:"Remove Member"})]})]})]})},ov=e=>{let{bacenta:t}=e;return(0,Jp.jsxs)("div",{className:"tree-node",children:[(0,Jp.jsxs)("div",{className:"bacenta-header",children:[(0,Jp.jsxs)("h4",{className:"bacenta-title",children:[t.leader,"'s "]}),(0,Jp.jsxs)("span",{className:"bacenta-count",children:[(0,Jp.jsx)("i",{className:"fa fa-circle","aria-hidden":"true"})," ",t.count]})]}),(0,Jp.jsx)("ul",{className:"member-list",children:t.members.map((e=>(0,Jp.jsx)("li",{className:"member-item",children:e.fullname},e.id)))})]})},lv=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{a("Loading...");const e=await(async()=>{const e=await Nm(),t=await Dm(),n=null===t||void 0===t?void 0:t.filter((t=>!e.some((e=>{var n;return null===(n=e.members)||void 0===n?void 0:n.some((e=>(null===e||void 0===e?void 0:e.id)===t.id))}))));return e.sort(((e,t)=>{var n,r;return((null===(n=t.members)||void 0===n?void 0:n.length)||0)-((null===(r=e.members)||void 0===r?void 0:r.length)||0)})).map((e=>{var t;return{id:e.id,leader:e.leader,members:e.members||[],count:(null===(t=e.members)||void 0===t?void 0:t.length)||0,unassigned:n||[]}}))})();n(e),a("")}catch(e){console.error("Error loading Tree:",e),a("Failed to load Tree.")}})();(async()=>{try{const e=await(async()=>{const e=await Nm(),t=await Dm();return(null===t||void 0===t?void 0:t.filter((t=>!e.some((e=>{var n;return null===(n=e.members)||void 0===n?void 0:n.some((e=>(null===e||void 0===e?void 0:e.id)===t.id))})))))||[]})();i(e)}catch(e){console.error("Error loading Tree:",e),a("Failed to load unassigned.")}})()}),[]),(0,Jp.jsxs)("div",{className:"tree-view-container",children:[(0,Jp.jsx)("p",{children:s}),(null===r||void 0===r?void 0:r.length)>0&&(0,Jp.jsxs)("div",{className:"unassigned-section",children:[(0,Jp.jsx)("strong",{children:"Unassigned Members:"}),(0,Jp.jsx)("ul",{className:"unassigned-list",children:r.map((e=>(0,Jp.jsx)("li",{className:"unassigned-item",children:e.fullname},e.id)))})]}),(0,Jp.jsx)("div",{className:"tree-view",children:null===t||void 0===t?void 0:t.map((e=>(0,Jp.jsx)(ov,{bacenta:e},e.id)))})]})},cv=()=>{const[t,n]=(0,e.useState)("list"),[r,i]=(0,e.useState)(null),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(e),t&&i(t)};return(0,Jp.jsxs)("div",{className:"members-view-container",children:[(0,Jp.jsxs)("div",{className:"view-tabs",children:[(0,Jp.jsx)("button",{className:"view-tab-button ".concat("tree"===t?"active":""),onClick:()=>s("tree"),children:"Family"}),(0,Jp.jsx)("button",{className:"view-tab-button ".concat("list"===t?"active":""),onClick:()=>s("list"),children:"Members"}),(0,Jp.jsx)("button",{className:"view-tab-button ".concat("register"===t?"active":""),onClick:()=>s("register"),children:"Register"})]}),(0,Jp.jsxs)("div",{className:"view-content",children:["tree"===t&&(0,Jp.jsx)(lv,{}),"list"===t&&(0,Jp.jsx)(Mm,{onSelectMember:e=>s("profile",e)}),"register"===t&&(0,Jp.jsx)(Qg,{}),"profile"===t&&r&&(0,Jp.jsx)(av,{member:r,setSelectedMember:i,adminView:!0})]})]})},uv=()=>(0,Jp.jsx)("div",{className:"members-container",children:(0,Jp.jsx)(cv,{})}),hv=t=>{let{views:n}=t;const[r,i]=(0,e.useState)(n[0].key);return(0,Jp.jsxs)("div",{className:"generic-view-toggler",children:[(0,Jp.jsx)("div",{className:"view-tabs",children:n.map((e=>(0,Jp.jsx)("button",{className:r===e.key?"active":"",onClick:()=>{return t=e.key,void i(t);var t},children:e.label},e.key)))}),(0,Jp.jsx)("div",{className:"view-container",children:n.map((e=>r===e.key&&(0,Jp.jsx)("div",{className:"view-content",children:e.component},e.key)))})]})},dv=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)({date:"",area:"",details:"",teacher:"",bacenta:"",membersPresent:[]}),[h,d]=(0,e.useState)(""),f=(0,e.useRef)(null);(0,e.useEffect)((()=>{m(),(async()=>{try{const e=await tv();e&&n(e)}catch(e){d(e.message)}})(),(async()=>{try{const e=await Dm();e&&a(e)}catch(e){d(e.message)}})(),(async()=>{try{const e=await Nm();e&&i(e)}catch(e){d(e.message)}})()}),[]);const p=e=>{m();const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},m=()=>{d("")},g=()=>{f.current&&(f.current.open=!0,f.current.scrollIntoView({behavior:"smooth",block:"start"}))};return(0,Jp.jsxs)("div",{className:"sessionTrackerContainer",children:[(0,Jp.jsx)("h2",{className:"sessionTrackerTitle",children:"Session Tracker"}),(0,Jp.jsxs)("details",{ref:f,children:[(0,Jp.jsx)("summary",{children:"  Record new session"}),(0,Jp.jsx)("article",{children:(0,Jp.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m();try{o?await rv({...c,id:o.id}):await nv(c),u({date:"",area:"",details:"",teacher:"",membersPresent:[]}),l(null)}catch(t){d(t.message)}},className:"sessionTrackerForm",children:[(0,Jp.jsxs)("label",{children:["Date:",(0,Jp.jsx)("input",{type:"date",name:"date",value:c.date,onChange:p,className:"sessionTrackerInput"})]}),(0,Jp.jsxs)("label",{children:["Area:",(0,Jp.jsx)("input",{type:"text",name:"area",value:c.area,onChange:p,className:"sessionTrackerInput"})]}),(0,Jp.jsxs)("label",{className:"bacenta-label",children:["Bacenta:",(0,Jp.jsxs)("select",{name:"bacenta",onChange:p,className:"bacenta-selector",children:[(0,Jp.jsx)("option",{value:"",disabled:!0,selected:!c.bacenta,children:"Select a Bacenta"}),null===r||void 0===r?void 0:r.map((e=>(0,Jp.jsxs)("option",{value:e.id,selected:e.id===c.bacenta,children:[e.name," - ",e.leader]},e.id)))]})]}),(0,Jp.jsxs)("label",{children:["Details:",(0,Jp.jsx)("textarea",{name:"details",value:c.details,onChange:p,className:"sessionTrackerTextarea"})]}),(0,Jp.jsxs)("label",{children:["Teacher:",(0,Jp.jsx)("input",{type:"text",name:"teacher",value:c.teacher,onChange:p,className:"sessionTrackerInput"})]}),(0,Jp.jsxs)("fieldset",{className:"sessionTrackerMembersFieldset",children:[(0,Jp.jsx)("legend",{children:"Participants"}),s.map((e=>(0,Jp.jsxs)("label",{className:"sessionTrackerMemberLabel",children:[(0,Jp.jsx)("input",{type:"checkbox",checked:c.membersPresent.includes(e.id),onChange:()=>{return t=e.id,m(),void u((e=>{const n=e.membersPresent.includes(t)?e.membersPresent.filter((e=>e!==t)):[...e.membersPresent,t];return{...e,membersPresent:n}}));var t},className:"sessionTrackerCheckbox"}),e.fullname]},e.id)))]}),h&&(0,Jp.jsx)("p",{className:"sessionTrackerError",children:h}),(0,Jp.jsx)("button",{type:"submit",className:"sessionTrackerButton",children:o?"Update Session":"Add Session"})]})})]}),(0,Jp.jsxs)("div",{className:"sessionTrackerList",children:[(0,Jp.jsx)("h3",{className:"sessionTrackerListTitle",children:"Sessions"}),(0,Jp.jsxs)("table",{className:"sessionTrackerTable",children:[(0,Jp.jsx)("thead",{children:(0,Jp.jsxs)("tr",{children:[(0,Jp.jsx)("th",{children:"Date"}),(0,Jp.jsx)("th",{children:"Area"}),(0,Jp.jsx)("th",{children:"Details"}),(0,Jp.jsx)("th",{children:"Teacher"}),(0,Jp.jsx)("th",{children:"Total Attended"}),(0,Jp.jsx)("th",{children:"Actions"})]})}),(0,Jp.jsx)("tbody",{children:t.map((e=>(0,Jp.jsxs)("tr",{children:[(0,Jp.jsx)("td",{children:e.date}),(0,Jp.jsx)("td",{children:e.area}),(0,Jp.jsx)("td",{children:e.details}),(0,Jp.jsx)("td",{children:e.teacher}),(0,Jp.jsx)("td",{children:e.membersPresent.length}),(0,Jp.jsxs)("td",{children:[(0,Jp.jsx)("button",{className:"sessionTrackerButton",onClick:()=>(e=>{l(e),u({date:e.date,area:e.area,details:e.details,teacher:e.teacher,membersPresent:e.membersPresent,bacenta:e.bacenta||""}),g()})(e),children:"Edit"}),(0,Jp.jsx)("button",{className:"sessionTrackerButton sessionTrackerDeleteButton",onClick:()=>(async e=>{try{m(),await iv(e),n(t.filter((t=>t.id!==e)))}catch(r){d(r.message)}})(e.id),children:"Delete"})]})]},e.id)))})]})]})]})},fv=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{const e=await tv();n(e),i(e)}catch(e){a(e.message)}})()}),[]),(0,e.useEffect)((()=>{(()=>{const e=o.toLowerCase(),n=t.filter((t=>t.teacher.toLowerCase().includes(e)));i(n)})()}),[o,t]),(0,Jp.jsxs)("div",{className:"sessionListTableContainer",children:[(0,Jp.jsx)("h3",{className:"sessionListTitle",children:"Session List"}),s&&(0,Jp.jsx)("p",{className:"sessionListError",children:s}),(0,Jp.jsx)("input",{type:"text",className:"sessionListSearchInput",placeholder:"Search by Teacher",onChange:e=>l(e.target.value)}),(0,Jp.jsxs)("table",{className:"sessionListTable",children:[(0,Jp.jsx)("thead",{children:(0,Jp.jsxs)("tr",{children:[(0,Jp.jsx)("th",{children:"Date"}),(0,Jp.jsx)("th",{children:"Area"}),(0,Jp.jsx)("th",{children:"Details"}),(0,Jp.jsx)("th",{children:"Teacher"}),(0,Jp.jsx)("th",{children:"Total Attended"})]})}),(0,Jp.jsx)("tbody",{children:r.map((e=>(0,Jp.jsxs)("tr",{children:[(0,Jp.jsx)("td",{children:e.date}),(0,Jp.jsx)("td",{children:e.area}),(0,Jp.jsx)("td",{children:e.details}),(0,Jp.jsx)("td",{children:e.teacher}),(0,Jp.jsx)("td",{children:e.membersPresent.length})]},e.id)))})]})]})},pv=()=>{const[t,n]=(0,e.useState)("list"),r=e=>{n(e)};return(0,Jp.jsxs)("div",{className:"session-tracker-view",children:[(0,Jp.jsxs)("div",{className:"view-tabs",children:[(0,Jp.jsx)("button",{className:"list"===t?"active":"",onClick:()=>r("list"),children:"All sessions"}),(0,Jp.jsx)("button",{className:"register"===t?"active":"",onClick:()=>r("register"),children:"Manage"})]}),(0,Jp.jsxs)("div",{className:"view-container",children:["list"===t&&(0,Jp.jsx)(fv,{}),"register"===t&&(0,Jp.jsx)(dv,{})]})]})},mv=()=>((0,e.useEffect)((()=>{const e=document.getElementById("go-up-btn"),t=()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",t),e.addEventListener("click",n),()=>{window.removeEventListener("scroll",t),e.removeEventListener("click",n)}}),[]),(0,Jp.jsx)("button",{id:"go-up-btn",className:"go-up-button",children:(0,Jp.jsx)("i",{className:"fa fa-arrow-circle-up","aria-hidden":"true"})}));function gv(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const vv=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gv(e))&&(r&&(r+=" "),r+=t);return r};var yv=n(922);function bv(e){return"string"===typeof e}function wv(e,t,n){return n.indexOf(e)===t}function xv(e){return-1===e.indexOf(",")?e:e.split(",")}function _v(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return _v(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return _v(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),s=i[0],a=i[1],o=void 0===a?"":a;return"".concat(s,"-").concat(o.toUpperCase())}var kv=yv((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,s=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var o=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];o=o.concat(xv(u))}var h=navigator.language,d=h?xv(h):h;a=a.concat(o,d)}return r&&a.push(s),a.filter(bv).map(_v).filter(wv)}),{cacheKey:JSON.stringify});var Sv=yv((function(e){return kv(e)[0]||null}),{cacheKey:JSON.stringify});const Ev=Sv;function Cv(e,t,n){return function(r,i){void 0===i&&(i=n);var s=e(r)+i;return t(s)}}function Tv(e){return function(t){return new Date(e(t).getTime()-1)}}function Nv(e,t){return function(n){return[e(n),t(n)]}}function Dv(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Av(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Iv(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Ov(e){var t=Dv(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var jv=Cv(Dv,Ov,-100),Mv=Cv(Dv,Ov,100),Pv=Tv(Mv),Rv=Cv(Dv,Pv,-100),Lv=(Cv(Dv,Pv,100),Nv(Ov,Pv));function Fv(e){var t=Dv(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var zv=Cv(Dv,Fv,-10),Bv=Cv(Dv,Fv,10),Uv=Tv(Bv),Vv=Cv(Dv,Uv,-10),Wv=(Cv(Dv,Uv,10),Nv(Fv,Uv));function Hv(e){var t=Dv(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var qv=Cv(Dv,Hv,-1),Kv=Cv(Dv,Hv,1),Gv=Tv(Kv),Yv=Cv(Dv,Gv,-1),Qv=(Cv(Dv,Gv,1),Nv(Hv,Gv));function Xv(e,t){return function(n,r){void 0===r&&(r=t);var i=Dv(n),s=Av(n)+r,a=new Date;return a.setFullYear(i,s,1),a.setHours(0,0,0,0),e(a)}}function $v(e){var t=Dv(e),n=Av(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Zv=Xv($v,-1),Jv=Xv($v,1),ey=Tv(Jv),ty=Xv(ey,-1),ny=(Xv(ey,1),Nv($v,ey));function ry(e,t){return function(n,r){void 0===r&&(r=t);var i=Dv(n),s=Av(n),a=Iv(n)+r,o=new Date;return o.setFullYear(i,s,a),o.setHours(0,0,0,0),e(o)}}function iy(e){var t=Dv(e),n=Av(e),r=Iv(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}ry(iy,-1);var sy,ay=Tv(ry(iy,1)),oy=(ry(ay,-1),ry(ay,1),Nv(iy,ay));function ly(e){return Iv(ey(e))}var cy={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},uy=((sy={})[cy.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],sy[cy.HEBREW]=["he","he-IL"],sy[cy.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],sy),hy=[0,1,2,3,4,5,6],dy=new Map;function fy(e){return function(t,n){return function(e){return function(t,n){var r=t||Ev();dy.has(r)||dy.set(r,new Map);var i=dy.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}fy({day:"numeric",month:"numeric",year:"numeric"});var py=fy({day:"numeric"}),my=fy({day:"numeric",month:"long",year:"numeric"}),gy=fy({month:"long"}),vy=fy({month:"long",year:"numeric"}),yy=fy({weekday:"short"}),by=fy({weekday:"long"}),wy=fy({year:"numeric"}),xy=hy[0],_y=hy[5],ky=hy[6];function Sy(e,t){void 0===t&&(t=cy.ISO_8601);var n=e.getDay();switch(t){case cy.ISO_8601:return(n+6)%7;case cy.ISLAMIC:return(n+1)%7;case cy.HEBREW:case cy.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Ey(e,t){void 0===t&&(t=cy.ISO_8601);var n=Dv(e),r=Av(e),i=e.getDate()-Sy(e,t);return new Date(n,r,i)}function Cy(e,t){switch(e){case"century":return Ov(t);case"decade":return Fv(t);case"year":return Hv(t);case"month":return $v(t);case"day":return iy(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ty(e,t){switch(e){case"century":return Mv(t);case"decade":return Bv(t);case"year":return Kv(t);case"month":return Jv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ny(e,t){switch(e){case"century":return Pv(t);case"decade":return Uv(t);case"year":return Gv(t);case"month":return ey(t);case"day":return ay(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Dy(e,t){switch(e){case"century":return Lv(t);case"decade":return Wv(t);case"year":return Qv(t);case"month":return ny(t);case"day":return oy(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ay(e,t,n){return void 0===t&&(t=wy),n.map((function(n){return t(e,n)})).join(" \u2013 ")}function Iy(e,t,n){return Ay(e,t,Wv(n))}function Oy(e,t){void 0===t&&(t=cy.ISO_8601);var n=e.getDay();switch(t){case cy.ISLAMIC:case cy.HEBREW:return n===_y||n===ky;case cy.ISO_8601:case cy.GREGORY:return n===ky||n===xy;default:throw new Error("Unsupported calendar type.")}}var jy="react-calendar__navigation";function My(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?vy:r,s=e.formatYear,a=void 0===s?wy:s,o=e.locale,l=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,h=void 0===u?"":u,d=e.navigationAriaLive,f=e.navigationLabel,p=e.next2AriaLabel,m=void 0===p?"":p,g=e.next2Label,v=void 0===g?"\xbb":g,y=e.nextAriaLabel,b=void 0===y?"":y,w=e.nextLabel,x=void 0===w?"\u203a":w,_=e.prev2AriaLabel,k=void 0===_?"":_,S=e.prev2Label,E=void 0===S?"\xab":S,C=e.prevAriaLabel,T=void 0===C?"":C,N=e.prevLabel,D=void 0===N?"\u2039":N,A=e.setActiveStartDate,I=e.showDoubleView,O=e.view,j=e.views.indexOf(O)>0,M="century"!==O,P=function(e,t){switch(e){case"century":return jv(t);case"decade":return zv(t);case"year":return qv(t);case"month":return Zv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t),R=M?function(e,t){switch(e){case"decade":return zv(t,-100);case"year":return qv(t,-10);case"month":return Zv(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,L=Ty(O,t),F=M?function(e,t){switch(e){case"decade":return Bv(t,100);case"year":return Kv(t,10);case"month":return Jv(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,z=function(){if(P.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Rv(t);case"decade":return Vv(t);case"year":return Yv(t);case"month":return ty(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return c&&c>=e}(),B=M&&function(){if(R.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Vv(t,-100);case"year":return Yv(t,-10);case"month":return ty(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return c&&c>=e}(),U=l&&l<L,V=M&&l&&l<F;function W(e){var t=function(){switch(O){case"century":return function(e,t,n){return Ay(e,t,Lv(n))}(o,a,e);case"decade":return Iy(o,a,e);case"year":return a(o,e);case"month":return i(o,e);default:throw new Error("Invalid view: ".concat(O,"."))}}();return f?f({date:e,label:t,locale:o||Sv()||void 0,view:O}):t}return(0,Jp.jsxs)("div",{className:jy,children:[null!==E&&M?(0,Jp.jsx)("button",{"aria-label":k,className:"".concat(jy,"__arrow ").concat(jy,"__prev2-button"),disabled:B,onClick:function(){A(R,"prev2")},type:"button",children:E}):null,null!==D&&(0,Jp.jsx)("button",{"aria-label":T,className:"".concat(jy,"__arrow ").concat(jy,"__prev-button"),disabled:z,onClick:function(){A(P,"prev")},type:"button",children:D}),function(){var e="".concat(jy,"__label");return(0,Jp.jsxs)("button",{"aria-label":h,"aria-live":d,className:e,disabled:!j,onClick:n,style:{flexGrow:1},type:"button",children:[(0,Jp.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:W(t)}),I?(0,Jp.jsxs)(Jp.Fragment,{children:[(0,Jp.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,Jp.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:W(L)})]}):null]})}(),null!==x&&(0,Jp.jsx)("button",{"aria-label":b,className:"".concat(jy,"__arrow ").concat(jy,"__next-button"),disabled:U,onClick:function(){A(L,"next")},type:"button",children:x}),null!==v&&M?(0,Jp.jsx)("button",{"aria-label":m,className:"".concat(jy,"__arrow ").concat(jy,"__next2-button"),disabled:V,onClick:function(){A(F,"next2")},type:"button",children:v}):null]})}var Py=function(){return Py=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Py.apply(this,arguments)},Ry=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ly(e){return"".concat(e,"%")}function Fy(t){var n=t.children,r=t.className,i=t.count,s=t.direction,a=t.offset,o=t.style,l=t.wrap,c=Ry(t,["children","className","count","direction","offset","style","wrap"]);return(0,Jp.jsx)("div",Py({className:r,style:Py({display:"flex",flexDirection:s,flexWrap:l?"wrap":"nowrap"},o)},c,{children:e.Children.map(n,(function(t,n){var r=a&&0===n?Ly(100*a/i):null;return(0,e.cloneElement)(t,Py(Py({},t.props),{style:{flexBasis:Ly(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:r,marginInlineStart:r,marginInlineEnd:0}}))}))}))}function zy(e,t){return t[0]<=e&&t[1]>=e}function By(e,t){return zy(e[0],t)||zy(e[1],t)}function Uy(e,t,n){var r=[];if(By(t,e)){r.push(n);var i=zy(e[0],t),s=zy(e[1],t);i&&r.push("".concat(n,"Start")),s&&r.push("".concat(n,"End")),i&&s&&r.push("".concat(n,"BothEnds"))}return r}function Vy(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,o=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Dy(t,n)}();if(zy(a,o)&&s.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return s;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Dy(n,t)}();c=o,(l=u)[0]<=c[0]&&l[1]>=c[1]?s.push("".concat(i,"--active")):By(u,o)&&s.push("".concat(i,"--hasActive"));var h=Uy(u,o,"".concat(i,"--range"));s.push.apply(s,h);var d=Array.isArray(t)?t:[t];if(r&&1===d.length){var f=Uy(r>u[0]?[u[0],r]:[r,u[0]],o,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function Wy(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,s=e.dateType,a=e.end,o=e.hover,l=e.offset,c=e.renderTile,u=e.start,h=e.step,d=void 0===h?1:h,f=e.value,p=e.valueType,m=[],g=u;g<=a;g+=d){var v=i(g);m.push(c({classes:Vy({date:v,dateType:s,hover:o,value:f,valueType:p}),date:v}))}return(0,Jp.jsx)(Fy,{className:t,count:r,offset:l,wrap:!0,children:m})}function Hy(t){var n=t.activeStartDate,r=t.children,i=t.classes,s=t.date,a=t.formatAbbr,o=t.locale,l=t.maxDate,c=t.maxDateTransform,u=t.minDate,h=t.minDateTransform,d=t.onClick,f=t.onMouseOver,p=t.style,m=t.tileClassName,g=t.tileContent,v=t.tileDisabled,y=t.view,b=(0,e.useMemo)((function(){return"function"===typeof m?m({activeStartDate:n,date:s,view:y}):m}),[n,s,m,y]),w=(0,e.useMemo)((function(){return"function"===typeof g?g({activeStartDate:n,date:s,view:y}):g}),[n,s,g,y]);return(0,Jp.jsxs)("button",{className:vv(i,b),disabled:u&&h(u)>s||l&&c(l)<s||v&&v({activeStartDate:n,date:s,view:y}),onClick:d?function(e){return d(s,e)}:void 0,onFocus:f?function(){return f(s)}:void 0,onMouseOver:f?function(){return f(s)}:void 0,style:p,type:"button",children:[a?(0,Jp.jsx)("abbr",{"aria-label":a(o,s),children:r}):r,w]})}var qy=function(){return qy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qy.apply(this,arguments)},Ky=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gy="react-calendar__century-view__decades__decade";function Yy(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,i=e.formatYear,s=void 0===i?wy:i,a=Ky(e,["classes","currentCentury","formatYear"]),o=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),Gy&&c.push(Gy),Ov(o).getFullYear()!==r&&c.push("".concat(Gy,"--neighboringCentury")),(0,Jp.jsx)(Hy,qy({},a,{classes:c,maxDateTransform:Uv,minDateTransform:Fv,view:"century",children:Iy(l,s,o)}))}var Qy=function(){return Qy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qy.apply(this,arguments)},Xy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function $y(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,s=e.valueType,a=Xy(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=Dv(Ov(t)),l=o+(r?119:99);return(0,Jp.jsx)(Wy,{className:"react-calendar__century-view__decades",dateTransform:Fv,dateType:"decade",end:l,hover:n,renderTile:function(e){var n=e.date,r=Xy(e,["date"]);return(0,Jp.jsx)(Yy,Qy({},a,r,{activeStartDate:t,currentCentury:o,date:n}),n.getTime())},start:o,step:10,value:i,valueType:s})}var Zy=function(){return Zy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zy.apply(this,arguments)};function Jy(e){return(0,Jp.jsx)("div",{className:"react-calendar__century-view",children:(0,Jp.jsx)($y,Zy({},e))})}var eb=function(){return eb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eb.apply(this,arguments)},tb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nb="react-calendar__decade-view__years__year";function rb(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,i=e.formatYear,s=void 0===i?wy:i,a=tb(e,["classes","currentDecade","formatYear"]),o=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),nb&&c.push(nb),Fv(o).getFullYear()!==r&&c.push("".concat(nb,"--neighboringDecade")),(0,Jp.jsx)(Hy,eb({},a,{classes:c,maxDateTransform:Gv,minDateTransform:Hv,view:"decade",children:s(l,o)}))}var ib=function(){return ib=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ib.apply(this,arguments)},sb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ab(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,s=e.valueType,a=sb(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=Dv(Fv(t)),l=o+(r?11:9);return(0,Jp.jsx)(Wy,{className:"react-calendar__decade-view__years",dateTransform:Hv,dateType:"year",end:l,hover:n,renderTile:function(e){var n=e.date,r=sb(e,["date"]);return(0,Jp.jsx)(rb,ib({},a,r,{activeStartDate:t,currentDecade:o,date:n}),n.getTime())},start:o,value:i,valueType:s})}var ob=function(){return ob=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ob.apply(this,arguments)};function lb(e){return(0,Jp.jsx)("div",{className:"react-calendar__decade-view",children:(0,Jp.jsx)(ab,ob({},e))})}var cb=function(){return cb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cb.apply(this,arguments)},ub=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hb=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},db="react-calendar__year-view__months__month";function fb(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,i=void 0===r?gy:r,s=e.formatMonthYear,a=void 0===s?vy:s,o=ub(e,["classes","formatMonth","formatMonthYear"]),l=o.date,c=o.locale;return(0,Jp.jsx)(Hy,cb({},o,{classes:hb(hb([],n,!0),[db],!1),formatAbbr:a,maxDateTransform:ey,minDateTransform:$v,view:"year",children:i(c,l)}))}var pb=function(){return pb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pb.apply(this,arguments)},mb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gb(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,s=mb(e,["activeStartDate","hover","value","valueType"]),a=Dv(t);return(0,Jp.jsx)(Wy,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(a,e,1),$v(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=mb(e,["date"]);return(0,Jp.jsx)(fb,pb({},s,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:i})}var vb=function(){return vb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vb.apply(this,arguments)};function yb(e){return(0,Jp.jsx)("div",{className:"react-calendar__year-view",children:(0,Jp.jsx)(gb,vb({},e))})}var bb=function(){return bb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bb.apply(this,arguments)},wb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},xb="react-calendar__month-view__days__day";function _b(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,i=e.currentMonthIndex,s=e.formatDay,a=void 0===s?py:s,o=e.formatLongDate,l=void 0===o?my:o,c=wb(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=c.date,h=c.locale,d=[];return r&&d.push.apply(d,r),xb&&d.push(xb),Oy(u,t)&&d.push("".concat(xb,"--weekend")),u.getMonth()!==i&&d.push("".concat(xb,"--neighboringMonth")),(0,Jp.jsx)(Hy,bb({},c,{classes:d,formatAbbr:l,maxDateTransform:ay,minDateTransform:iy,view:"month",children:a(h,u)}))}var kb=function(){return kb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kb.apply(this,arguments)},Sb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Eb(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,s=e.showNeighboringMonth,a=e.value,o=e.valueType,l=Sb(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Dv(t),u=Av(t),h=i||s,d=Sy(t,n),f=h?0:d,p=1+(h?-d:0),m=function(){if(i)return p+42-1;var e=ly(t);if(s){var r=new Date;return r.setFullYear(c,u,e),r.setHours(0,0,0,0),e+(7-Sy(r,n)-1)}return e}();return(0,Jp.jsx)(Wy,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,u,e),iy(t)},dateType:"day",hover:r,end:m,renderTile:function(e){var r=e.date,i=Sb(e,["date"]);return(0,Jp.jsx)(_b,kb({},l,i,{activeStartDate:t,calendarType:n,currentMonthIndex:u,date:r}),r.getTime())},offset:f,start:p,value:a,valueType:o})}var Cb="react-calendar__month-view__weekdays",Tb="".concat(Cb,"__weekday");function Nb(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?yy:r,s=e.formatWeekday,a=void 0===s?by:s,o=e.locale,l=e.onMouseLeave,c=$v(new Date),u=Dv(c),h=Av(c),d=[],f=1;f<=7;f+=1){var p=new Date(u,h,f-Sy(c,n)),m=a(o,p);d.push((0,Jp.jsx)("div",{className:vv(Tb,(t=p,t.getDay()===(new Date).getDay()&&"".concat(Tb,"--current")),Oy(p,n)&&"".concat(Tb,"--weekend")),children:(0,Jp.jsx)("abbr",{"aria-label":m,title:m,children:i(o,p).replace(".","")})},f))}return(0,Jp.jsx)(Fy,{className:Cb,count:7,onFocus:l,onMouseOver:l,children:d})}var Db=function(){return Db=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Db.apply(this,arguments)},Ab=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ib="react-calendar__tile";function Ob(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,Jp.jsx)("span",{children:n});if(t){var i=e.date,s=e.onClickWeekNumber,a=e.weekNumber,o=Ab(e,["date","onClickWeekNumber","weekNumber"]);return(0,Jp.jsx)("button",Db({},o,{className:Ib,onClick:function(e){return s(a,i,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,o=Ab(e,["date","onClickWeekNumber","weekNumber"]);return(0,Jp.jsx)("div",Db({},o,{className:Ib,children:r}))}function jb(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,a=function(){if(s)return 6;var e=ly(t)-(7-Sy(t,n));return 1+Math.ceil(e/7)}(),o=function(){for(var e=Dv(t),r=Av(t),i=Iv(t),s=[],o=0;o<a;o+=1)s.push(Ey(new Date(e,r,i+7*o),n));return s}(),l=o.map((function(e){return function(e,t){void 0===t&&(t=cy.ISO_8601);var n,r=t===cy.GREGORY?cy.GREGORY:cy.ISO_8601,i=Ey(e,t),s=Dv(e)+1;do{n=Ey(new Date(s,0,r===cy.ISO_8601?4:1),t),s-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,n)}));return(0,Jp.jsx)(Fy,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(e,t){var n=o[t];if(!n)throw new Error("date is not defined");return(0,Jp.jsx)(Ob,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var Mb=function(){return Mb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mb.apply(this,arguments)},Pb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Rb(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,s=e.calendarType,a=void 0===s?function(e){if(e)for(var t=0,n=Object.entries(uy);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return cy.ISO_8601}(n):s,o=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,u=e.showWeekNumbers,h=Pb(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return(0,Jp.jsx)("div",{className:vv(d,u?"".concat(d,"--weekNumbers"):""),children:(0,Jp.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[u?(0,Jp.jsx)(jb,{activeStartDate:t,calendarType:a,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,(0,Jp.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,Jp.jsx)(Nb,{calendarType:a,formatShortWeekday:o,formatWeekday:l,locale:n,onMouseLeave:r}),(0,Jp.jsx)(Eb,Mb({calendarType:a},h))]})]})})}var Lb=function(){return Lb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lb.apply(this,arguments)},Fb="react-calendar",zb=["century","decade","year","month"],Bb=["decade","year","month","day"],Ub=new Date;Ub.setFullYear(1,0,1),Ub.setHours(0,0,0,0);var Vb=new Date(864e13);function Wb(e){return e instanceof Date?e:new Date(e)}function Hb(e,t){return zb.slice(zb.indexOf(e),zb.indexOf(t)+1)}function qb(e,t,n){return e&&function(e,t,n){return-1!==Hb(t,n).indexOf(e)}(e,t,n)?e:n}function Kb(e){var t=zb.indexOf(e);return Bb[t]}function Gb(e,t){var n=e.value,r=e.minDate,i=e.maxDate,s=e.maxDetail,a=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Wb(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!a)return null;var o=Kb(s);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Cy(o,a);case 1:return Ny(o,a);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var Yb=function(e){return Gb(e,0)},Qb=function(e){return Gb(e,1)},Xb=function(e){return[Yb,Qb].map((function(t){return t(e)}))};function $b(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,s=e.value;return Cy(qb(e.view,i,n),Yb({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Zb(e){return e&&(!Array.isArray(e)||1===e.length)}function Jb(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var ew=(0,e.forwardRef)((function(t,n){var r=t.activeStartDate,i=t.allowPartialRange,s=t.calendarType,a=t.className,o=t.defaultActiveStartDate,l=t.defaultValue,c=t.defaultView,u=t.formatDay,h=t.formatLongDate,d=t.formatMonth,f=t.formatMonthYear,p=t.formatShortWeekday,m=t.formatWeekday,g=t.formatYear,v=t.goToRangeStartOnSelect,y=void 0===v||v,b=t.inputRef,w=t.locale,x=t.maxDate,_=void 0===x?Vb:x,k=t.maxDetail,S=void 0===k?"month":k,E=t.minDate,C=void 0===E?Ub:E,T=t.minDetail,N=void 0===T?"century":T,D=t.navigationAriaLabel,A=t.navigationAriaLive,I=t.navigationLabel,O=t.next2AriaLabel,j=t.next2Label,M=t.nextAriaLabel,P=t.nextLabel,R=t.onActiveStartDateChange,L=t.onChange,F=t.onClickDay,z=t.onClickDecade,B=t.onClickMonth,U=t.onClickWeekNumber,V=t.onClickYear,W=t.onDrillDown,H=t.onDrillUp,q=t.onViewChange,K=t.prev2AriaLabel,G=t.prev2Label,Y=t.prevAriaLabel,Q=t.prevLabel,X=t.returnValue,$=void 0===X?"start":X,Z=t.selectRange,J=t.showDoubleView,ee=t.showFixedNumberOfWeeks,te=t.showNavigation,ne=void 0===te||te,re=t.showNeighboringCentury,ie=t.showNeighboringDecade,se=t.showNeighboringMonth,ae=void 0===se||se,oe=t.showWeekNumbers,le=t.tileClassName,ce=t.tileContent,ue=t.tileDisabled,he=t.value,de=t.view,fe=(0,e.useState)(o),pe=fe[0],me=fe[1],ge=(0,e.useState)(null),ve=ge[0],ye=ge[1],be=(0,e.useState)(Array.isArray(l)?l.map((function(e){return null!==e?Wb(e):null})):null!==l&&void 0!==l?Wb(l):null),we=be[0],xe=be[1],_e=(0,e.useState)(c),ke=_e[0],Se=_e[1],Ee=r||pe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,s=e.maxDate,a=e.maxDetail,o=e.minDate,l=e.minDetail,c=e.value,u=e.view,h=qb(u,l,a),d=t||n;return d?Cy(h,d):$b({maxDate:s,maxDetail:a,minDate:o,minDetail:l,value:c||r,view:u||i})}({activeStartDate:r,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:_,maxDetail:S,minDate:C,minDetail:N,value:he,view:de}),Ce=function(){var e=Z&&Zb(we)?we:void 0!==he?he:we;return e?Array.isArray(e)?e.map((function(e){return null!==e?Wb(e):null})):null!==e?Wb(e):null:null}(),Te=Kb(S),Ne=qb(de||ke,N,S),De=Hb(N,S),Ae=Z?ve:null,Ie=De.indexOf(Ne)<De.length-1,Oe=De.indexOf(Ne)>0,je=(0,e.useCallback)((function(e){return function(){switch($){case"start":return Yb;case"end":return Qb;case"range":return Xb;default:throw new Error("Invalid returnValue.")}}()({maxDate:_,maxDetail:S,minDate:C,value:e})}),[_,S,C,$]),Me=(0,e.useCallback)((function(e,t){me(e);var n={action:t,activeStartDate:e,value:Ce,view:Ne};R&&!Jb(Ee,e)&&R(n)}),[Ee,R,Ce,Ne]),Pe=(0,e.useCallback)((function(e,t){var n=function(){switch(Ne){case"century":return z;case"decade":return V;case"year":return B;case"month":return F;default:throw new Error("Invalid view: ".concat(Ne,"."))}}();n&&n(e,t)}),[F,z,B,V,Ne]),Re=(0,e.useCallback)((function(e,t){if(Ie){Pe(e,t);var n=De[De.indexOf(Ne)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),Se(n);var r={action:"drillDown",activeStartDate:e,value:Ce,view:n};R&&!Jb(Ee,e)&&R(r),q&&Ne!==n&&q(r),W&&W(r)}}),[Ee,Ie,R,Pe,W,q,Ce,Ne,De]),Le=(0,e.useCallback)((function(){if(Oe){var e=De[De.indexOf(Ne)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Cy(e,Ee);me(t),Se(e);var n={action:"drillUp",activeStartDate:t,value:Ce,view:e};R&&!Jb(Ee,t)&&R(n),q&&Ne!==e&&q(n),H&&H(n)}}),[Ee,Oe,R,H,q,Ce,Ne,De]),Fe=(0,e.useCallback)((function(e,t){var n=Ce;Pe(e,t);var r,s=Z&&!Zb(n);if(Z)if(s)r=Cy(Te,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Cy(e,r[0]),Ny(e,r[1])]}(Te,n,e)}else r=je(e);var a=!Z||s||y?$b({maxDate:_,maxDetail:S,minDate:C,minDetail:N,value:r,view:Ne}):null;t.persist(),me(a),xe(r);var o={action:"onChange",activeStartDate:a,value:r,view:Ne};if(R&&!Jb(Ee,a)&&R(o),L)if(Z)if(Zb(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");L([r||null,null],t)}}else L(r||null,t);else L(r||null,t)}),[Ee,i,je,y,_,S,C,N,R,L,Pe,Z,Ce,Te,Ne]);function ze(e){ye(e)}function Be(){ye(null)}function Ue(e){var t={activeStartDate:e?Ty(Ne,Ee):Cy(Ne,Ee),hover:Ae,locale:w,maxDate:_,minDate:C,onClick:Ie?Re:Fe,onMouseOver:Z?ze:void 0,tileClassName:le,tileContent:ce,tileDisabled:ue,value:Ce,valueType:Te};switch(Ne){case"century":return(0,Jp.jsx)(Jy,Lb({formatYear:g,showNeighboringCentury:re},t));case"decade":return(0,Jp.jsx)(lb,Lb({formatYear:g,showNeighboringDecade:ie},t));case"year":return(0,Jp.jsx)(yb,Lb({formatMonth:d,formatMonthYear:f},t));case"month":return(0,Jp.jsx)(Rb,Lb({calendarType:s,formatDay:u,formatLongDate:h,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:U,onMouseLeave:Z?Be:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:J,showNeighboringMonth:ae,showWeekNumbers:oe},t));default:throw new Error("Invalid view: ".concat(Ne,"."))}}(0,e.useImperativeHandle)(n,(function(){return{activeStartDate:Ee,drillDown:Re,drillUp:Le,onChange:Fe,setActiveStartDate:Me,value:Ce,view:Ne}}),[Ee,Re,Le,Fe,Me,Ce,Ne]);var Ve=Array.isArray(Ce)?Ce:[Ce];return(0,Jp.jsxs)("div",{className:vv(Fb,Z&&1===Ve.length&&"".concat(Fb,"--selectRange"),J&&"".concat(Fb,"--doubleView"),a),ref:b,children:[ne?(0,Jp.jsx)(My,{activeStartDate:Ee,drillUp:Le,formatMonthYear:f,formatYear:g,locale:w,maxDate:_,minDate:C,navigationAriaLabel:D,navigationAriaLive:A,navigationLabel:I,next2AriaLabel:O,next2Label:j,nextAriaLabel:M,nextLabel:P,prev2AriaLabel:K,prev2Label:G,prevAriaLabel:Y,prevLabel:Q,setActiveStartDate:Me,showDoubleView:J,view:Ne,views:De}):null,(0,Jp.jsxs)("div",{className:"".concat(Fb,"__viewContainer"),onBlur:Z?Be:void 0,onMouseLeave:Z?Be:void 0,children:[Ue(),J?Ue(!0):null]})]})}));const tw=ew;var nw=n(950),rw=n.t(nw,2);function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(this,arguments)}function sw(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const aw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(oN){}new Map;const ow=t.startTransition;rw.flushSync,t.useId;function lw(t){let{basename:n,children:r,future:i,window:s}=t,a=e.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),Hm((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Um("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Vm(t)}),null,o)));let l=a.current,[c,u]=e.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=e.useCallback((e=>{h&&ow?ow((()=>u(e))):u(e)}),[u,h]);return e.useLayoutEffect((()=>l.listen(d)),[l,d]),e.createElement(qg,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const cw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=e.forwardRef((function(t,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=t,f=sw(t,aw),{basename:p}=e.useContext(_g),m=!1;if("string"===typeof u&&uw.test(u)&&(r=u,cw))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=og(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(oN){}let g=function(t,n){let{relative:r}=void 0===n?{}:n;Cg()||Fm(!1);let{basename:i,navigator:s}=e.useContext(_g),{hash:a,pathname:o,search:l}=Ag(t,{relative:r}),c=o;return"/"!==i&&(c="/"===o?i:dg([i,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),v=function(t,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=Dg(),u=Tg(),h=Ag(t,{relative:o});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==i?i:Vm(u)===Vm(h);c(t,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,h,i,s,r,t,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:d});return e.createElement("a",iw({},f,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var dw,fw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dw||(dw={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(fw||(fw={}));const pw=()=>{const[t,n]=(0,e.useState)(new Date),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=await tv();e&&a(e)}catch(e){l(e.message)}})(),(async()=>{try{l("");const e=await Dm();e&&u(e)}catch(e){l(e.message)}})()}),[]);const h=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},d=e=>{const t=h(e),n=h(e).slice(5,10);return[...s.filter((e=>e.date===t)),...c.filter((t=>{if(!t.birthday)return!1;const r=new Date(t.birthday);r.setFullYear(e.getFullYear());return h(r).slice(5,10)===n}))]},f=e=>{try{return(e=>{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const i=n.getMonth()-t.getMonth();return(i<0||0===i&&n.getDate()<t.getDate())&&r--,r})(e)}catch(o){return console.error(o),e}};return(0,Jp.jsxs)("div",{className:"event-calendar-container",children:[(0,Jp.jsx)("h2",{children:"Event/Session Calendar"}),o,(0,Jp.jsx)(tw,{onChange:e=>{n(e);try{const t=d(e);t&&i(t)}catch(o){}},value:t,tileClassName:e=>{let{date:t,view:n}=e;return"month"===n&&d(t).length>0?"event-day":null}}),(0,Jp.jsxs)("div",{className:"event-details",children:[(0,Jp.jsxs)("h3",{children:["Events on ",t.toDateString(),":"]}),r.length>0?(0,Jp.jsx)("ul",{children:r.map(((e,t)=>(0,Jp.jsx)("li",{children:e.details?(0,Jp.jsxs)("span",{children:["Session: ",(0,Jp.jsx)("strong",{children:e.details})," with ",e.teacher," at ",e.area,".",(0,Jp.jsx)(hw,{to:"/session/".concat(e.id),children:"View Details"})]}):(0,Jp.jsx)("span",{children:e.fullname?(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("i",{className:"fa fa-birthday-cake","aria-hidden":"true"})," Birthday: ",(0,Jp.jsx)("strong",{children:e.fullname})," (",f(e.birthday)," years)"]}):(0,Jp.jsx)("strong",{children:e.details})})},t)))}):(0,Jp.jsx)("p",{children:"No events for this day."})]})]})},mw=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[s,a]=(0,e.useState)(""),o=new Zp("planners");return(0,e.useEffect)((()=>{(async()=>{try{const e=await o.getPlannerData();e.success&&e.data&&n([e.data])}catch(e){a("Failed to fetch planner data"),console.error(e)}finally{i(!1)}})()}),[]),r?(0,Jp.jsx)("div",{children:"Loading..."}):s?(0,Jp.jsx)("div",{children:s}):(0,Jp.jsxs)("div",{className:"planner-list",children:[(0,Jp.jsx)("h1",{children:"Planner Data"}),0===t.length?(0,Jp.jsx)("p",{children:"No planners found"}):(0,Jp.jsx)("div",{children:t.map((e=>(0,Jp.jsxs)("div",{className:"planner-item",children:[(0,Jp.jsxs)("h3",{children:["Opener: ",e.opener]}),(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("h4",{children:"Songs:"}),(0,Jp.jsx)("ul",{children:e.songs.map(((e,t)=>(0,Jp.jsx)("li",{children:e.title},t)))})]}),(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("h4",{children:"Choir Songs:"}),(0,Jp.jsx)("ul",{children:e.choirSongs.map(((e,t)=>(0,Jp.jsx)("li",{children:e.title},t)))})]}),(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("h4",{children:"Dancing Stars Songs:"}),(0,Jp.jsx)("ul",{children:e.dancingStarsSongs.map(((e,t)=>(0,Jp.jsx)("li",{children:e.title},t)))})]}),(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("h4",{children:"TSA Song: "}),(0,Jp.jsx)("ul",{children:(0,Jp.jsx)("li",{children:e.tsaSong.title})})]}),(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("h4",{children:"Announcements:"}),(0,Jp.jsx)("ul",{children:e.announcements.map(((e,t)=>(0,Jp.jsx)("li",{children:e.title},t)))})]})]},e.id)))})]})},gw=e=>{let{data:t,onClose:n}=e;if(!t)return null;const{opener:r,songs:i,choirSongs:s,dancingStarsSongs:a,tsaSong:o,announcements:l}=t;return(0,Jp.jsx)("div",{className:"modalBackdrop",children:(0,Jp.jsxs)("div",{className:"modalContainer",children:[(0,Jp.jsxs)("div",{className:"modalContent",children:[(0,Jp.jsx)("h3",{children:"Prayer opening"}),(0,Jp.jsxs)("p",{children:[r," - ",(0,Jp.jsx)("strong",{children:JSON.stringify(function(){const e=new Date,t=(8-e.getDay())%7||7,n=new Date(e);return n.setDate(e.getDate()+t),n.toISOString().split("T")[0]}())})]}),(0,Jp.jsx)("h4",{children:"Praise and Worship Songs"}),(0,Jp.jsx)("div",{className:"songPreview",children:i.map(((e,t)=>(0,Jp.jsx)("div",{children:(0,Jp.jsxs)("p",{children:[(0,Jp.jsxs)("strong",{children:[t+1,"."]})," ",e.title||"N/A"]})},e.id)))}),(0,Jp.jsx)("h4",{children:"Choir Songs"}),s.map(((e,t)=>(0,Jp.jsx)("div",{className:"songPreview",children:(0,Jp.jsxs)("p",{children:[(0,Jp.jsxs)("strong",{children:[t+1,"."]})," ",e.title||"N/A"]})},e.id))),(0,Jp.jsx)("h4",{children:"Dancing Stars Songs"}),(0,Jp.jsx)("div",{className:"songPreview",children:a.map(((e,t)=>(0,Jp.jsx)("div",{children:(0,Jp.jsxs)("p",{children:[(0,Jp.jsxs)("strong",{children:[t+1,"."]})," ",e.title||"N/A"]})},e.id)))}),(0,Jp.jsx)("h4",{children:"TSA Songs"}),(0,Jp.jsx)("div",{className:"songPreview",children:(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:1})," ",o.title||"N/A"]})}),(0,Jp.jsx)("h4",{children:"Announcements"}),l.map(((e,t)=>(0,Jp.jsxs)("div",{className:"announcementPreview",children:[(0,Jp.jsxs)("p",{children:[(0,Jp.jsxs)("strong",{children:[t+1,"."]})," ",e.title||"N/A"]}),e.image&&(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:"Image:"})," ",e.image.name]})]},t)))]}),(0,Jp.jsx)("button",{className:"",onClick:()=>{if(!t)return;const{opener:e,songs:n,choirSongs:r,dancingStarsSongs:i,tsaSong:s,announcements:a}=t;try{const t="\n        Prayer: ".concat(e,"\n  \n        Songs:\n        ").concat(n.map(((e,t)=>"".concat(t+1,". ").concat(e.title))).join("\n"),"\n  \n        Choir Songs:\n        ").concat(r.map(((e,t)=>"".concat(t+1,". ").concat(e.title))).join("\n"),"\n  \n        Dancing Stars Songs:\n        ").concat(i.map(((e,t)=>"".concat(t+1,". ").concat(e.title))).join("\n"),"\n  \n        TSA Song: ").concat(s.title,"\n  \n        Announcements: ").concat(a.map(((e,t)=>"".concat(t+1,". ").concat(e.title))).join("\n"),"\n      ");o=t,navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(o).then((()=>{alert("Link copied to clipboard")})).catch((e=>{console.error("Could not copy text: ",e),km(o)})):km(o)}catch(oN){console.error(oN)}var o},children:"Copy"}),(0,Jp.jsx)("button",{className:"closeButton",onClick:n,children:"Close"})]})})},vw=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)([{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}]),[s,a]=(0,e.useState)([{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}]),[o,l]=(0,e.useState)([{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}]),[c,u]=(0,e.useState)({id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}),[h,d]=(0,e.useState)([{id:Math.random().toString(36).substring(2,32),title:"",image:""}]),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(""),v=new Zp("scc"),y=(e,t,n)=>{"songs"===n?i(r.map((n=>n.id===e?t:n))):"choirSongs"===n?a(s.map((n=>n.id===e?t:n))):"dancingStarsSongs"===n&&l(o.map((n=>n.id===e?t:n)))},b=e=>{u(e)},w=()=>{i([]),n(""),a([]),l([]),u(null),d([])};return(0,Jp.jsxs)("div",{className:"plannerContainer",children:[(0,Jp.jsx)("h1",{className:"header",children:"Church Planner"}),(0,Jp.jsxs)("div",{className:"openerSection",children:[(0,Jp.jsx)("h2",{children:"Prayer"}),(0,Jp.jsxs)("select",{value:t,onChange:e=>{n(e.target.value)},className:"select-input",children:[(0,Jp.jsx)("option",{value:"",disabled:!0,children:"Select an opener"}),["Mr Njongo","Sis Lungie","Pastor Luvo","Sis Elsie","Brother ...","Other"].map(((e,t)=>(0,Jp.jsx)("option",{value:e,children:e},t)))]})]}),(0,Jp.jsxs)("div",{className:"songsSection",children:[(0,Jp.jsx)("h2",{children:"Praise and Worship"}),r.map(((e,t)=>(0,Jp.jsxs)("div",{className:"songInputContainer",children:[(0,Jp.jsx)("strong",{children:t+1}),(0,Jp.jsx)("input",{type:"text",placeholder:"Song Title",value:null===e||void 0===e?void 0:e.title,onChange:t=>y(e.id,{...e,title:t.target.value},"songs"),className:"input"}),(0,Jp.jsx)(tm,{filename:null===e||void 0===e?void 0:e.title}),(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{children:"Lyrcis and file"}),(0,Jp.jsxs)("article",{children:[(0,Jp.jsx)("textarea",{placeholder:"Lyrics",value:e.lyrics,onChange:t=>y(e.id,{...e,lyrics:t.target.value},"songs"),className:"textarea"}),(0,Jp.jsx)("input",{type:"file",accept:"audio/*",onChange:t=>y(e.id,{...e,file:t.target.files[0]},"songs"),className:"fileInput"})]})]})]},e.id))),(0,Jp.jsx)("button",{onClick:()=>{i([...r,{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}])},children:"Add New Song"})]}),(0,Jp.jsxs)("div",{className:"songsSection",children:[(0,Jp.jsx)("h2",{children:"Choir Songs"}),s.map((e=>(0,Jp.jsxs)("div",{className:"songInputContainer",children:[(0,Jp.jsx)("input",{type:"text",placeholder:"Song Title",value:null===e||void 0===e?void 0:e.title,onChange:t=>y(e.id,{...e,title:t.target.value},"choirSongs"),className:"input"}),(0,Jp.jsx)(tm,{filename:null===e||void 0===e?void 0:e.title}),(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{children:"Lyrcis and file"}),(0,Jp.jsxs)("article",{children:[(0,Jp.jsx)("textarea",{placeholder:"Lyrics",value:e.lyrics,onChange:t=>y(e.id,{...e,lyrics:t.target.value},"choirSongs"),className:"textarea"}),(0,Jp.jsx)("input",{type:"file",accept:"audio/*",onChange:t=>y(e.id,{...e,file:t.target.files[0]},"choirSongs"),className:"fileInput"})]})]})]},e.id))),(0,Jp.jsx)("button",{onClick:()=>{a([...s,{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}])},children:"Add New Choir Song"})]}),(0,Jp.jsxs)("div",{className:"songsSection",children:[(0,Jp.jsx)("h2",{children:"Dancing Stars"}),o.map((e=>(0,Jp.jsxs)("div",{className:"songInputContainer",children:[(0,Jp.jsx)("input",{type:"text",placeholder:"Song Title",value:null===e||void 0===e?void 0:e.title,onChange:t=>y(e.id,{...e,title:t.target.value},"dancingStarsSongs"),className:"input"}),(0,Jp.jsx)(tm,{filename:null===e||void 0===e?void 0:e.title}),(0,Jp.jsx)("input",{type:"file",accept:"audio/*",onChange:t=>y(e.id,{...e,file:t.target.files[0]},"dancingStarsSongs"),className:"fileInput"})]},e.id))),(0,Jp.jsx)("button",{onClick:()=>{l([...o,{id:Math.random().toString(36).substring(2,32),title:"",lyrics:"",file:""}])},children:"Add New Dancing Star Song"})]}),(0,Jp.jsxs)("div",{className:"songsSection",children:[(0,Jp.jsx)("h2",{children:"TSA Songs"}),(0,Jp.jsxs)("div",{className:"songInputContainer",children:[(0,Jp.jsx)("input",{type:"text",placeholder:"Song Title",value:null===c||void 0===c?void 0:c.title,onChange:e=>b({...c,title:e.target.value}),className:"input"}),(0,Jp.jsx)(tm,{filename:null===c||void 0===c?void 0:c.title}),(0,Jp.jsx)("textarea",{placeholder:"Lyrics",value:c.lyrics,onChange:e=>b({...c,lyrics:e.target.value}),className:"textarea"}),(0,Jp.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>b({...c,file:e.target.files[0]}),className:"fileInput"})]})]}),(0,Jp.jsxs)("div",{className:"announcementSection",children:[(0,Jp.jsx)("h2",{children:"Announcements"}),h.map((e=>(0,Jp.jsxs)("div",{className:"announcementInputContainer",children:[(0,Jp.jsx)("input",{type:"text",placeholder:"Announcement Title",value:null===e||void 0===e?void 0:e.title,onChange:t=>d(h.map((n=>n.id===e.id?{...e,title:t.target.value}:n))),className:"input"}),(0,Jp.jsx)("input",{type:"file",accept:"image/*",onChange:t=>d(h.map((n=>n.id===e.id?{...e,image:t.target.files[0]}:n))),className:"fileInput"})]},e.id))),(0,Jp.jsx)("button",{onClick:()=>{d([...h,{id:Math.random().toString(36).substring(2,32),title:"",image:""}])},children:"Add New Announcement"})]}),(0,Jp.jsx)("h2",{}),(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-info-circle","aria-hidden":"true"})," ",m]}),(0,Jp.jsx)("button",{className:"submitBtn",onClick:()=>p(!0),children:"Preview"}),(0,Jp.jsx)("button",{className:"submitBtn",onClick:async()=>{try{g("Loading please wait...");if(s.some((e=>!(null!==e&&void 0!==e&&e.title)))||o.some((e=>!(null!==e&&void 0!==e&&e.title)))||r.some((e=>!(null!==e&&void 0!==e&&e.title)))||!(null!==c&&void 0!==c&&c.title))return void g("Please provide title to all the boxes");const e=r.map((e=>v.addSong(e))),n=s.map((e=>v.addSong(e))),i=o.map((e=>v.addSong(e))),a=v.addSong(c),[l,u,d,f]=await Promise.all([Promise.all(e),Promise.all(n),Promise.all(i),a]),p={opener:t,songs:l.map((e=>e.song)),choirSongs:u.map((e=>e.song)),dancingStarsSongs:d.map((e=>e.song)),tsaSong:f.song,announcements:h},m=await v.addPlannerData(p);m.success?(g("Planner data saved successfully"),w()):(console.error(m.message),g(m.message))}catch(e){console.error("Error during submission:",e),g("Error during submission: ".concat(e))}},children:"Submit"}),f&&(0,Jp.jsx)(gw,{data:{opener:t,songs:r,choirSongs:s,dancingStarsSongs:o,tsaSong:c,announcements:h},onClose:()=>p(!1)})]})},yw=()=>{const e=[{key:"view-church",label:"View services",component:(0,Jp.jsx)(mw,{})},{key:"plan-church",label:"Plan new",component:(0,Jp.jsx)(vw,{})}];return(0,Jp.jsx)("div",{children:(0,Jp.jsx)(hv,{views:e})})},bw=t=>{let{addContact:n}=t;const[r,i]=(0,e.useState)({name:"",phone:"",notes:"",recruiter:"",status:"Contacted"}),s=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,Jp.jsxs)("div",{className:"outreach-form-container",children:[(0,Jp.jsx)("h2",{className:"outreach-form-title",children:"Add New Outreach Contact"}),(0,Jp.jsxs)("form",{className:"outreach-form",onSubmit:e=>{e.preventDefault(),n({...r,notes:"".concat(r.notes,"\nRecruited by: ").concat(r.recruiter)}),i({name:"",phone:"",notes:"",status:"Contacted"})},children:[(0,Jp.jsxs)("div",{className:"outreach-form-group",children:[(0,Jp.jsx)("label",{children:"Name"}),(0,Jp.jsx)("input",{type:"text",name:"name",value:r.name,onChange:s,required:!0})]}),(0,Jp.jsxs)("div",{className:"outreach-form-group",children:[(0,Jp.jsx)("label",{children:"Phone"}),(0,Jp.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:s,required:!0})]}),(0,Jp.jsxs)("div",{className:"outreach-form-group",children:[(0,Jp.jsx)("label",{children:"Notes"}),(0,Jp.jsx)("textarea",{name:"notes",value:r.notes,onChange:s})]}),(0,Jp.jsxs)("div",{className:"outreach-form-group",children:[(0,Jp.jsx)("label",{children:"Recruited by:"}),(0,Jp.jsx)("input",{name:"recruiter",value:r.recruiter,onChange:s})]}),(0,Jp.jsx)("button",{type:"submit",className:"outreach-form-submit",children:"Add Contact"})]})]})},ww=t=>{let{contacts:n,removeContact:r}=t;const[i,s]=(0,e.useState)(""),[a,o]=(0,e.useState)("name"),l=n.filter((e=>("name"===a?e.name:"number"===a?e.phone:e.notes).toLowerCase().includes(i.toLowerCase())));return(0,Jp.jsxs)("div",{className:"outreach-dashboard-container",children:[(0,Jp.jsxs)("h2",{className:"outreach-dashboard-title",children:["Outreach Dashboard ",n?"(".concat(n.length,")"):""]}),(0,Jp.jsxs)("div",{className:"search-container",children:[(0,Jp.jsxs)("select",{value:a,onChange:e=>o(e.target.value),className:"search-combobox",children:[(0,Jp.jsx)("option",{value:"name",children:"Search by Name"}),(0,Jp.jsx)("option",{value:"notes",children:"Search by Notes"}),(0,Jp.jsx)("option",{value:"number",children:"Search by Number"})]}),(0,Jp.jsx)("input",{type:"text",placeholder:"Search by ".concat(a.charAt(0).toUpperCase()+a.slice(1)),value:i,onChange:e=>s(e.target.value),className:"search-input"})]}),(0,Jp.jsx)("div",{className:"outreach-table-container",children:l.length>0?(0,Jp.jsxs)("table",{className:"outreach-table",children:[(0,Jp.jsx)("thead",{children:(0,Jp.jsxs)("tr",{children:[(0,Jp.jsx)("th",{children:"Name"}),(0,Jp.jsxs)("th",{children:[(0,Jp.jsx)("i",{className:"fa fa-phone"})," Phone"]}),(0,Jp.jsxs)("th",{children:[(0,Jp.jsx)("i",{className:"fa fa-commenting"})," Notes"]}),(0,Jp.jsxs)("th",{children:[(0,Jp.jsx)("i",{className:"fa fa-tasks"})," "]})]})}),(0,Jp.jsx)("tbody",{children:l.map(((e,t)=>(0,Jp.jsxs)("tr",{children:[(0,Jp.jsxs)("td",{children:[(0,Jp.jsx)("i",{className:"fa fa-user"})," ",e.name]}),(0,Jp.jsx)("td",{children:(0,Jp.jsx)("a",{href:"tel:".concat(e.phone),children:e.phone})}),(0,Jp.jsx)("td",{children:e.notes}),(0,Jp.jsx)("td",{children:(0,Jp.jsx)("button",{className:"status-btn",onClick:()=>r(e.id),children:(0,Jp.jsx)("i",{className:"fa fa-trash"})})})]},t)))})]}):(0,Jp.jsx)("div",{children:"No outreach data found"})})]})},xw=()=>{const[t,n]=(0,e.useState)("dashboard"),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{try{a("Loading...");const e=await Im();i(e),a("")}catch(e){console.error("Error loading contacts:",e),a("Failed to load contacts.")}})()}),[]);return(0,Jp.jsxs)("div",{className:"outreach-page-container",children:[(0,Jp.jsx)("h1",{className:"page-title",children:"Outreach Management"}),(0,Jp.jsxs)("div",{className:"view-switcher",children:[(0,Jp.jsx)("button",{className:"view-btn ".concat("dashboard"===t?"active":""),onClick:()=>n("dashboard"),children:"View Dashboard"}),(0,Jp.jsx)("button",{className:"view-btn ".concat("form"===t?"active":""),onClick:()=>n("form"),children:"Add New Contact"})]}),s&&(0,Jp.jsx)("div",{className:"status-message",children:s}),"dashboard"===t?(0,Jp.jsx)(ww,{contacts:r,removeContact:async e=>{try{a("Loading..."),await jm(e),i(r.filter((t=>t.id!==e))),a("Contact removed successfully!")}catch(t){console.error("Error removing contact:",t),a("Error removing contact.")}}}):(0,Jp.jsx)(bw,{addContact:async e=>{try{a("Loading...");const t=await Om({...e,id:ym()});i([...r,t]),a("Contact added successfully!")}catch(t){console.error(t),a("Error adding contact.")}}})]})};function _w(e){return _w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(e)}function kw(e){var t=function(e,t){if("object"!=_w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_w(t)?t:t+""}function Sw(e,t,n){return(t=kw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ew(e){return e+.5|0}const Cw=(e,t,n)=>Math.max(Math.min(e,n),t);function Tw(e){return Cw(Ew(2.55*e),0,255)}function Nw(e){return Cw(Ew(255*e),0,255)}function Dw(e){return Cw(Ew(e/2.55)/100,0,1)}function Aw(e){return Cw(Ew(100*e),0,100)}const Iw={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ow=[..."0123456789ABCDEF"],jw=e=>Ow[15&e],Mw=e=>Ow[(240&e)>>4]+Ow[15&e],Pw=e=>(240&e)>>4===(15&e);function Rw(e){var t=(e=>Pw(e.r)&&Pw(e.g)&&Pw(e.b)&&Pw(e.a))(e)?jw:Mw;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Lw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fw(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function zw(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Bw(e,t,n){const r=Fw(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Uw(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function Vw(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Nw)}function Ww(e,t,n){return Vw(Fw,e,t,n)}function Hw(e){return(e%360+360)%360}function qw(e){const t=Lw.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Tw(+t[5]):Nw(+t[5]));const i=Hw(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Vw(Bw,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return Vw(zw,e,t,n)}(i,s,a):Ww(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const Kw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Yw;function Qw(e){Yw||(Yw=function(){const e={},t=Object.keys(Gw),n=Object.keys(Kw);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,Kw[s]);s=parseInt(Gw[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Yw.transparent=[0,0,0,0]);const t=Yw[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Xw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const $w=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Zw=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Jw(e,t,n){if(e){let r=Uw(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Ww(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function ex(e,t){return e?Object.assign(t||{},e):e}function tx(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Nw(e[3]))):(t=ex(e,{r:0,g:0,b:0,a:1})).a=Nw(t.a),t}function nx(e){return"r"===e.charAt(0)?function(e){const t=Xw.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Tw(e):Cw(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?Tw(n):Cw(n,0,255)),r=255&(t[4]?Tw(r):Cw(r,0,255)),i=255&(t[6]?Tw(i):Cw(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):qw(e)}class rx{constructor(e){if(e instanceof rx)return e;const t=typeof e;let n;"object"===t?n=tx(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Iw[e[1]],g:255&17*Iw[e[2]],b:255&17*Iw[e[3]],a:5===n?17*Iw[e[4]]:255}:7!==n&&9!==n||(t={r:Iw[e[1]]<<4|Iw[e[2]],g:Iw[e[3]]<<4|Iw[e[4]],b:Iw[e[5]]<<4|Iw[e[6]],a:9===n?Iw[e[7]]<<4|Iw[e[8]]:255})),t}(e)||Qw(e)||nx(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ex(this._rgb);return e&&(e.a=Dw(e.a)),e}set rgb(e){this._rgb=tx(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Dw(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Rw(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Uw(e),n=t[0],r=Aw(t[1]),i=Aw(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Dw(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Zw(Dw(e.r)),i=Zw(Dw(e.g)),s=Zw(Dw(e.b));return{r:Nw($w(r+n*(Zw(Dw(t.r))-r))),g:Nw($w(i+n*(Zw(Dw(t.g))-i))),b:Nw($w(s+n*(Zw(Dw(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new rx(this.rgb)}alpha(e){return this._rgb.a=Nw(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Ew(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jw(this._rgb,2,e),this}darken(e){return Jw(this._rgb,2,-e),this}saturate(e){return Jw(this._rgb,1,e),this}desaturate(e){return Jw(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Uw(e);n[0]=Hw(n[0]+t),n=Ww(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function ix(){}const sx=(()=>{let e=0;return()=>e++})();function ax(e){return null===e||"undefined"===typeof e}function ox(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function lx(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function cx(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function ux(e,t){return cx(e)?e:t}function hx(e,t){return"undefined"===typeof e?t:e}const dx=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fx(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function px(e,t,n,r){let i,s,a;if(ox(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(lx(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function mx(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function gx(e){if(ox(e))return e.map(gx);if(lx(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=gx(e[n[i]]);return t}return e}function vx(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yx(e,t,n,r){if(!vx(e))return;const i=t[e],s=n[e];lx(i)&&lx(s)?bx(i,s,r):t[e]=gx(s)}function bx(e,t,n){const r=ox(t)?t:[t],i=r.length;if(!lx(e))return e;const s=(n=n||{}).merger||yx;let a;for(let o=0;o<i;++o){if(a=r[o],!lx(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function wx(e,t){return bx(e,t,{merger:xx})}function xx(e,t,n){if(!vx(e))return;const r=t[e],i=n[e];lx(r)&&lx(i)?wx(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=gx(i))}const _x={"":e=>e,x:e=>e.x,y:e=>e.y};function kx(e,t){const n=_x[t]||(_x[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Sx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ex=e=>"undefined"!==typeof e,Cx=e=>"function"===typeof e,Tx=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Nx=Math.PI,Dx=2*Nx,Ax=Dx+Nx,Ix=Number.POSITIVE_INFINITY,Ox=Nx/180,jx=Nx/2,Mx=Nx/4,Px=2*Nx/3,Rx=Math.log10,Lx=Math.sign;function Fx(e,t,n){return Math.abs(e-t)<n}function zx(e){const t=Math.round(e);e=Fx(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Rx(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Bx(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ux(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vx(e){return e*(Nx/180)}function Wx(e){return e*(180/Nx)}function Hx(e){if(!cx(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function qx(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Nx&&(s+=Dx),{angle:s,distance:i}}function Kx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gx(e,t){return(e-t+Ax)%Dx-Nx}function Yx(e){return(e%Dx+Dx)%Dx}function Qx(e,t,n,r){const i=Yx(e),s=Yx(t),a=Yx(n),o=Yx(s-i),l=Yx(a-i),c=Yx(i-s),u=Yx(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function Xx(e,t,n){return Math.max(t,Math.min(n,e))}function $x(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Zx(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Jx=(e,t,n,r)=>Zx(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),e_=(e,t,n)=>Zx(e,n,(r=>e[r][t]>=n));const t_=["push","pop","shift","splice","unshift"];function n_(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(t_.forEach((t=>{delete e[t]})),delete e._chartjs)}function r_(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const i_="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function s_(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,i_.call(window,(()=>{r=!1,e.apply(t,n)})))}}const a_=e=>"start"===e?"left":"end"===e?"right":"center",o_=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function l_(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,_parsed:o}=e,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(i=Xx(Math.min(Jx(o,l,c).lo,n?r:Jx(t,l,a.getPixelForValue(c)).lo),0,r-1)),s=d?Xx(Math.max(Jx(o,a.axis,u,!0).hi+1,n?0:Jx(t,l,a.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function c_(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const u_=e=>0===e||1===e,h_=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dx/n),d_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dx/n)+1,f_={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*jx),easeOutSine:e=>Math.sin(e*jx),easeInOutSine:e=>-.5*(Math.cos(Nx*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>u_(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>u_(e)?e:h_(e,.075,.3),easeOutElastic:e=>u_(e)?e:d_(e,.075,.3),easeInOutElastic(e){const t=.1125;return u_(e)?e:e<.5?.5*h_(2*e,t,.45):.5+.5*d_(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-f_.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*f_.easeInBounce(2*e):.5*f_.easeOutBounce(2*e-1)+.5};function p_(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function m_(e){return p_(e)?e:new rx(e)}function g_(e){return p_(e)?e:new rx(e).saturate(.5).darken(.1).hexString()}const v_=["x","y","borderWidth","radius","tension"],y_=["color","borderColor","backgroundColor"];const b_=new Map;function w_(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=b_.get(n);return r||(r=new Intl.NumberFormat(e,t),b_.set(n,r)),r}(t,n).format(e)}const x_={values:e=>ox(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Rx(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),w_(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Rx(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?x_.numeric.call(this,e,t,n):""}};var __={formatters:x_};const k_=Object.create(null),S_=Object.create(null);function E_(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function C_(e,t,n){return"string"===typeof t?bx(E_(e,t),n):bx(E_(e,""),t)}class T_{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>g_(t.backgroundColor),this.hoverBorderColor=(e,t)=>g_(t.borderColor),this.hoverColor=(e,t)=>g_(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return C_(this,e,t)}get(e){return E_(this,e)}describe(e,t){return C_(S_,e,t)}override(e,t){return C_(k_,e,t)}route(e,t,n,r){const i=E_(this,e),s=E_(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return lx(e)?Object.assign({},t,e):hx(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var N_=new T_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:y_},numbers:{type:"number",properties:v_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:__.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function D_(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function A_(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,u,h,d;for(l=0;l<o;l++)if(h=n[l],void 0===h||null===h||ox(h)){if(ox(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||ox(d)||(a=D_(e,i,s,a,d))}else a=D_(e,i,s,a,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function I_(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function O_(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function j_(e,t,n,r){M_(e,t,n,r,null)}function M_(e,t,n,r,i){let s,a,o,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*Ox;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,Dx):e.arc(n,r,m,0,Dx),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Px,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Px,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+Mx)*l,h=Math.cos(g+Mx)*(i?i/2-c:l),o=Math.sin(g+Mx)*l,d=Math.sin(g+Mx)*(i?i/2-c:l),e.arc(n-h,r-o,c,g-Nx,g-jx),e.arc(n+d,r-a,c,g-jx,g),e.arc(n+h,r+o,c,g,g+jx),e.arc(n-d,r+a,c,g+jx,g+Nx),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=Mx;case"rectRot":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+d,r-a),e.lineTo(n+h,r+o),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":g+=Mx;case"cross":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),g+=Mx,h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function P_(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function R_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function L_(e){e.restore()}function F_(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function z_(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function B_(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function U_(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function V_(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=ox(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ax(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&U_(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ax(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),B_(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function W_(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Nx,Nx,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Nx,jx,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,jx,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-jx,!0),e.lineTo(n+a.topLeft,r)}const H_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,q_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function K_(e,t){const n=(""+e).match(H_);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const G_=e=>+e||0;function Y_(e,t){const n={},r=lx(t),i=r?Object.keys(t):t,s=lx(e)?r?n=>hx(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=G_(s(a));return n}function Q_(e){return Y_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function X_(e){return Y_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function $_(e){const t=Q_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Z_(e,t){e=e||{},t=t||N_.font;let n=hx(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=hx(e.style,t.style);r&&!(""+r).match(q_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:hx(e.family,t.family),lineHeight:K_(hx(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:hx(e.weight,t.weight),string:""};return i.string=function(e){return!e||ax(e.size)||ax(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function J_(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&ox(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function ek(e,t){return Object.assign(Object.create(e),t)}function tk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=dk("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>tk([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>ak(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=dk(ik(s,e),n),"undefined"!==typeof i)return sk(e,i)?uk(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>fk(e).includes(t),ownKeys:e=>fk(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function nk(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:rk(e,r),setContext:t=>nk(e,t,n,r),override:i=>nk(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>ak(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];Cx(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),sk(e,l)&&(l=uk(i._scopes,i,e,l));return l}(t,o,e,n));ox(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(lx(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=uk(r,i,e,l);t.push(nk(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));sk(t,o)&&(o=nk(o,i,s&&s[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function rk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Cx(n)?n:()=>n,isIndexable:Cx(r)?r:()=>r}}const ik=(e,t)=>e?e+Sx(t):t,sk=(e,t)=>lx(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ak(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function ok(e,t,n){return Cx(e)?e(t,n):e}const lk=(e,t)=>!0===e?t:"string"===typeof e?kx(t,e):void 0;function ck(e,t,n,r,i){for(const s of t){const t=lk(n,s);if(t){e.add(t);const s=ok(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function uk(e,t,n,r){const i=t._rootScopes,s=ok(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=hk(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=hk(o,a,s,l,r),null!==l))&&tk(Array.from(o),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(ox(i)&&lx(n))return n;return i||{}}(t,n,r))))}function hk(e,t,n,r,i){for(;n;)n=ck(e,t,n,r,i);return n}function dk(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function fk(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function pk(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={r:i.parse(kx(u,s),c)};return a}const mk=Number.EPSILON||1e-14,gk=(e,t)=>t<e.length&&!e[t].skip&&e[t],vk=e=>"x"===e?"y":"x";function yk(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=Kx(s,i),l=Kx(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+d*(a.x-i.x),y:s.y+d*(a.y-i.y)}}}function bk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=vk(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=gk(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=gk(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?Lx(i[a-1])!==Lx(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=gk(e,0);for(let u=0;u<r-1;++u)l=c,c=gk(e,u+1),l&&c&&(Fx(t[u],0,mk)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=vk(n),i=e.length;let s,a,o,l=gk(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=gk(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o["cp1".concat(n)]=i-s,o["cp1".concat(r)]=u-s*t[c]),l&&(s=(l[n]-i)/3,o["cp2".concat(n)]=i+s,o["cp2".concat(r)]=u+s*t[c])}}(e,s,t)}function wk(e,t,n){return Math.max(Math.min(e,n),t)}function xk(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)bk(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=yk(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=P_(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&P_(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=wk(i.cp1x,t.left,t.right),i.cp1y=wk(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=wk(i.cp2x,t.left,t.right),i.cp2y=wk(i.cp2y,t.top,t.bottom)))}(e,n)}function _k(){return"undefined"!==typeof window&&"undefined"!==typeof document}function kk(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Sk(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Ek=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Ck=["top","right","bottom","left"];function Tk(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Ck[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Nk=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Dk(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Ek(n),s="border-box"===i.boxSizing,a=Tk(i,"padding"),o=Tk(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(Nk(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),h=a.left+(u&&o.left),d=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const Ak=e=>Math.round(10*e)/10;function Ik(e,t,n,r){const i=Ek(e),s=Tk(i,"margin"),a=Sk(i.maxWidth,e,"clientWidth")||Ix,o=Sk(i.maxHeight,e,"clientHeight")||Ix,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&kk(e);if(s){const e=s.getBoundingClientRect(),a=Ek(s),o=Tk(a,"border","width"),l=Tk(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Sk(a.maxWidth,s,"clientWidth"),i=Sk(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Ix,maxHeight:i||Ix}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=Tk(i,"border","width"),t=Tk(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ak(Math.min(c,a,l.maxWidth)),u=Ak(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ak(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=Ak(Math.floor(u*r))),{width:c,height:u}}function Ok(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const jk=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_k()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(oN){}return e}();function Mk(e,t){const n=function(e,t){return Ek(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Pk(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Rk(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Lk(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Pk(e,i,n),o=Pk(i,s,n),l=Pk(s,t,n),c=Pk(a,o,n),u=Pk(o,l,n);return Pk(c,u,n)}function Fk(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function zk(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Bk(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Uk(e){return"angle"===e?{between:Qx,compare:Gx,normalize:Yx}:{between:$x,compare:(e,t)=>e-t,normalize:e=>e}}function Vk(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Wk(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=Uk(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=Uk(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(o(t[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let m,g,v,y=!1,b=null;const w=()=>y||l(i,v,m)&&0!==o(i,v),x=()=>!y||0===o(s,m)||l(s,v,m);for(let _=u,k=u;_<=h;++_)g=t[_%a],g.skip||(m=c(g[r]),m!==v&&(y=l(m,i,s),null===b&&w()&&(b=0===o(m,i)?_:k),null!==b&&x()&&(p.push(Vk({start:b,end:_,loop:d,count:a,style:f})),b=null),k=_,v=m));return null!==b&&p.push(Vk({start:b,end:h,loop:d,count:a,style:f})),p}function Hk(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Wk(r[i],e.points,t);s.length&&n.push(...s)}return n}function qk(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=Kk(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=o?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=Kk(r.setContext(ek(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),Gk(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function Kk(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Gk(e,t){if(!t)return!1;const n=[],r=function(e,t){return p_(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Yk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=i_.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qk=new Yk;const Xk="transparent",$k={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=m_(e||Xk),i=r.valid&&m_(t||Xk);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Zk{constructor(e,t,n,r){const i=t[n];r=J_([e.to,r,i,e.from]);const s=J_([e.from,i,r]);this._active=!0,this._fn=e.fn||$k[e.type||typeof s],this._easing=f_[e.easing]||f_.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=J_([e.to,t,r,e.from]),this._from=J_([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Jk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!lx(e))return;const t=Object.keys(N_.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!lx(i))return;const s={};for(const e of t)s[e]=i[e];(ox(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new Zk(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Qk.add(this._chart,n),!0):void 0}}function eS(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function tS(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function nS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null!==t){for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(r.all)continue;break}c=e.values[l],cx(c)&&(s||0===t||Lx(t)===Lx(c))&&(t+=c)}return t}}function rS(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function iS(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function sS(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function aS(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,a,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=iS(i,u,n),d[o]=s,d._top=sS(d,a,!0,r.type),d._bottom=sS(d,a,!1,r.type);(d._visualValues||(d._visualValues={}))[o]=s}}function oS(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function lS(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const cS=e=>"reset"===e||"none"===e,uS=(e,t)=>t?e:Object.assign({},e);class hS{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rS(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lS(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=hx(n.xAxisID,oS(e,"x")),s=t.yAxisID=hx(n.yAxisID,oS(e,"y")),a=t.rAxisID=hx(n.rAxisID,oS(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&n_(this._data,this),e._stacked&&lS(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(lx(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){n_(n,this);const e=this._cachedMeta;lS(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),t_.forEach((e=>{const t="_onData"+Sx(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),a}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=rS(t.vScale,t),t.stack!==n.stack&&(r=!0,lS(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&aS(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=ox(r[e])?this.parseArrayData(n,r,e,t):lx(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||h&&l[a]<h[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&aS(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(kx(d,a),h),y:s.parse(kx(d,o),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return nS({keys:tS(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=nS(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:tS(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const t=d[a.axis];return!cx(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,o),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],cx(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return lx(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(hx(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=eS(e,n),i=eS(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return ek(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return ek(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&Ex(n);if(a)return uS(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(N_.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(uS(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(t),a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new Jk(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||cS(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){cS(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!cS(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&lS(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function dS(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=r_(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,s,a,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(Ex(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return o}function fS(e,t,n,r){return ox(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function pS(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=o||i.parse(a[c],c),l.push(fS(d,h,s,c));return l}function mS(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function gS(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[vS(u,a,o,l)]=!0,i=c)),s[vS(i,a,o,l)]=!0,e.borderSkipped=s}function vS(e,t,n,r){var i,s,a;return r?(a=n,e=yS(e=(i=e)===(s=t)?a:i===a?s:i,n,t)):e=yS(e,t,n),e}function yS(e,t,n){return"start"===e?t:"end"===e?n:e}function bS(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}Sw(hS,"defaults",{}),Sw(hS,"datasetElementType",null),Sw(hS,"dataElementType",null);class wS extends hS{parsePrimitiveData(e,t,n,r){return pS(e,t,n,r)}parseArrayData(e,t,n,r){return pS(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?a:o,c="x"===s.axis?a:o,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(kx(p,l),h),u.push(fS(kx(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,a=mS(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||ax(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||mS(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const g=m.options||e[d].options;gS(m,g,p,s),bS(m,g,c.ratio),this.updateElement(e[d],d,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),r=t&&t[e.vScale.axis];if(ax(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||dS(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,c=mS(l);let u,h,d=o[t.axis],f=0,p=n?this.applyStack(t,o,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Lx(d)!==Lx(l.barEnd)&&(f=0),f+=d);const m=ax(i)||c?f:i;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<s){h=function(e,t,n){return 0!==e?Lx(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*s,d===a&&(g-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=Lx(h)*t.getLineWidthForValue(a)/2;g+=e,h-=e}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=hx(r.maxBarThickness,1/0);let a,o;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let s,a;return ax(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=l.start+l.chunk*c+l.chunk/2,o=Math.min(s,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}Sw(wS,"id","bar"),Sw(wS,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Sw(wS,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class xS extends hS{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=hx(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=hx(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,u=a.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=i?a.getBasePixel():a.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=o||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=hx(n&&n._custom,i),r}}Sw(xS,"id","bubble"),Sw(xS,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Sw(xS,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class _S extends hS{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(lx(n[e])){const{key:e="value"}=this._parsing;a=t=>+kx(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return Vx(this.options.rotation-90)}_getCircumference(){return Vx(this.options.circumference)}_getRotationExtents(){let e=Dx,t=-Dx;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<Dx){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>Qx(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Qx(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=f(0,c,h),g=f(jx,u,d),v=p(Nx,c,h),y=p(Nx+jx,u,d);r=(m-v)/2,i=(g-y)/2,s=-(m+v)/2,a=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(d,h,o),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),w=dx(this.options.radius,b),x=(w-Math.max(w*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Dx)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&o.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Dx*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=w_(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(hx(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Sw(_S,"id","doughnut"),Sw(_S,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Sw(_S,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Sw(_S,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class kS extends hS{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=l_(t,r,s);this._drawStart=a,this._drawCount=o,c_(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,m=Bx(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let w=0;w<y;++w){const n=e[w],f=g?n:{};if(w<t||w>=v){f.skip=!0;continue}const y=this.getParsed(w),x=ax(y[d]),_=f[h]=s.getPixelForValue(y[h],w),k=f[d]=i||x?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[d],w);f.skip=isNaN(_)||isNaN(k)||x,f.stop=w>0&&Math.abs(y[h]-b[h])>m,p&&(f.parsed=y,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),g||this.updateElement(n,w,f,r),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Sw(kS,"id","line"),Sw(kS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Sw(kS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class SS extends hS{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=w_(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return pk.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*Nx;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),m=s.getDataVisibility(h)?o.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(a.animateScale&&(m=0),a.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Vx(this.resolveDataElementOptions(e,t).angle||n):0}}Sw(SS,"id","polarArea"),Sw(SS,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Sw(SS,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ES extends _S{}Sw(ES,"id","pie"),Sw(ES,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class CS extends hS{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return pk.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=i.getPointPositionForValue(a,this.getParsed(a).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,u,r)}}}Sw(CS,"id","radar"),Sw(CS,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Sw(CS,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class TS extends hS{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+a+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=l_(t,n,r);if(this._drawStart=i,this._drawCount=s,c_(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=s.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,g=Bx(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},p=ax(n[f]),w=c[d]=s.getPixelForValue(n[d],b),x=c[f]=i||p?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[f],b);c.skip=isNaN(w)||isNaN(x)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>g,m&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),v||this.updateElement(t,b,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}Sw(TS,"id","scatter"),Sw(TS,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Sw(TS,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function NS(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DS{static override(e){Object.assign(DS.prototype,e)}constructor(e){Sw(this,"options",void 0),this.options=e||{}}init(){}formats(){return NS()}parse(){return NS()}format(){return NS()}add(){return NS()}diff(){return NS()}startOf(){return NS()}endOf(){return NS()}}var AS=DS;function IS(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const e=o._reversePixels?e_:Jx;if(!r)return e(s,t,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),a=e(s,t,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function OS(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=IS(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function jS(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return OS(e,n,t,(function(n,a,o){(i||P_(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})}),!0),s}function MS(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return OS(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=o(t,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function PS(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?MS(e,t,n,r,i,s):function(e,t,n,r){let i=[];return OS(e,n,t,(function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=qx(e,{x:t.x,y:t.y});Qx(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function RS(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return OS(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))})),r&&!o?[]:s}var LS={evaluateInteractionItems:OS,modes:{index(e,t,n,r){const i=Dk(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?jS(e,i,s,r,a):PS(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=Dk(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?jS(e,i,s,r,a):PS(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>jS(e,Dk(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=Dk(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return PS(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>RS(e,Dk(t,e),"x",n.intersect,r),y:(e,t,n,r)=>RS(e,Dk(t,e),"y",n.intersect,r)}};const FS=["left","top","right","bottom"];function zS(e,t){return e.filter((e=>e.pos===t))}function BS(e,t){return e.filter((e=>-1===FS.indexOf(e.pos)&&e.box.axis===t))}function US(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function VS(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!FS.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function WS(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function HS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function qS(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!lx(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&HS(a,s.getPadding());const o=Math.max(0,t.outerWidth-WS(a,e,"left","right")),l=Math.max(0,t.outerHeight-WS(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function KS(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function GS(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,KS(o.horizontal,t));const{same:a,other:h}=qS(t,n,o,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&GS(i,t,n,r)||u}function YS(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function QS(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Ex(l.start)&&(a=l.start),e.fullSize?YS(e,i.left,a,n.outerWidth-i.right-i.left,s):YS(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;Ex(l.start)&&(s=l.start),e.fullSize?YS(e,s,i.top,a,n.outerHeight-i.bottom-i.top):YS(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var XS={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=$_(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=US(t.filter((e=>e.box.fullSize)),!0),r=US(zS(t,"left"),!0),i=US(zS(t,"right")),s=US(zS(t,"top"),!0),a=US(zS(t,"bottom")),o=BS(t,"x"),l=BS(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:zS(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;px(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);HS(d,$_(r));const f=Object.assign({maxPadding:d,w:s,h:a,x:i.left,y:i.top},i),p=VS(l.concat(c),h);GS(o.fullSize,f,h,p),GS(l,f,h,p),GS(c,f,h,p)&&GS(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),QS(o.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,QS(o.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},px(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class $S{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class ZS extends $S{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const JS="$chartjs",eE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tE=e=>null===e||""===e;const nE=!!jk&&{passive:!0};function rE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,nE)}function iE(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function sE(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||iE(n.addedNodes,r),t=t&&!iE(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function aE(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||iE(n.removedNodes,r),t=t&&!iE(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const oE=new Map;let lE=0;function cE(){const e=window.devicePixelRatio;e!==lE&&(lE=e,oE.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function uE(e,t,n){const r=e.canvas,i=r&&kk(r);if(!i)return;const s=s_(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return a.observe(i),function(e,t){oE.size||window.addEventListener("resize",cE),oE.set(e,t)}(e,s),a}function hE(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){oE.delete(e),oE.size||window.removeEventListener("resize",cE)}(e)}function dE(e,t,n){const r=e.canvas,i=s_((t=>{null!==e.ctx&&n(function(e,t){const n=eE[e.type]||e.type,{x:r,y:i}=Dk(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,nE)}(r,t,i),i}class fE extends $S{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[JS]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tE(i)){const t=Mk(e,"width");void 0!==t&&(e.width=t)}if(tE(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Mk(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[JS])return!1;const n=t[JS].initial;["height","width"].forEach((e=>{const r=n[e];ax(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[JS],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:sE,detach:aE,resize:uE}[t]||dE;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:hE,detach:hE,resize:hE}[t]||rE)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return Ik(e,t,n,r)}isAttached(e){const t=e&&kk(e);return!(!t||!t.isConnected)}}class pE{constructor(){Sw(this,"x",void 0),Sw(this,"y",void 0),Sw(this,"active",!1),Sw(this,"options",void 0),Sw(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Bx(this.x)&&Bx(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function mE(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(gE(t,c,u,ax(r)?0:o-r,o),e=0,n=a-1;e<n;e++)gE(t,c,u,s[e],s[e+1]);return gE(t,c,u,l,ax(r)?t.length:l+r),c}return gE(t,c,u),c}function gE(e,t,n,r,i){const s=hx(r,0),a=Math.min(hx(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}Sw(pE,"defaults",{}),Sw(pE,"defaultRoutes",void 0);const vE=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,yE=(e,t)=>Math.min(t||e,e);function bE(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function wE(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function xE(e){return e.drawTicks?e.tickLength:0}function _E(e,t){if(!e.display)return 0;const n=Z_(e.font,t),r=$_(e.padding);return(ox(e.text)?e.text.length:1)*n.lineHeight+r.height}function kE(e,t,n){let r=a_(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class SE extends pE{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=ux(e,Number.POSITIVE_INFINITY),t=ux(t,Number.NEGATIVE_INFINITY),n=ux(n,Number.POSITIVE_INFINITY),r=ux(r,Number.NEGATIVE_INFINITY),{min:ux(e,n),max:ux(t,r),minDefined:cx(e),maxDefined:cx(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ux(n,ux(r,n)),max:ux(r,ux(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fx(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=dx(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?bE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=mE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fx(this.options.afterUpdate,[this])}beforeSetDimensions(){fx(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fx(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fx(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fx(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=fx(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){fx(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fx(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=yE(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Xx(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),a=this.maxHeight-xE(e.grid)-t.padding-_E(e.title,this.chart.options.font),o=Math.sqrt(u*u+h*h),l=Wx(Math.min(Math.asin(Xx((c.highest.height+6)/s,-1,1)),Math.asin(Xx(a/o,-1,1))-Math.asin(Xx(h/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){fx(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fx(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=_E(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=xE(i)+s):(e.height=this.maxHeight,e.width=xE(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Vx(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;o?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fx(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ax(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=bE(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/yE(t,n));let l,c,u,h,d,f,p,m,g,v,y,b=0,w=0;for(l=0;l<t;l+=o){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},m=d.lineHeight,g=v=0,ax(h)||ox(h)){if(ox(h))for(c=0,u=h.length;c<u;++c)y=h[c],ax(y)||ox(y)||(g=D_(r,p.data,p.gc,g,y),v+=m)}else g=D_(r,p.data,p.gc,g,h),v=m;s.push(g),a.push(v),b=Math.max(g,b),w=Math.max(v,w)}!function(e,t){px(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const x=s.indexOf(b),_=a.indexOf(w),k=e=>({width:s[e]||0,height:a[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Xx(this._alignToPixels?I_(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return ek(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=ek(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Vx(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=xE(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(e){return I_(n,e,f)};let g,v,y,b,w,x,_,k,S,E,C,T;if("top"===s)g=m(this.bottom),x=this.bottom-u,k=g-p,E=m(e.top)+p,T=e.bottom;else if("bottom"===s)g=m(this.top),E=e.top,T=m(e.bottom)-p,x=g+p,k=this.top+u;else if("left"===s)g=m(this.right),w=this.right-u,_=g-p,S=m(e.left)+p,C=e.right;else if("right"===s)g=m(this.left),S=e.left,C=m(e.right)-p,w=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(lx(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,T=e.bottom,x=g+p,k=x+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(lx(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}w=g-p,_=w-u,S=e.left,C=e.right}const N=hx(r.ticks.maxTicksLimit,c),D=Math.max(1,Math.ceil(c/N));for(v=0;v<c;v+=D){const e=this.getContext(v),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=wE(this,v,o),void 0!==y&&(b=I_(n,y,s),l?w=_=S=C=b:x=k=E=T=b,h.push({tx1:w,ty1:x,tx2:_,ty2:k,x1:S,y1:E,x2:C,y2:T,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,h=xE(n.grid),d=h+c,f=u?-c:d,p=-Vx(this.labelRotation),m=[];let g,v,y,b,w,x,_,k,S,E,C,T,N="middle";if("top"===r)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("x"===t){if("center"===r)x=(e.top+e.bottom)/2+d;else if(lx(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-d;else if(lx(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===o?N="top":"end"===o&&(N="bottom"));const D=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){y=a[g],b=y.label;const e=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),E=S.lineHeight,C=ox(b)?b.length:1;const t=C/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(w=k,"inner"===_&&(d=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===l||0!==p?-C*E+E/2:"center"===l?-D.highest.height/2-t*E+E:-D.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?D.highest.height/2-t*E:D.highest.height-C*E,u&&(T*=-1),0===p||e.showLabelBackdrop||(w+=E/2*Math.sin(p))):(x=k,T=(1-C)*E/2),e.showLabelBackdrop){const t=$_(e.backdropPadding),n=D.heights[g],r=D.widths[g];let i=T-t.top,s=0-t.left;switch(N){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===v-1?s-=r:g>0&&(s-=r/2)}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:S,textOffset:T,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:d,textBaseline:N,translation:[w,x],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Vx(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=I_(e,this.left,s)-s/2,c=I_(e,this.right,a)+a/2,u=h=o):(u=I_(e,this.top,s)-s/2,h=I_(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&R_(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;V_(t,i.label,0,i.textOffset,n,e)}n&&L_(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Z_(n.font),s=$_(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||lx(t)?(o+=s.bottom,ox(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=a-i,g=o-s;if(e.isHorizontal()){if(d=o_(r,s,o),lx(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:vE(e,n,t);h=o-s}else{if(lx(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-g+t}else d="center"===n?(c.left+c.right)/2-g+t:vE(e,n,t);f=o_(r,a,i),p="left"===n?-jx:jx}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,o,t,a);V_(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:kE(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=hx(e.grid&&e.grid.z,-1),r=hx(e.border&&e.border.z,0);return this._isVisible()&&this.draw===SE.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Z_(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class EE{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=bx(Object.create(null),[n?N_.get(n):{},N_.get(t),e.defaults]);N_.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");N_.route(s,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&N_.describe(t,e.descriptors)}(e,s,n),this.override&&N_.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in N_[r]&&(delete N_[r][n],this.override&&delete k_[n])}}class CE{constructor(){this.controllers=new EE(hS,"datasets",!0),this.elements=new EE(pE,"elements"),this.plugins=new EE(Object,"plugins"),this.scales=new EE(SE,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):px(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=Sx(e);fx(n["before"+r],[],n),t[e](n),fx(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var TE=new CE;class NE{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===fx(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){ax(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=hx(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(TE.plugins.items);for(let s=0;s<r.length;s++)n.push(TE.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=DE(n[t],r);null!==i&&a.push({plugin:l,options:AE(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function DE(e,t){return t||!1!==e?!0===e?{}:e:null}function AE(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function IE(e,t){const n=N_.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function OE(e){if("x"===e||"y"===e||"r"===e)return e}function jE(e){if(OE(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&OE(e[0].toLowerCase());if(t)return t}var i;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function ME(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function PE(e,t){const n=k_[e.type]||{scales:{}},r=t.scales||{},i=IE(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!lx(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=jE(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return ME(e,"x",n[0])||ME(e,"y",n[0])}return{}}(t,e),N_.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=wx(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,a=n.indexAxis||IE(i,t),o=(k_[i]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),wx(s[i],[{axis:t},r[i],o[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];wx(t,[N_.scales[t.type],N_.scale])})),s}function RE(e){const t=e.options||(e.options={});t.plugins=hx(t.plugins,{}),t.scales=PE(e,t)}function LE(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const FE=new Map,zE=new Set;function BE(e,t){let n=FE.get(e);return n||(n=t(),FE.set(e,n),zE.add(n)),n}const UE=(e,t,n)=>{const r=kx(t,n);void 0!==r&&e.add(r)};class VE{constructor(e){this._config=function(e){return(e=e||{}).data=LE(e.data),RE(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return BE(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return BE("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return BE("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return BE("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>UE(o,e,t)))),t.forEach((e=>UE(o,r,e))),t.forEach((e=>UE(o,k_[i]||{},e))),t.forEach((e=>UE(o,N_,e))),t.forEach((e=>UE(o,S_,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),zE.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,k_[t]||{},N_.datasets[t]||{},{type:t},N_,S_]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=WE(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=rk(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(Cx(a)||HE(a))||s&&ox(a))return!0}return!1}(s,t)){i.$shared=!1;o=nk(s,n=Cx(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=WE(this._resolverCache,e,n);return lx(t)?nk(i,t,void 0,r):i}}function WE(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:tk(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const HE=e=>lx(e)&&Object.getOwnPropertyNames(e).some((t=>Cx(e[t])));const qE=["top","bottom","left","right","chartArea"];function KE(e,t){return"top"===e||"bottom"===e||-1===qE.indexOf(e)&&"x"===t}function GE(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function YE(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),fx(n&&n.onComplete,[e],t)}function QE(e){const t=e.chart,n=t.options.animation;fx(n&&n.onProgress,[e],t)}function XE(e){return _k()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const $E={},ZE=e=>{const t=XE(e);return Object.values($E).filter((e=>e.canvas===t)).pop()};function JE(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function eC(e,t,n){return e.options.clip?e[n]:t[n]}class tC{static register(){TE.add(...arguments),nC()}static unregister(){TE.remove(...arguments),nC()}constructor(e,t){const n=this.config=new VE(t),r=XE(e),i=ZE(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!_k()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?ZS:fE}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=sx(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],$E[this.id]=this,a&&o?(Qk.listen(this,"complete",YE),Qk.listen(this,"progress",QE),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return ax(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return TE}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ok(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return O_(this.canvas,this.ctx),this}stop(){return Qk.stop(this),this}resize(e,t){Qk.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Ok(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),fx(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){px(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=jE(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),px(i,(t=>{const i=t.options,s=i.id,a=jE(s,i),o=hx(i.type,t.dtype);void 0!==i.position&&KE(i.position,a)===KE(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(TE.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),px(r,((e,t)=>{e||delete n[t]})),px(n,(e=>{XS.configure(this,e,e.options),XS.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(GE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||IE(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=TE.getController(s),{datasetElementType:r,dataElementType:a}=N_.datasets[s];Object.assign(t,{dataElementType:TE.getElement(a),datasetElementType:r&&TE.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){px(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||px(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(GE("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){px(this.scales,(e=>{XS.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Tx(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){JE(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!Tx(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;XS.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],px(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Cx(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qk.has(this)?this.attached&&!Qk.running(this)&&Qk.start(this):(this.draw(),YE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:eC(n,t,"left"),right:eC(n,t,"right"),top:eC(r,t,"top"),bottom:eC(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&R_(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&L_(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return P_(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=LS.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=ek(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);Ex(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qk.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),O_(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete $E[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};px(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){px(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},px(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!mx(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,fx(i.onHover,[e,a,this],this),o&&fx(i.onClick,[e,a,this],this));const c=!mx(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function nC(){return px(tC.instances,(e=>e._plugins.invalidate()))}function rC(e,t,n,r){const i=Y_(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Xx(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Xx(i.innerStart,0,a),innerEnd:Xx(i.innerEnd,0,a)}}function iC(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function sC(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const m=(p-Math.max(.001,p*h-n/Nx)/h)/2,g=l+m+f,v=i-m-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=rC(t,d,h,v-g),_=h-y,k=h-b,S=g+y/_,E=v-b/k,C=d+w,T=d+x,N=g+w/C,D=v-x/T;if(e.beginPath(),s){const t=(S+E)/2;if(e.arc(a,o,h,S,t),e.arc(a,o,h,t,E),b>0){const t=iC(k,E,a,o);e.arc(t.x,t.y,b,E,v+jx)}const n=iC(T,v,a,o);if(e.lineTo(n.x,n.y),x>0){const t=iC(T,D,a,o);e.arc(t.x,t.y,x,v+jx,D+Math.PI)}const r=(v-x/d+(g+w/d))/2;if(e.arc(a,o,d,v-x/d,r,!0),e.arc(a,o,d,r,g+w/d,!0),w>0){const t=iC(C,N,a,o);e.arc(t.x,t.y,w,N+Math.PI,g-jx)}const i=iC(_,g,a,o);if(e.lineTo(i.x,i.y),y>0){const t=iC(_,S,a,o);e.arc(t.x,t.y,y,g-jx,S)}}else{e.moveTo(a,o);const t=Math.cos(S)*h+a,n=Math.sin(S)*h+o;e.lineTo(t,n);const r=Math.cos(E)*h+a,i=Math.sin(E)*h+o;e.lineTo(r,i)}e.closePath()}function aC(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){sC(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(p=a+(o%Dx||Dx))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+jx,r-jx),e.closePath(),e.clip()}(e,t,p),s||(sC(e,t,n,r,p,i),e.stroke())}Sw(tC,"defaults",N_),Sw(tC,"instances",$E),Sw(tC,"overrides",k_),Sw(tC,"registry",TE),Sw(tC,"version","4.4.4"),Sw(tC,"getChart",ZE);class oC extends pE{constructor(e){super(),Sw(this,"circumference",void 0),Sw(this,"endAngle",void 0),Sw(this,"fullCircles",void 0),Sw(this,"innerRadius",void 0),Sw(this,"outerRadius",void 0),Sw(this,"pixelMargin",void 0),Sw(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=qx(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=hx(u,o-a),f=Qx(i,a,o)&&a!==o,p=d>=Dx||f,m=$x(s,l+h,c+h);return p&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(s+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Dx?Math.floor(n/Dx):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(Nx,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){sC(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%Dx||Dx))}sC(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),aC(e,this,o,i,s),e.restore()}}function lC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=hx(n.borderCapStyle,t.borderCapStyle),e.setLineDash(hx(n.borderDash,t.borderDash)),e.lineDashOffset=hx(n.borderDashOffset,t.borderDashOffset),e.lineJoin=hx(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=hx(n.borderWidth,t.borderWidth),e.strokeStyle=hx(n.borderColor,t.borderColor)}function cC(e,t,n){e.lineTo(n.x,n.y)}function uC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function hC(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=uC(i,n,r),u=function(e){return e.stepped?F_:e.tension||"monotone"===e.cubicInterpolationMode?z_:cC}(s);let h,d,f,{move:p=!0,reverse:m}=r||{};for(h=0;h<=c;++h)d=i[(o+(m?c-h:h))%a],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,m,s.stepped),f=d);return l&&(d=i[(o+(m?c:0))%a],u(e,f,d,m,s.stepped)),!!l}function dC(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=uC(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,m,g=0,v=0;const y=e=>(a+(c?o-e:e))%s,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(h=i[y(0)],e.moveTo(h.x,h.y)),u=0;u<=o;++u){if(h=i[y(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),d=r,v=0,f=p=n),m=n}b()}function fC(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?dC:hC}Sw(oC,"id","arc"),Sw(oC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Sw(oC,"defaultRoutes",{backgroundColor:"backgroundColor"}),Sw(oC,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const pC="function"===typeof Path2D;function mC(e,t,n,r){pC&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),lC(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=fC(t);for(const o of i)lC(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class gC extends pE{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;xk(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return qk(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Hk(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?Rk:e.tension||"monotone"===e.cubicInterpolationMode?Lk:Pk}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=o(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return fC(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=fC(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),mC(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function vC(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}Sw(gC,"id","line"),Sw(gC,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Sw(gC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Sw(gC,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class yC extends pE{constructor(e){super(),Sw(this,"parsed",void 0),Sw(this,"skip",void 0),Sw(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return vC(this,e,"x",t)}inYRange(e,t){return vC(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!P_(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,j_(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function bC(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,h;return e.horizontal?(h=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,o=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function wC(e,t,n,r){return e?0:Xx(t,n,r)}function xC(e){const t=bC(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Q_(r);return{t:wC(i.top,s.top,0,n),r:wC(i.right,s.right,0,t),b:wC(i.bottom,s.bottom,0,n),l:wC(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=X_(i),a=Math.min(t,n),o=e.borderSkipped,l=r||lx(i);return{topLeft:wC(!l||o.top||o.left,s.topLeft,0,a),topRight:wC(!l||o.top||o.right,s.topRight,0,a),bottomLeft:wC(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:wC(!l||o.bottom||o.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function _C(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&bC(e,r);return a&&(i||$x(t,a.left,a.right))&&(s||$x(n,a.top,a.bottom))}function kC(e,t){e.rect(t.x,t.y,t.w,t.h)}function SC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}Sw(yC,"id","point"),Sw(yC,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Sw(yC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class EC extends pE{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=xC(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?W_:kC;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,SC(s,t,i)),e.clip(),a(e,SC(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,SC(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return _C(this,e,t,n)}inXRange(e,t){return _C(this,e,null,t)}inYRange(e,t){return _C(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Sw(EC,"id","bar"),Sw(EC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Sw(EC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const CC=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class TC extends pE{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=fx(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Z_(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=CC(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),o[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=NC(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&d+g+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),o[s]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=Fk(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=o_(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=o_(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=o_(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=o_(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;R_(e,this),this._draw(),L_(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=N_.color,o=Fk(e.rtl,this.left,this.width),l=Z_(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=CC(s,u),g=this.isHorizontal(),v=this._computeTitleHeight();d=g?{x:o_(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:o_(i,this.top+v+c,this.bottom-t[0].height),line:0},zk(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=f+h+x;let S=d.x,E=d.y;o.setWidth(this.width),g?w>0&&S+k+c>this.right&&(E=d.y+=y,d.line++,S=d.x=o_(i,this.left+c,this.right-n[d.line])):w>0&&E+y>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,E=d.y=o_(i,this.top+v+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=hx(n.lineWidth,1);if(r.fillStyle=hx(n.fillStyle,a),r.lineCap=hx(n.lineCap,"butt"),r.lineDashOffset=hx(n.lineDashOffset,0),r.lineJoin=hx(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=hx(n.strokeStyle,a),r.setLineDash(hx(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);M_(r,a,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=X_(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?W_(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),E,b),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+h,g?S+k:this.right,e.rtl),function(e,t,n){V_(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),E,b),g)d.x+=k+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=NC(b,e)+c}else d.y+=y})),Bk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Z_(t.font),r=$_(t.padding);if(!t.display)return;const i=Fk(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=o_(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+o_(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=o_(a,u,u+h);s.textAlign=i.textAlign(a_(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,V_(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Z_(e.font),n=$_(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if($x(e,this.left,this.right)&&$x(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],$x(e,r.left,r.left+r.width)&&$x(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&fx(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&fx(t.onHover,[e,n,this],this)}else n&&fx(t.onClick,[e,n,this],this)}}function NC(e,t){return t*(e.text?e.text.length:0)}var DC={id:"legend",_element:TC,start(e,t,n){const r=e.legend=new TC({ctx:e.ctx,options:n,chart:e});XS.configure(e,r,n),XS.addBox(e,r)},stop(e){XS.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;XS.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=$_(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class AC extends pE{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=ox(n.text)?n.text.length:1;this._padding=$_(n.padding);const i=r*Z_(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=o_(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=o_(a,r,t),u=-.5*Nx):(l=i-e,c=o_(a,t,r),u=.5*Nx),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Z_(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);V_(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:a_(t.align),textBaseline:"middle",translation:[i,s]})}}var IC={id:"title",_element:AC,start(e,t,n){!function(e,t){const n=new AC({ctx:e.ctx,options:t,chart:e});XS.configure(e,n,t),XS.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;XS.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;XS.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const OC={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Kx(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function jC(e,t){return t&&(ox(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function MC(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function PC(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function RC(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=Z_(t.bodyFont),c=Z_(t.titleFont),u=Z_(t.footerFont),h=s.length,d=i.length,f=r.length,p=$_(t.padding);let m=p.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,px(e.title,b),n.font=l.string,px(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?a+2+t.boxPadding:0,px(r,(e=>{px(e.before,b),px(e.lines,b),px(e.after,b)})),y=0,n.font=u.string,px(e.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function LC(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function FC(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||LC(e,t,n,r),yAlign:r}}function zC(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=X_(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,d)+i:"right"===o&&(p+=Math.max(h,f)+i),{x:Xx(p,0,r.width-t.width),y:Xx(m,0,r.height-t.height)}}function BC(e,t,n){const r=$_(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function UC(e){return jC([],MC(e))}function VC(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const WC={beforeTitle:ix,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ix,beforeBody:ix,beforeLabel:ix,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ax(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ix,afterBody:ix,beforeFooter:ix,footer:ix,afterFooter:ix};function HC(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?WC[t].call(n,r):i}class qC extends pE{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Jk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ek(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=HC(n,"beforeTitle",this,e),i=HC(n,"title",this,e),s=HC(n,"afterTitle",this,e);let a=[];return a=jC(a,MC(r)),a=jC(a,MC(i)),a=jC(a,MC(s)),a}getBeforeBody(e,t){return UC(HC(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return px(e,(e=>{const t={before:[],lines:[],after:[]},i=VC(n,e);jC(t.before,MC(HC(i,"beforeLabel",this,e))),jC(t.lines,HC(i,"label",this,e)),jC(t.after,MC(HC(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return UC(HC(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=HC(n,"beforeFooter",this,e),i=HC(n,"footer",this,e),s=HC(n,"afterFooter",this,e);let a=[];return a=jC(a,MC(r)),a=jC(a,MC(i)),a=jC(a,MC(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(PC(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),px(l,(t=>{const n=VC(e.callbacks,t);r.push(HC(n,"labelColor",this,t)),i.push(HC(n,"labelPointStyle",this,t)),s.push(HC(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=OC[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=RC(this,n),a=Object.assign({},e,t),o=FC(this.chart,n,a),l=zC(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=X_(a),{x:h,y:d}=e,{width:f,height:p}=t;let m,g,v,y,b,w;return"center"===i?(b=d+p/2,"left"===r?(m=h,g=m-s,y=b+s,w=b-s):(m=h+f,g=m+s,y=b-s,w=b+s),v=m):(g="left"===r?h+Math.max(o,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(y=d,b=y-s,m=g-s,v=g+s):(y=d+p,b=y+s,m=g+s,v=g-s),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=Fk(n.rtl,this.x,this.width);for(e.x=BC(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Z_(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=Z_(i.bodyFont),u=BC(this,"left",i),h=r.x(u),d=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,j_(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,j_(e,t,n,c)}else{e.lineWidth=lx(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=X_(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,W_(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),W_(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=Z_(n.bodyFont);let h=u.lineHeight,d=0;const f=Fk(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},m=f.textAlign(s);let g,v,y,b,w,x,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=BC(this,m,n),t.fillStyle=n.bodyColor,px(this.beforeBody,p),d=a&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,x=r.length;b<x;++b){for(g=r[b],v=this.labelTextColors[b],t.fillStyle=v,px(g.before,p),y=g.lines,a&&y.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,o)),w=0,_=y.length;w<_;++w)p(y[w]),h=u.lineHeight;px(g.after,p)}d=0,h=u.lineHeight,px(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=Fk(n.rtl,this.x,this.width);for(e.x=BC(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Z_(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=X_(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-h,o),t.quadraticCurveTo(a+l,o,a+l,o+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+d,o+c),t.quadraticCurveTo(a,o+c,a,o+c-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=OC[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=RC(this,e),a=Object.assign({},n,this._size),o=FC(t,e,a),l=zC(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=$_(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),zk(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Bk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!mx(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!mx(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=OC[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}Sw(qC,"positioners",OC);var KC={id:"tooltip",_element:qC,positioners:OC,afterInit(e,t,n){n&&(e.tooltip=new qC({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function GC(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function YC(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class QC extends SE{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ax(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Xx(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:GC(n,e,hx(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return YC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function XC(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:m}=t,g=!ax(s),v=!ax(a),y=!ax(l),b=(m-p)/(u+1);let w,x,_,k,S=zx((m-p)/f/d)*d;if(S<1e-14&&!g&&!v)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>f&&(S=zx(k*S/f/d)*d),ax(o)||(w=Math.pow(10,o),S=Math.ceil(S*w)/w),"ticks"===r?(x=Math.floor(p/S)*S,_=Math.ceil(m/S)*S):(x=p,_=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,S/1e3)?(k=Math.round(Math.min((a-s)/S,c)),S=(a-s)/k,x=s,_=a):y?(x=g?s:x,_=v?a:_,k=l-1,S=(_-x)/k):(k=(_-x)/S,k=Fx(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const E=Math.max(Hx(S),Hx(x));w=Math.pow(10,ax(o)?E:o),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let C=0;for(g&&(h&&x!==s?(n.push({value:s}),x<s&&C++,Fx(Math.round((x+C*S)*w)/w,s,$C(s,b,e))&&C++):x<s&&C++);C<k;++C){const e=Math.round((x+C*S)*w)/w;if(v&&e>a)break;n.push({value:e})}return v&&h&&_!==a?n.length&&Fx(n[n.length-1].value,a,$C(a,b,e))?n[n.length-1].value=a:n.push({value:a}):v&&_!==a||n.push({value:_}),n}function $C(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Vx(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}Sw(QC,"id","category"),Sw(QC,"defaults",{ticks:{callback:YC}});class ZC extends SE{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ax(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Lx(r),t=Lx(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=XC({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ux(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return w_(e,this.chart.options.locale,this.options.ticks.format)}}class JC extends ZC{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cx(e)?e:0,this.max=cx(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Vx(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Sw(JC,"id","linear"),Sw(JC,"defaults",{ticks:{callback:__.formatters.numeric}});const eT=e=>Math.floor(Rx(e)),tT=(e,t)=>Math.pow(10,eT(e)+t);function nT(e){return 1===e/Math.pow(10,eT(e))}function rT(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function iT(e,t){let{min:n,max:r}=t;n=ux(e.min,n);const i=[],s=eT(n);let a=function(e,t){let n=eT(t-e);for(;rT(e,t,n)>10;)n++;for(;rT(e,t,n)<10;)n--;return Math.min(n,eT(e))}(n,r),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=s>a?Math.pow(10,s):0,u=Math.round((n-c)*o)/o,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,a)),f=ux(e.min,Math.round((c+h+d*Math.pow(10,a))*o)/o);for(;f<r;)i.push({value:f,major:nT(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),f=Math.round((c+h+d*Math.pow(10,a))*o)/o;const p=ux(e.max,f);return i.push({value:p,major:nT(p),significand:d}),i}class sT extends SE{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=ZC.prototype.parse.apply(this,[e,t]);if(0!==n)return cx(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cx(e)?Math.max(0,e):null,this.max=cx(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cx(this._userMin)&&(this.min=e===tT(this.min,0)?tT(this.min,-1):tT(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(tT(n,-1)),s(tT(r,1)))),n<=0&&i(tT(r,-1)),r<=0&&s(tT(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=iT({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Ux(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":w_(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rx(e),this._valueRange=Rx(this.max)-Rx(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rx(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function aT(e){const t=e.ticks;if(t.display&&e.display){const e=$_(t.backdropPadding);return hx(t.font&&t.font.size,N_.font.size)+e.height}return 0}function oT(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function lT(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?Nx/s:0;for(let h=0;h<s;h++){const s=a.setContext(e.getPointLabelContext(h));i[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],o),f=Z_(s.font),p=(l=e.ctx,c=f,u=ox(u=e._pointLabels[h])?u:[u],{w:A_(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const m=Yx(e.getIndexAngle(h)+o),g=Math.round(Wx(m));cT(n,t,m,oT(g,d.x,p.w,0,180),oT(g,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:aT(s)/2,additionalAngle:a?Nx/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=uT(e,u,l);r.push(i),"auto"===o&&(i.visible=hT(i,c),i.visible&&(c=i))}return r}(e,r,i)}function cT(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function uT(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),c=Math.round(Wx(Yx(l.angle+jx))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+o.w,bottom:u+o.h}}function hT(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(P_({x:n,y:r},t)||P_({x:n,y:s},t)||P_({x:i,y:r},t)||P_({x:i,y:s},t))}function dT(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!ax(o)){const n=X_(t.borderRadius),l=$_(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=a-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),W_(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function fT(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Dx);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}Sw(sT,"id","logarithmic"),Sw(sT,"defaults",{ticks:{callback:__.formatters.logarithmic,major:{enabled:!0}}});class pT extends ZC{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=$_(aT(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=cx(e)&&!isNaN(e)?e:0,this.max=cx(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aT(this.options))}generateTickLabels(e){ZC.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=fx(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?lT(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Yx(e*(Dx/(this._pointLabels.length||1))+Vx(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ax(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ax(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return ek(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-jx+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),fT(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));dT(n,s,t);const a=Z_(s.font),{x:o,y:l,textAlign:c}=t;V_(n,e._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),fT(e,n,a,r),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}})),n.display){for(e.save(),a=s-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=Z_(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=$_(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}V_(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}Sw(pT,"id","radialLinear"),Sw(pT,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:__.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Sw(pT,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Sw(pT,"descriptors",{angleLines:{_fallback:"grid"}});const mT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gT=Object.keys(mT);function vT(e,t){return e-t}function yT(e,t){if(ax(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),cx(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!Bx(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function bT(e,t,n,r){const i=gT.length;for(let s=gT.indexOf(e);s<i-1;++s){const e=mT[gT[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return gT[s]}return gT[i-1]}function wT(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Zx(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function xT(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class _T extends SE{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new AS(e.adapters.date);r.init(t),wx(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:yT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=cx(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=cx(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?bT(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=gT.length-1;s>=gT.indexOf(n);s--){const n=gT[s];if(mT[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return gT[n?gT.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=gT.indexOf(e)+1,n=gT.length;t<n;++t)if(mT[gT[t]].common)return gT[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),xT(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Xx(r,0,s),i=Xx(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||bT(i.minUnit,t,n,this._getLabelCapacity(t)),a=hx(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=Bx(o)||!0===o,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",o)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,a,s),h++)wT(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||wT(c,u,f),Object.keys(c).sort(vT).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return fx(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Vx(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,xT(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(yT(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return r_(e.sort(vT))}}function kT(e,t,n){let r,i,s,a,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Jx(e,"pos",t)),({pos:r,time:s}=e[o]),({pos:i,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Jx(e,"time",t)),({time:r,pos:s}=e[o]),({time:i,pos:a}=e[l]));const c=i-r;return c?s+(a-s)*(t-r)/c:s}Sw(_T,"id","time"),Sw(_T,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class ST extends _T{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=kT(t,this.min),this._tableRange=kT(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],o=r[s-1],l=r[s],Math.round((c+o)/2)!==l&&i.push({time:l,pos:s/(a-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(kT(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return kT(this._table,n*this._tableRange+this._minPos,!0)}}Sw(ST,"id","timeseries"),Sw(ST,"defaults",_T.defaults);const ET="label";function CT(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function TT(e,t){e.labels=t}function NT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ET;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function DT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ET;const n={labels:[],datasets:[]};return TT(n,e.labels),NT(n,e.datasets,t),n}function AT(t,n){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,e.useRef)(null),m=(0,e.useRef)(),g=()=>{p.current&&(m.current=new tC(p.current,{type:o,data:DT(l,a),options:c&&{...c},plugins:u}),CT(n,m.current))},v=()=>{CT(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,e.useEffect)((()=>{!s&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[s,c]),(0,e.useEffect)((()=>{!s&&m.current&&TT(m.current.config.data,l.labels)}),[s,l.labels]),(0,e.useEffect)((()=>{!s&&m.current&&l.datasets&&NT(m.current.config.data,l.datasets,a)}),[s,l.datasets]),(0,e.useEffect)((()=>{m.current&&(s?(v(),setTimeout(g)):m.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,e.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[o]),(0,e.useEffect)((()=>(g(),()=>v())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},f),h)}const IT=(0,e.forwardRef)(AT);function OT(t,n){return tC.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(IT,Object.assign({},n,{ref:r,type:t}))))}const jT=OT("line",kS),MT=OT("bar",wS),PT=OT("pie",ES);tC.register(IC,KC,DC,EC,QC,JC);const RT=e=>{let{attendanceStats:t}=e;const n={labels:t.map((e=>e.fullname)),datasets:[{label:"Sessions Attended",data:t.map((e=>e.totalSessions)),backgroundColor:"#36A2EB"}]};return(0,Jp.jsxs)("div",{className:"bar-chart-container",children:[(0,Jp.jsx)("h3",{children:"Sessions Attended by Members"}),(0,Jp.jsx)(MT,{data:n})]})};tC.register(IC,KC,DC,oC);const LT=e=>{let{totalMembers:t,participatingMembersTotal:n}=e;const r={labels:["Participating Members","Non-Participating Members"],datasets:[{data:[n,t-n],backgroundColor:["#36A2EB","#FF6384"]}]};return(0,Jp.jsx)("div",{className:"pie-chart-container",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{children:(0,Jp.jsx)("h3",{children:"Participation"})}),(0,Jp.jsx)("article",{children:(0,Jp.jsx)(PT,{data:r})})]})})};tC.register(IC,KC,DC,gC,QC,JC,yC);const FT=e=>{let{sessions:t}=e;if(!t||!Array.isArray(t)||0===t.length)return(0,Jp.jsxs)("div",{className:"line-chart-container",children:[(0,Jp.jsx)("h5",{children:"Sessions Over Time"}),(0,Jp.jsx)("p",{children:"No session data available."})]});try{const e=t.sort(((e,t)=>new Date(e.date)-new Date(t.date))),n=e.map((e=>{if(!e.date)throw new Error("Invalid session date");return e.date})),r={labels:n,datasets:[{label:"Attendance Count",data:e.map((e=>{if(!e.membersPresent||!Array.isArray(e.membersPresent))throw new Error("Invalid session members data");return e.membersPresent.length})),borderColor:"#36A2EB",backgroundColor:"rgba(54, 162, 235, 0.2)"}]};return(0,Jp.jsxs)("div",{className:"line-chart-container",children:[(0,Jp.jsx)("h5",{children:"Attendance Over Time"}),(0,Jp.jsx)(jT,{data:r})]})}catch(n){return console.error("Error processing session data: ",n),(0,Jp.jsxs)("div",{className:"line-chart-container",children:[(0,Jp.jsx)("h5",{children:"Attendance Over Time"}),(0,Jp.jsx)("p",{children:"Error loading session data. Please try again later."})]})}},zT=t=>{let{members:n,sessions:r,bacentas:i}=t;const[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)([]),v=(0,e.useRef)(null);(0,e.useEffect)((()=>{var e,t;a(null===(e=Xg(n,r))||void 0===e?void 0:e.sort(((e,t)=>t.totalSessions-e.totalSessions))),l(null===(t=$g(n))||void 0===t?void 0:t.sort(((e,t)=>t.prayerHours-e.prayerHours))),u(Zg(n)),d(Jg(r)),p(ev(r)),g(((e,t)=>e.map((e=>{const n=t.filter((t=>t.bacenta===e.id));return{bacentaName:e.name,leader:e.leader,totalSessions:n.length,sessions:n.map((e=>({date:e.date,area:e.area,teacher:e.teacher,topic:e.details,membersPresent:e.membersPresent})))}})))(i,r))}),[n,r,i]);const y=()=>{const e=(null===n||void 0===n?void 0:n.length)||0;if(0===e)return{totalMembers:5,participatingMembersTotal:6};const t=s.filter((e=>e.totalSessions>0));return{totalMembers:e,participatingMembersTotal:t.length}};return(0,Jp.jsxs)("div",{className:"insights-container",children:[(0,Jp.jsx)("h2",{className:"insights-header",children:"Church Insights"}),(0,Jp.jsxs)("section",{className:"insight-card pie-chart-card",children:[(0,Jp.jsx)(LT,{totalMembers:y().totalMembers,participatingMembersTotal:y().participatingMembersTotal}),(0,Jp.jsx)("div",{className:"summary-text",children:(()=>{const e=(null===n||void 0===n?void 0:n.length)||0;if(0===e)return"No members available to calculate participation.";const t=s.filter((e=>e.totalSessions>0)).length,r=Math.round(t/e*100);return"Total Members: ".concat(e," | Participation: ").concat(r,"% (").concat(t," out of ").concat(e,").")})()})]}),(0,Jp.jsx)("section",{className:"insight-card",children:(0,Jp.jsxs)("details",{ref:v,children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Attendance Stats"]})}),(0,Jp.jsxs)("article",{className:"insight-content",children:[(0,Jp.jsx)(RT,{attendanceStats:s}),(0,Jp.jsx)("ul",{className:"insight-list",children:s.sort().map(((e,t)=>(0,Jp.jsxs)("li",{className:"insight-item ".concat(0===(null===e||void 0===e?void 0:e.totalSessions)?"highlight-bad":""),children:[e.fullname,": Attended ",e.totalSessions," sessions"]},t)))})]})]})}),(0,Jp.jsx)("section",{className:"insight-card",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Prayer Hours"]})}),(0,Jp.jsx)("article",{className:"insight-content",children:(0,Jp.jsx)("ul",{className:"insight-list",children:o.map(((e,t)=>(0,Jp.jsxs)("li",{className:"insight-item",children:[e.fullname,": ",e.prayerHours," hours"]},t)))})})]})}),(0,Jp.jsx)("section",{className:"insight-card",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Upcoming Birthdays"]})}),(0,Jp.jsx)("article",{className:"insight-content",children:(0,Jp.jsx)("ul",{className:"insight-list",children:c.map(((e,t)=>(0,Jp.jsxs)("li",{className:"insight-item",children:[e.fullname,": ",vm(new Date(e.birthday).toLocaleDateString())]},t)))})})]})}),(0,Jp.jsx)("section",{className:"insight-card",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Teacher Engagements"]})}),(0,Jp.jsx)("article",{className:"insight-content",children:(0,Jp.jsx)("ul",{className:"insight-list",children:h.map(((e,t)=>(0,Jp.jsxs)("li",{className:"insight-item",children:[e.teacher,": Led ",e.sessionCount," sessions"]},t)))})})]})}),(0,Jp.jsx)("section",{className:"insight-card session-topics-card",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Session Topics"]})}),(0,Jp.jsx)("article",{className:"insight-content",children:(0,Jp.jsx)("ul",{className:"insight-list",children:f.map(((e,t)=>{var r;return(0,Jp.jsxs)("li",{className:"session-topic-item",children:[(0,Jp.jsxs)("strong",{children:[e.teacher," "]}),"taught on ",(0,Jp.jsxs)("strong",{children:['"',e.topic,'"']})," at ",e.area," ",e.date,(0,Jp.jsx)("ol",{className:"members-list",children:null===(r=e.membersPresent)||void 0===r?void 0:r.map((e=>{var t;return(0,Jp.jsx)("li",{children:null===(t=n.find((t=>t.id===e)))||void 0===t?void 0:t.fullname},e)}))})]},t)}))})})]})}),(0,Jp.jsx)("section",{className:"insight-card bacenta-session-card",children:(0,Jp.jsxs)("details",{children:[(0,Jp.jsx)("summary",{className:"insight-summary",children:(0,Jp.jsxs)("h3",{children:[(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-down"})," Bacenta Sessions"]})}),(0,Jp.jsx)("article",{className:"insight-content-bacenta-session",children:(0,Jp.jsx)("ul",{className:"insight-list-bacenta-session",children:m.map(((e,t)=>(0,Jp.jsxs)("li",{className:"session-item-bacenta-session",children:[(0,Jp.jsxs)("div",{className:"session-info",children:[(0,Jp.jsx)("strong",{className:"bacenta-name",children:e.bacentaName}),(0,Jp.jsxs)("span",{className:"leader-info",children:["by ",e.leader]}),(0,Jp.jsxs)("p",{className:"session-count",children:["Total sessions: ",e.totalSessions]})]}),(0,Jp.jsx)("div",{className:"chart-wrapper",children:(0,Jp.jsx)(FT,{sessions:null===e||void 0===e?void 0:e.sessions})})]},t)))})})]})})]})},BT=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{const e=await tv();e&&n(e)}catch(e){l(e.message)}})(),(async()=>{try{const e=await Dm();e&&i(e)}catch(e){l(e.message)}})(),(async()=>{try{const e=await Nm();e&&a(e)}catch(e){l(e.message)}})()}),[]),(0,Jp.jsx)("div",{children:r&&t&&s&&(0,Jp.jsx)(zT,{members:r,sessions:t,bacentas:s})})},UT=()=>{const[t,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)(0);(0,e.useEffect)((()=>{null===sessionStorage.getItem("showFeatureReminder")&&sessionStorage.setItem("showFeatureReminder","true");const e=setInterval((()=>{i((e=>(e+1)%s.length))}),4e3);return()=>clearInterval(e)}),[]);const s=[{icon:"fa-home",title:"Home",description:"Calendar"},{icon:"fa-comments",title:"Chat",description:"Chat with members in real-time."},{icon:"fa-line-chart",title:"Insights",description:"View performance."},{icon:"fa-users",title:"Members",description:"Manage and view member details."},{icon:"fa-cloud-download",title:"Media",description:"Access uploaded media files."},{icon:"fa-pencil-square",title:"Plan",description:"Organize and schedule events."},{icon:"fa-calendar",title:"Session",description:"Track and review session details."},{icon:"fa-address-book",title:"Outreach",description:"Record outreach member."},{icon:"fa-globe",title:"Bacenta",description:"Manage Bacenta locations and groups."}],a=[s[r],s[(r+1)%s.length],s[(r+2)%s.length]];return t?(0,Jp.jsxs)("div",{className:"feature-reminder",children:[(0,Jp.jsx)("button",{className:"feature-reminder-close",onClick:()=>{n(!1),sessionStorage.setItem("showFeatureReminder","false")},children:(0,Jp.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})}),(0,Jp.jsx)("h2",{children:"Let me remind you"}),(0,Jp.jsx)("div",{className:"feature-list",children:a.map(((e,t)=>(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("i",{className:"fa ".concat(e.icon),"aria-hidden":"true"}),(0,Jp.jsxs)("div",{className:"feature-content",children:[(0,Jp.jsx)("span",{children:e.title}),(0,Jp.jsx)("p",{children:e.description})]})]},t)))})]}):null},VT=()=>{const[t,n]=(0,e.useState)(0),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]);return(0,e.useEffect)((()=>{(async()=>{const e=await Nm();if(null!==e&&void 0!==e&&e.length){n(e.length);const t=[...e].sort(((e,t)=>{var n,r;return((null===(n=t.members)||void 0===n?void 0:n.length)||0)-((null===(r=e.members)||void 0===r?void 0:r.length)||0)}));a([...new Set(null===e||void 0===e?void 0:e.map((e=>e.leader)))]),i(t)}else i([])})()}),[]),(0,Jp.jsxs)("div",{className:"bacenta-insights-container",children:[(0,Jp.jsx)("h2",{children:"Bacenta Insights"}),(0,Jp.jsxs)("div",{className:"insight-card",children:[(0,Jp.jsx)("h3",{children:"Total Bacentas"}),(0,Jp.jsx)("p",{children:(0,Jp.jsx)("strong",{children:t})})]}),(0,Jp.jsx)("div",{className:"insight-card",children:(0,Jp.jsx)("p",{children:(0,Jp.jsx)("ol",{children:r.map((e=>{var t;return(0,Jp.jsxs)("li",{children:[e.name," ",(0,Jp.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," ",(null===(t=e.members)||void 0===t?void 0:t.length)||0]})}))})})}),(0,Jp.jsxs)("div",{className:"insight-card",children:[(0,Jp.jsxs)("h3",{children:["Unique Leaders - ",s.length]}),(0,Jp.jsx)("p",{children:(0,Jp.jsx)("ol",{children:s.map((e=>(0,Jp.jsx)("li",{children:e})))})})]})]})},WT=e=>{var t,n;let{bacenta:r,onEdit:i,onRemove:s}=e;return(0,Jp.jsxs)("div",{className:"bacenta-details-container",children:[(0,Jp.jsx)("h2",{children:r.name}),(0,Jp.jsxs)("span",{children:[(0,Jp.jsx)("i",{className:"fa fa-clock","aria-hidden":"true"}),r.created]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:"Leader:"})," ",r.leader]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:(0,Jp.jsx)("i",{className:"fa fa-info-circle","aria-hidden":"true"})})," ",r.zone]}),(0,Jp.jsxs)("fieldset",{className:"bacenta-fieldset",children:[(0,Jp.jsxs)("legend",{children:[(0,Jp.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})," ",(0,Jp.jsx)("span",{className:"member-total-number",children:null===r||void 0===r||null===(t=r.members)||void 0===t?void 0:t.length})]}),(0,Jp.jsx)("ul",{className:"member-list",children:null===(n=r.members)||void 0===n?void 0:n.map((e=>(0,Jp.jsx)("li",{children:e.fullname},e.id)))})]}),(0,Jp.jsxs)("div",{className:"details-buttons",children:[(0,Jp.jsx)("button",{className:"edit-button",onClick:()=>i(r),children:"Edit"}),(0,Jp.jsxs)("button",{className:"go-back-button",onClick:s,children:[(0,Jp.jsx)("i",{className:"fa fa-arrow-circle-left","aria-hidden":"true"}),"Go back"]})]})]})},HT=t=>{let{currentBacenta:n,setCurrentBacenta:r,onCloseForm:i}=t;const[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)([]),[b,w]=(0,e.useState)(""),[x,_]=(0,e.useState)(!1),[k,S]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{try{const e=await Dm();e&&g(e)}catch(e){S("Failed to fetch members")}})()}),[]),(0,e.useEffect)((()=>{y(m&&f?(null===m||void 0===m?void 0:m.filter((e=>!(null!==f&&void 0!==f&&f.some((t=>e.id===t.id))))))||[]:m||[])}),[m,f]),(0,e.useEffect)((()=>{n?(a(n.name),l(n.leader),u(n.zone),p(n.members||[]),n.created?d(n.created):wm().then((e=>d(e)))):(a(""),l(""),u(""))}),[n]);return(0,Jp.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={name:s,leader:o,zone:c,members:f,created:h};w("Loading...");try{if(n)await(async(e,t)=>{try{const n=Dd(Sm,"bacentas",e);await xf(n,t),Tm.createActivity("Bacenta updated","updated a bacenta")}catch(n){console.error("Error updating bacenta: ",n)}})(n.id,t),w("Bacenta updated successfully!");else{const e=await wm();await(async e=>{try{await kf(Nd(Sm,"bacentas"),e),Tm.createActivity("Bacenta added","added a bacenta")}catch(t){console.error("Error adding bacenta: ",t)}})({...t,created:e}),w("Bacenta added successfully!")}r(null)}catch(i){S("Failed to save Bacenta. Please try again.")}},className:"bacenta-form",children:[(0,Jp.jsx)("h2",{children:n?"Edit Bacenta":"Add Bacenta"}),(0,Jp.jsxs)("div",{className:"form-field",children:[(0,Jp.jsx)("label",{htmlFor:"name",children:"Bacenta Name"}),(0,Jp.jsx)("input",{id:"name",type:"text",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,Jp.jsxs)("div",{className:"form-field",children:[(0,Jp.jsx)("label",{htmlFor:"leader",children:"Leader"}),(0,Jp.jsx)("input",{id:"leader",type:"text",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Jp.jsxs)("div",{className:"form-field",children:[(0,Jp.jsx)("label",{htmlFor:"zone",children:"Description"}),(0,Jp.jsx)("textarea",{id:"zone",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,Jp.jsxs)("fieldset",{className:"bacenta-fieldset",children:[(0,Jp.jsx)("legend",{children:(0,Jp.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})}),(0,Jp.jsx)("ul",{className:"member-list",children:null===f||void 0===f?void 0:f.map((e=>(0,Jp.jsxs)("li",{children:[e.fullname,(0,Jp.jsx)("i",{className:"fa fa-user-minus remove-icon","aria-hidden":"true",onClick:()=>(e=>{const t=f.filter((t=>t.id!==e));p(t)})(e.id)})]},e.id)))})]}),x?(0,Jp.jsxs)("fieldset",{className:"bacenta-fieldset",children:[(0,Jp.jsx)("legend",{children:"Choose Member"}),(0,Jp.jsx)("ul",{className:"member-list",children:v.map((e=>(0,Jp.jsxs)("li",{children:[e.fullname,(0,Jp.jsx)("i",{className:"fa fa-user-plus add-icon","aria-hidden":"true",onClick:()=>(e=>{if(!e)return;const t={fullname:null===e||void 0===e?void 0:e.fullname,id:null===e||void 0===e?void 0:e.id,cellnumber:null===e||void 0===e?void 0:e.cellnumber};p(f?[...f,t]:[t])})(e)})]},e.id)))}),(0,Jp.jsx)("button",{type:"button",className:"add-new-button",onClick:()=>_(!1),children:"Hide"})]}):(0,Jp.jsxs)("button",{type:"button",className:"add-new-button",onClick:()=>_(!0),children:[(0,Jp.jsx)("i",{className:"fa fa-user-plus add-icon","aria-hidden":"true"}),"View all"]}),b&&(0,Jp.jsx)("p",{className:"status-message",children:b}),k&&(0,Jp.jsx)("p",{className:"error-message",children:k}),(0,Jp.jsxs)("div",{className:"button-group",children:[(0,Jp.jsx)("button",{type:"submit",className:"bacenta-form-button",children:n?"Update":"Add"}),n&&(0,Jp.jsx)("button",{className:"remove-button",onClick:async()=>{await(async e=>{try{const t=Dd(Sm,"bacentas",e);await _f(t),Tm.createActivity("Bacenta deleted","deleted a bacenta")}catch(t){console.error("Error deleting bacenta: ",t)}})(n.id)},children:"Remove"}),(0,Jp.jsx)("button",{type:"button",onClick:i,className:"remove-button",children:"Close"})]})]})},qT=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{var e;const t=null===(e=[...await Nm()])||void 0===e?void 0:e.sort(((e,t)=>{var n,r;return((null===(n=t.members)||void 0===n?void 0:n.length)||0)-((null===(r=e.members)||void 0===r?void 0:r.length)||0)}));n(t||[])})()}),[r]);const o=e=>{i(e),a(!0)};return(0,Jp.jsxs)("div",{className:"bacenta-list-container",children:[(0,Jp.jsxs)("h2",{children:["All Bacentas",(0,Jp.jsxs)("button",{className:"create-new-button",onClick:()=>{i(null),a(!0)},children:[(0,Jp.jsx)("i",{className:"fa fa-plus"})," Create New"]})]}),s&&(0,Jp.jsx)("div",{className:"bacenta-form-wrapper",children:(0,Jp.jsx)(HT,{currentBacenta:r,setCurrentBacenta:i,onSubmit:()=>{a(!1)},onCloseForm:()=>a(!1)})}),!r&&(0,Jp.jsx)("div",{className:"bacenta-cards-container",children:t.map((e=>{var t;return(0,Jp.jsxs)("div",{className:"bacenta-card",onClick:()=>i(e),children:[(0,Jp.jsx)("button",{className:"fa fa-edit top-right-aligned-button",onClick:t=>{t.stopPropagation(),o(e)}}),(0,Jp.jsx)("h3",{children:e.name}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"})," ",e.leader]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("i",{className:"fa fa-location-arrow","aria-hidden":"true"})," ",e.zone]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," ",null===(t=e.members)||void 0===t?void 0:t.length]})]},e.id)}))}),r&&(0,Jp.jsx)(WT,{bacenta:r,onEdit:o,onRemove:()=>i(null)})]})},KT=()=>(0,Jp.jsx)("div",{children:"Your bacentas will appear here"}),GT=()=>{const e=[{key:"insights",label:"Insights",component:(0,Jp.jsx)(VT,{})},{key:"list",label:"All",component:(0,Jp.jsx)(qT,{})},{key:"user",label:"For you",component:(0,Jp.jsx)(KT,{})}];return(0,Jp.jsx)("div",{children:(0,Jp.jsx)(hv,{views:e})})},YT=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=async()=>{try{const e=[...await Tm.getLogActivities()].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));n(e)}catch(e){console.error("Error fetching activities:",e),a("Failed to load activities. Please try again.")}finally{i(!1)}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[]);const c=t.filter((e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())));return(0,Jp.jsxs)("div",{className:"activities-container",children:[(0,Jp.jsx)("h1",{children:"User Activities"}),(0,Jp.jsx)("div",{className:"search-filter-activities",children:(0,Jp.jsx)("input",{className:"search-query-filter-activities",onChange:e=>l(e.target.value),placeholder:"Search",value:o})}),r?(0,Jp.jsx)("div",{className:"loading",children:"Loading activities..."}):s?(0,Jp.jsx)("div",{className:"error",children:s}):(0,Jp.jsx)("div",{className:"activities-list",children:c.length>0?c.map((e=>{var t;return(0,Jp.jsxs)("div",{className:"activity-card",children:[(0,Jp.jsx)("div",{className:"activity-title",children:e.title}),(0,Jp.jsx)("p",{className:"activity-description",children:e.description}),(0,Jp.jsx)("span",{className:"activity-date",children:null===(t=e.createdAt)||void 0===t?void 0:t.substring(0,19).replace("T","  ")}),(0,Jp.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{await Tm.deleteActivity(e)}catch(t){console.error("Error deleting activity:",t),a("Failed to delete activity. Please try again.")}})(e.id),children:(0,Jp.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]},e.id)})):(0,Jp.jsx)("p",{children:"No activities found."})})]})},QT=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!0),h=JSON.parse(sessionStorage.getItem("sccuser")),d=async()=>{u(!0);try{const e=await(async()=>(await bf(Nd(Sm,"messages"))).docs.map((e=>({id:e.id,...e.data()}))))(),t=null===e||void 0===e?void 0:e.sort(((e,t)=>{var n,r;return new Date(null===(n=t.timestamp)||void 0===n?void 0:n.replace(" \u231a ","T"))-new Date(null===(r=e.timestamp)||void 0===r?void 0:r.replace(" \u231a ","T"))}));t&&n(t)}catch(e){console.error("Error fetching messages:",e)}finally{u(!1)}},f=async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{await(async e=>{try{const t=Dd(Sm,"messages",e);await _f(t),Tm.createActivity("Message deleted","deleted a message")}catch(t){console.error("Error deleting message: ",t)}})(e),d()}catch(t){console.error("Error deleting message:",t)}},p=()=>{a(null),l("")},m=async()=>{if(o.trim())try{await(async(e,t)=>{try{const n=Dd(Sm,"messages",e);await xf(n,t),Tm.createActivity("Message updated","updated a message")}catch(n){console.error("Error updating message: ",n)}})(s,{text:o,timestamp:xm()}),a(null),l(""),d()}catch(e){console.error("Error updating message:",e)}};return(0,e.useEffect)((()=>{d()}),[]),(0,Jp.jsxs)("div",{className:"messaging-container",children:[c?(0,Jp.jsxs)("div",{className:"loading-indicator",children:[(0,Jp.jsx)("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"})," Loading..."]}):(0,Jp.jsx)("div",{className:"message-list",children:t.map((e=>(0,Jp.jsx)("div",{className:"message-bubble",children:s===e.id?(0,Jp.jsxs)("div",{className:"edit-mode",children:[(0,Jp.jsx)("textarea",{type:"text",value:o,onChange:e=>l(e.target.value)}),(0,Jp.jsx)("button",{onClick:m,children:"Save"}),(0,Jp.jsx)("button",{onClick:p,children:"Cancel"})]}):(0,Jp.jsxs)(Jp.Fragment,{children:[(0,Jp.jsx)("div",{children:e.text}),(0,Jp.jsx)("small",{children:e.timestamp}),(0,Jp.jsxs)("div",{className:"message-actions",children:[(0,Jp.jsx)("button",{onClick:()=>{return a((t=e).id),void l(t.text);var t},children:(0,Jp.jsx)("i",{className:"fa fa-pencil-square","aria-hidden":"true"})}),(0,Jp.jsx)("button",{onClick:()=>f(e.id),children:(0,Jp.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]})]})},e.id)))}),(0,Jp.jsxs)("div",{className:"message-input",children:[(0,Jp.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Type a message..."}),(0,Jp.jsx)("button",{onClick:async()=>{if(r.trim())try{await(async e=>{try{await kf(Nd(Sm,"messages"),e),Tm.createActivity("Message sent","sent a message")}catch(t){console.error("Error sending message: ",t)}})({text:"".concat(r,"\n\n- ").concat(null===h||void 0===h?void 0:h.fullname),timestamp:xm()}),i(""),d()}catch(e){console.error("Error sending message:",e)}},children:"Send"})]})]})},XT=t=>{let{currentUserId:n,currentUserName:r}=t;const[i,s]=(0,e.useState)(0);return(0,e.useEffect)((()=>{(async()=>{try{const e=await Tm.getUserNotifications(n,r);s(e.length)}catch(e){console.error("Error fetching notifications:",e)}})()}),[n]),(0,Jp.jsxs)(hw,{to:"/notifications",className:"notification-icon",children:[(0,Jp.jsx)("i",{className:"fa fa-bell icon"}),i>0&&(0,Jp.jsx)("span",{className:"notification-count",children:i})]})},$T=()=>{const[t,n]=(0,e.useState)("dashboard"),[r,i]=(0,e.useState)(!1),s=JSON.parse(sessionStorage.getItem("sccuser")),a=e=>{n(e)};return(0,Jp.jsxs)("div",{className:"app-layout",children:[(0,Jp.jsxs)("aside",{className:"sidebar ".concat(r?"open":""),children:[(0,Jp.jsx)("div",{className:"sidebar-logo",children:(0,Jp.jsx)("h2",{children:(0,Jp.jsx)("i",{className:"fa fa-chevron-circle-right","aria-hidden":"true"})})}),(0,Jp.jsx)("nav",{className:"sidebar-nav",children:(0,Jp.jsxs)("ul",{children:[(0,Jp.jsxs)("li",{className:"dashboard"===t?"active":"",onClick:()=>a("dashboard"),children:[(0,Jp.jsx)("i",{className:"fa fa-home"})," ",(0,Jp.jsx)("span",{children:" Home"})]}),(0,Jp.jsxs)("li",{className:"message"===t?"active":"",onClick:()=>a("message"),children:[(0,Jp.jsx)("i",{className:"fa fa-comments"})," ",(0,Jp.jsx)("span",{children:" Chat"})]}),(0,Jp.jsxs)("li",{className:"analytics"===t?"active":"",onClick:()=>a("analytics"),children:[(0,Jp.jsx)("i",{className:"fa fa-line-chart"})," ",(0,Jp.jsx)("span",{children:" Insights"})]}),(0,Jp.jsxs)("li",{className:"members"===t?"active":"",onClick:()=>a("members"),children:[(0,Jp.jsx)("i",{className:"fa fa-users"})," ",(0,Jp.jsx)("span",{children:" Members"})]}),(0,Jp.jsxs)("li",{className:"media"===t?"active":"",onClick:()=>a("media"),children:[(0,Jp.jsx)("i",{className:"fa fa-cloud-download"})," ",(0,Jp.jsx)("span",{children:" Media"})]}),(0,Jp.jsxs)("li",{className:"plan"===t?"active":"",onClick:()=>a("plan"),children:[(0,Jp.jsx)("i",{className:"fa fa-pencil-square"})," ",(0,Jp.jsx)("span",{children:" Plan"})]}),(0,Jp.jsxs)("li",{className:"session"===t?"active":"",onClick:()=>a("session"),children:[(0,Jp.jsx)("i",{className:"fa fa-calendar"})," ",(0,Jp.jsx)("span",{children:" Session"})]}),(0,Jp.jsxs)("li",{className:"outreach"===t?"active":"",onClick:()=>a("outreach"),children:[(0,Jp.jsx)("i",{className:"fa fa-address-book"})," ",(0,Jp.jsx)("span",{children:" Outreach"})]}),(0,Jp.jsxs)("li",{className:"bacenta"===t?"active":"",onClick:()=>a("bacenta"),children:[(0,Jp.jsx)("i",{className:"fa fa-globe"})," ",(0,Jp.jsx)("span",{children:" Bacenta"})]}),(0,Jp.jsxs)("li",{className:"actions"===t?"active":"",onClick:()=>a("actions"),children:[(0,Jp.jsx)("i",{className:"fa fa-user-secret"})," ",(0,Jp.jsx)("span",{children:" Actions"})]})]})})]}),(0,Jp.jsxs)("div",{className:"main-content",children:[(0,Jp.jsxs)("header",{className:"top-navbar",children:[(0,Jp.jsx)("div",{className:"search-bar",children:(0,Jp.jsx)("h2",{children:"SCC"})}),(0,Jp.jsxs)("div",{className:"navbar-actions",children:[s&&s.id&&(0,Jp.jsx)(XT,{currentUserId:s.id,currentUserName:s.fullname}),(0,Jp.jsxs)("button",{onClick:()=>a("profile"),className:"profile-switch-button",children:[(0,Jp.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"}),null===s||void 0===s?void 0:s.fullname.split(" ")[0][0],null===s||void 0===s?void 0:s.fullname.split(" ")[1][0]]})]})]}),(0,Jp.jsxs)("section",{className:"view-container",children:["dashboard"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)("div",{className:"main-page-section",children:(0,Jp.jsx)(pw,{})})}),"message"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(QT,{})}),"analytics"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(BT,{})}),"members"===t&&(0,Jp.jsxs)("div",{children:[" ",(0,Jp.jsx)(uv,{})]}),"media"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(cm,{})}),"session"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(pv,{})}),"plan"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(yw,{})}),"outreach"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(xw,{})}),"bacenta"===t&&(0,Jp.jsx)("div",{children:(0,Jp.jsx)(GT,{})}),"profile"===t&&(0,Jp.jsx)("div",{children:s&&(0,Jp.jsx)(av,{member:s})}),"actions"===t&&(0,Jp.jsx)("div",{children:s&&(0,Jp.jsx)(YT,{})})]})]}),(0,Jp.jsx)(mv,{}),(0,Jp.jsx)(UT,{})]})};const ZT=new class{constructor(){this.members=[],this.currentUser=null}async updateMember(e,t){try{const t=await mm(e);return this.logActivity("User ".concat(t.fullname," updated their profile.")),t}catch(n){throw console.error("Error updating member:",n),n}}async removeMember(e){try{const t=await gm(e);return this.logActivity("User ".concat(t.fullname," was removed.")),t}catch(t){throw console.error("Error removing member:",t),t}}async getMemberById(e){try{const t=await(async e=>{const t=Dd(um,"members",e),n=await vf(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Member not found")})(e);return t}catch(t){throw console.error("Error fetching member by ID:",t),t}}async login(e,t){try{this.members=await pm();const e=this.members.find((e=>e.cellnumber===t));if(e)return this.currentUser=e,this.logActivity("User ".concat(e.fullname," logged in.")),Tm.createActivity("Logged","".concat(e.fullname," logged in.")),e;throw new Error("Invalid username or password")}catch(n){throw console.error("Login error:",n),n}}async logout(){this.currentUser&&(this.logActivity("User ".concat(this.currentUser.fullname," logged out.")),this.currentUser=null)}logActivity(e){console.log("[Activity Log]: ".concat(e))}async register(e){return await this.addMember(e)}},JT=(0,e.createContext)(),eN=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("sccuser"));e&&(a(e),i(!0))}),[]),(0,Jp.jsx)(JT.Provider,{value:{isAuthenticated:r,user:s,login:async(e,t)=>{try{const n=await ZT.login(e,t);if(n)return sessionStorage.setItem("sccuser",JSON.stringify(n)),a(n),i(!0),!0}catch(n){return!1}},logout:()=>{sessionStorage.removeItem("sccuser"),a(null),i(!1),window.location.href="/login"}},children:n})},tN=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(null),{login:s}=(0,e.useContext)(JT),a=Dg();return(0,Jp.jsxs)("div",{className:"login-container",children:[(0,Jp.jsx)("h2",{children:"Login"}),r&&(0,Jp.jsx)("p",{className:"error",children:r}),(0,Jp.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i("");await s("",t)?a("/mainpage"):i("Invalid username or password")},children:[(0,Jp.jsxs)("div",{children:[(0,Jp.jsx)("label",{children:"Enter code"}),(0,Jp.jsx)("input",{type:"password",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,Jp.jsx)("button",{type:"submit",children:"Login"}),(0,Jp.jsx)(hw,{to:"/register",children:"New? Click here to register"})]})]})},nN=t=>{let{children:n}=t;const{isAuthenticated:r}=(0,e.useContext)(JT);return setTimeout((()=>{if(!r)return(0,Jp.jsx)(Wg,{to:"/login"})}),2e3),n},rN=()=>{const e=Dg();return(0,Jp.jsx)("div",{className:"welcome-container",children:(0,Jp.jsxs)("div",{className:"welcome-content",children:[(0,Jp.jsx)("h1",{children:"Welcome to SCC Media Manager"}),(0,Jp.jsx)("p",{children:"Our platform allows you to easily view:"}),(0,Jp.jsxs)("div",{className:"feature-cards",children:[(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("h3",{children:"Church Calendar"}),(0,Jp.jsx)("p",{children:"View and manage upcoming church events, bacentas and schedules."})]}),(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("h3",{children:"Track Attendance"}),(0,Jp.jsx)("p",{children:"Keep track of member attendance effortlessly."})]}),(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("h3",{children:"Plan Events"}),(0,Jp.jsx)("p",{children:"Plan and coordinate church events with ease."})]}),(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("h3",{children:"Stay Updated"}),(0,Jp.jsx)("p",{children:"Receive all important announcements in real-time."})]}),(0,Jp.jsxs)("div",{className:"feature-card",children:[(0,Jp.jsx)("h3",{children:"Track Prayer Hours"}),(0,Jp.jsx)("p",{children:"Monitor prayer hours for members and sessions."})]})]}),(0,Jp.jsx)("div",{className:"button-group",children:(0,Jp.jsx)("button",{className:"btn login-btn",onClick:()=>{e("/login")},children:"Get Started"})}),(0,Jp.jsx)("footer",{children:" \xa9\ufe0f Developed by A.L Jenete"})]})})},iN=()=>{const{id:t}=function(){let{matches:t}=e.useContext(Sg),n=t[t.length-1];return n?n.params:{}}(),[n,r]=(0,e.useState)(null),[i,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{s("");const e=await tv(),n=null===e||void 0===e?void 0:e.find((e=>e.id===t));n?r(n):s("Session not found")}catch(e){s("Failed to load session data")}})()}),[t]),(0,Jp.jsxs)("div",{className:"session-details-container",children:[i&&(0,Jp.jsx)("p",{className:"session-details-error",children:i}),n?(0,Jp.jsxs)(Jp.Fragment,{children:[(0,Jp.jsx)("h2",{className:"session-details-title",children:n.details}),(0,Jp.jsxs)("div",{className:"session-details-info",children:[(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:"Teacher:"})," ",n.teacher]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:"Area:"})," ",n.area]}),(0,Jp.jsxs)("p",{children:[(0,Jp.jsx)("strong",{children:"Date:"})," ",new Date(n.date).toLocaleDateString()]})]})]}):(0,Jp.jsx)("p",{className:"session-details-not-found",children:"Session not found"})]})},sN=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),s=JSON.parse(sessionStorage.getItem("sccuser"));return(0,e.useEffect)((()=>{s&&s.id&&(async()=>{try{const e=await Tm.getUserNotifications(s.id,s.fullname);n(e)}catch(e){console.error("Error fetching activities:",e)}finally{i(!1)}})()}),[]),r?(0,Jp.jsx)("div",{className:"notification-loading",children:"Loading notifications..."}):0===t.length?(0,Jp.jsx)("div",{className:"notification-empty",children:"No new notifications."}):(0,Jp.jsxs)("div",{className:"notification-container",children:[(0,Jp.jsx)("h3",{className:"notification-title",children:"Your Activities"}),(0,Jp.jsx)("ul",{className:"notification-list",children:t.map(((e,t)=>{var n,r;return(0,Jp.jsxs)("li",{className:"notification-item",children:[(0,Jp.jsx)("p",{className:"notification-description",children:null===(n=e.description)||void 0===n?void 0:n.replace(s.fullname,"You")}),(0,Jp.jsx)("p",{className:"notification-timestamp",children:null===(r=e.createdAt)||void 0===r?void 0:r.replace("T"," ")})]},t)}))}),(0,Jp.jsx)(mv,{})]})};const aN=function(){return(0,Jp.jsx)("div",{className:"App",children:(0,Jp.jsx)(eN,{children:(0,Jp.jsx)(lw,{children:(0,Jp.jsxs)(Kg,{children:[(0,Jp.jsx)(Hg,{path:"/",element:(0,Jp.jsx)(rN,{})}),(0,Jp.jsx)(Hg,{path:"/scc",element:(0,Jp.jsx)(rN,{})}),(0,Jp.jsx)(Hg,{path:"/login",element:(0,Jp.jsx)(tN,{})}),(0,Jp.jsx)(Hg,{path:"/register",element:(0,Jp.jsx)(Qg,{isNewMember:!0})}),(0,Jp.jsx)(Hg,{path:"/session/:id",element:(0,Jp.jsx)(iN,{})}),(0,Jp.jsx)(Hg,{path:"/notifications",element:(0,Jp.jsx)(sN,{})}),(0,Jp.jsx)(Hg,{path:"/mainpage",element:(0,Jp.jsx)(nN,{children:(0,Jp.jsx)($T,{})})})]})})})})};r.createRoot(document.getElementById("root")).render((0,Jp.jsx)(e.StrictMode,{children:(0,Jp.jsx)(aN,{})}))})()})();
//# sourceMappingURL=main.876b9f21.js.map